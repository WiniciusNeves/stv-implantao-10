(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();var Dh={exports:{}},Xa={},Oh={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function oE(){if(zg)return Oe;zg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,B={};function L(M,G,Ae){this.props=M,this.context=G,this.refs=B,this.updater=Ae||P}L.prototype.isReactComponent={},L.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=L.prototype;function X(M,G,Ae){this.props=M,this.context=G,this.refs=B,this.updater=Ae||P}var Y=X.prototype=new Q;Y.constructor=X,W(Y,L.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray,be=Object.prototype.hasOwnProperty,H={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function k(M,G,Ae){var Ee,De={},fe=null,Ce=null;if(G!=null)for(Ee in G.ref!==void 0&&(Ce=G.ref),G.key!==void 0&&(fe=""+G.key),G)be.call(G,Ee)&&!A.hasOwnProperty(Ee)&&(De[Ee]=G[Ee]);var Ve=arguments.length-2;if(Ve===1)De.children=Ae;else if(1<Ve){for(var Ke=Array(Ve),At=0;At<Ve;At++)Ke[At]=arguments[At+2];De.children=Ke}if(M&&M.defaultProps)for(Ee in Ve=M.defaultProps,Ve)De[Ee]===void 0&&(De[Ee]=Ve[Ee]);return{$$typeof:n,type:M,key:fe,ref:Ce,props:De,_owner:H.current}}function S(M,G){return{$$typeof:n,type:M.type,key:G,ref:M.ref,props:M.props,_owner:M._owner}}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function R(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Ae){return G[Ae]})}var V=/\/+/g;function C(M,G){return typeof M=="object"&&M!==null&&M.key!=null?R(""+M.key):G.toString(36)}function qe(M,G,Ae,Ee,De){var fe=typeof M;(fe==="undefined"||fe==="boolean")&&(M=null);var Ce=!1;if(M===null)Ce=!0;else switch(fe){case"string":case"number":Ce=!0;break;case"object":switch(M.$$typeof){case n:case e:Ce=!0}}if(Ce)return Ce=M,De=De(Ce),M=Ee===""?"."+C(Ce,0):Ee,ie(De)?(Ae="",M!=null&&(Ae=M.replace(V,"$&/")+"/"),qe(De,G,Ae,"",function(At){return At})):De!=null&&(D(De)&&(De=S(De,Ae+(!De.key||Ce&&Ce.key===De.key?"":(""+De.key).replace(V,"$&/")+"/")+M)),G.push(De)),1;if(Ce=0,Ee=Ee===""?".":Ee+":",ie(M))for(var Ve=0;Ve<M.length;Ve++){fe=M[Ve];var Ke=Ee+C(fe,Ve);Ce+=qe(fe,G,Ae,Ke,De)}else if(Ke=I(M),typeof Ke=="function")for(M=Ke.call(M),Ve=0;!(fe=M.next()).done;)fe=fe.value,Ke=Ee+C(fe,Ve++),Ce+=qe(fe,G,Ae,Ke,De);else if(fe==="object")throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ce}function dt(M,G,Ae){if(M==null)return M;var Ee=[],De=0;return qe(M,Ee,"","",function(fe){return G.call(Ae,fe,De++)}),Ee}function gt(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(Ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=Ae)},function(Ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=Ae)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var Qe={current:null},se={transition:null},ye={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:se,ReactCurrentOwner:H};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:dt,forEach:function(M,G,Ae){dt(M,function(){G.apply(this,arguments)},Ae)},count:function(M){var G=0;return dt(M,function(){G++}),G},toArray:function(M){return dt(M,function(G){return G})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Oe.Component=L,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=X,Oe.StrictMode=s,Oe.Suspense=m,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Oe.act=ae,Oe.cloneElement=function(M,G,Ae){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ee=W({},M.props),De=M.key,fe=M.ref,Ce=M._owner;if(G!=null){if(G.ref!==void 0&&(fe=G.ref,Ce=H.current),G.key!==void 0&&(De=""+G.key),M.type&&M.type.defaultProps)var Ve=M.type.defaultProps;for(Ke in G)be.call(G,Ke)&&!A.hasOwnProperty(Ke)&&(Ee[Ke]=G[Ke]===void 0&&Ve!==void 0?Ve[Ke]:G[Ke])}var Ke=arguments.length-2;if(Ke===1)Ee.children=Ae;else if(1<Ke){Ve=Array(Ke);for(var At=0;At<Ke;At++)Ve[At]=arguments[At+2];Ee.children=Ve}return{$$typeof:n,type:M.type,key:De,ref:fe,props:Ee,_owner:Ce}},Oe.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Oe.createElement=k,Oe.createFactory=function(M){var G=k.bind(null,M);return G.type=M,G},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(M){return{$$typeof:f,render:M}},Oe.isValidElement=D,Oe.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:gt}},Oe.memo=function(M,G){return{$$typeof:v,type:M,compare:G===void 0?null:G}},Oe.startTransition=function(M){var G=se.transition;se.transition={};try{M()}finally{se.transition=G}},Oe.unstable_act=ae,Oe.useCallback=function(M,G){return Qe.current.useCallback(M,G)},Oe.useContext=function(M){return Qe.current.useContext(M)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(M){return Qe.current.useDeferredValue(M)},Oe.useEffect=function(M,G){return Qe.current.useEffect(M,G)},Oe.useId=function(){return Qe.current.useId()},Oe.useImperativeHandle=function(M,G,Ae){return Qe.current.useImperativeHandle(M,G,Ae)},Oe.useInsertionEffect=function(M,G){return Qe.current.useInsertionEffect(M,G)},Oe.useLayoutEffect=function(M,G){return Qe.current.useLayoutEffect(M,G)},Oe.useMemo=function(M,G){return Qe.current.useMemo(M,G)},Oe.useReducer=function(M,G,Ae){return Qe.current.useReducer(M,G,Ae)},Oe.useRef=function(M){return Qe.current.useRef(M)},Oe.useState=function(M){return Qe.current.useState(M)},Oe.useSyncExternalStore=function(M,G,Ae){return Qe.current.useSyncExternalStore(M,G,Ae)},Oe.useTransition=function(){return Qe.current.useTransition()},Oe.version="18.3.1",Oe}var $g;function Mf(){return $g||($g=1,Oh.exports=oE()),Oh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function aE(){if(Hg)return Xa;Hg=1;var n=Mf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(f,m,v){var w,E={},I=null,P=null;v!==void 0&&(I=""+v),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(P=m.ref);for(w in m)s.call(m,w)&&!l.hasOwnProperty(w)&&(E[w]=m[w]);if(f&&f.defaultProps)for(w in m=f.defaultProps,m)E[w]===void 0&&(E[w]=m[w]);return{$$typeof:e,type:f,key:I,ref:P,props:E,_owner:o.current}}return Xa.Fragment=t,Xa.jsx=d,Xa.jsxs=d,Xa}var qg;function lE(){return qg||(qg=1,Dh.exports=aE()),Dh.exports}var p=lE(),Yu={},jh={exports:{}},nn={},Lh={exports:{}},Mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function uE(){return Wg||(Wg=1,(function(n){function e(se,ye){var ae=se.length;se.push(ye);e:for(;0<ae;){var M=ae-1>>>1,G=se[M];if(0<o(G,ye))se[M]=ye,se[ae]=G,ae=M;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var ye=se[0],ae=se.pop();if(ae!==ye){se[0]=ae;e:for(var M=0,G=se.length,Ae=G>>>1;M<Ae;){var Ee=2*(M+1)-1,De=se[Ee],fe=Ee+1,Ce=se[fe];if(0>o(De,ae))fe<G&&0>o(Ce,De)?(se[M]=Ce,se[fe]=ae,M=fe):(se[M]=De,se[Ee]=ae,M=Ee);else if(fe<G&&0>o(Ce,ae))se[M]=Ce,se[fe]=ae,M=fe;else break e}}return ye}function o(se,ye){var ae=se.sortIndex-ye.sortIndex;return ae!==0?ae:se.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var m=[],v=[],w=1,E=null,I=3,P=!1,W=!1,B=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(se){for(var ye=t(v);ye!==null;){if(ye.callback===null)s(v);else if(ye.startTime<=se)s(v),ye.sortIndex=ye.expirationTime,e(m,ye);else break;ye=t(v)}}function ie(se){if(B=!1,Y(se),!W)if(t(m)!==null)W=!0,gt(be);else{var ye=t(v);ye!==null&&Qe(ie,ye.startTime-se)}}function be(se,ye){W=!1,B&&(B=!1,Q(k),k=-1),P=!0;var ae=I;try{for(Y(ye),E=t(m);E!==null&&(!(E.expirationTime>ye)||se&&!R());){var M=E.callback;if(typeof M=="function"){E.callback=null,I=E.priorityLevel;var G=M(E.expirationTime<=ye);ye=n.unstable_now(),typeof G=="function"?E.callback=G:E===t(m)&&s(m),Y(ye)}else s(m);E=t(m)}if(E!==null)var Ae=!0;else{var Ee=t(v);Ee!==null&&Qe(ie,Ee.startTime-ye),Ae=!1}return Ae}finally{E=null,I=ae,P=!1}}var H=!1,A=null,k=-1,S=5,D=-1;function R(){return!(n.unstable_now()-D<S)}function V(){if(A!==null){var se=n.unstable_now();D=se;var ye=!0;try{ye=A(!0,se)}finally{ye?C():(H=!1,A=null)}}else H=!1}var C;if(typeof X=="function")C=function(){X(V)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,dt=qe.port2;qe.port1.onmessage=V,C=function(){dt.postMessage(null)}}else C=function(){L(V,0)};function gt(se){A=se,H||(H=!0,C())}function Qe(se,ye){k=L(function(){se(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){W||P||(W=!0,gt(be))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(se){switch(I){case 1:case 2:case 3:var ye=3;break;default:ye=I}var ae=I;I=ye;try{return se()}finally{I=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ye){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ae=I;I=se;try{return ye()}finally{I=ae}},n.unstable_scheduleCallback=function(se,ye,ae){var M=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?M+ae:M):ae=M,se){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,se={id:w++,callback:ye,priorityLevel:se,startTime:ae,expirationTime:G,sortIndex:-1},ae>M?(se.sortIndex=ae,e(v,se),t(m)===null&&se===t(v)&&(B?(Q(k),k=-1):B=!0,Qe(ie,ae-M))):(se.sortIndex=G,e(m,se),W||P||(W=!0,gt(be))),se},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(se){var ye=I;return function(){var ae=I;I=ye;try{return se.apply(this,arguments)}finally{I=ae}}}})(Mh)),Mh}var Kg;function cE(){return Kg||(Kg=1,Lh.exports=uE()),Lh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function dE(){if(Gg)return nn;Gg=1;var n=Mf(),e=cE();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){d(r,i),d(r+"Capture",i)}function d(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},E={};function I(r){return m.call(E,r)?!0:m.call(w,r)?!1:v.test(r)?E[r]=!0:(w[r]=!0,!1)}function P(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function W(r,i,a,c){if(i===null||typeof i>"u"||P(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function B(r,i,a,c,h,g,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=x}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new B(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];L[i]=new B(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new B(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new B(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new B(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new B(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new B(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new B(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new B(r,5,!1,r.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function X(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(Q,X);L[i]=new B(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(Q,X);L[i]=new B(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(Q,X);L[i]=new B(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new B(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new B(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,i,a,c){var h=L.hasOwnProperty(i)?L[i]:null;(h!==null?h.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(W(i,a,h,c)&&(a=null),c||h===null?I(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(i=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(i):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,be=Symbol.for("react.element"),H=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),se=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,M;function G(r){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+r}var Ae=!1;function Ee(r,i){if(!r||Ae)return"";Ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var c=$}Reflect.construct(r,[],i)}else{try{i.call()}catch($){c=$}r.call(i.prototype)}else{try{throw Error()}catch($){c=$}r()}}catch($){if($&&c&&typeof $.stack=="string"){for(var h=$.stack.split(`
`),g=c.stack.split(`
`),x=h.length-1,b=g.length-1;1<=x&&0<=b&&h[x]!==g[b];)b--;for(;1<=x&&0<=b;x--,b--)if(h[x]!==g[b]){if(x!==1||b!==1)do if(x--,b--,0>b||h[x]!==g[b]){var N=`
`+h[x].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=x&&0<=b);break}}}finally{Ae=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?G(r):""}function De(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=Ee(r.type,!1),r;case 11:return r=Ee(r.type.render,!1),r;case 1:return r=Ee(r.type,!0),r;default:return""}}function fe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case H:return"Portal";case S:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case qe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case R:return(r.displayName||"Context")+".Consumer";case D:return(r._context.displayName||"Context")+".Provider";case V:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case dt:return i=r.displayName||null,i!==null?i:fe(r.type)||"Memo";case gt:i=r._payload,r=r._init;try{return fe(r(i))}catch{}}return null}function Ce(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(i);case 8:return i===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ve(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function At(r){var i=Ke(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Yr(r){r._valueTracker||(r._valueTracker=At(r))}function Qs(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=Ke(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function $n(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Xr(r,i){var a=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function oe(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ve(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ge(r,i){i=i.checked,i!=null&&Y(r,"checked",i,!1)}function ke(r,i){ge(r,i);var a=Ve(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Xe(r,i.type,a):i.hasOwnProperty("defaultValue")&&Xe(r,i.type,Ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function le(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Xe(r,i,a){(i!=="number"||$n(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var rt=Array.isArray;function Yt(r,i,a,c){if(r=r.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=i.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Ve(a),i=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function ia(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function oa(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(rt(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Ve(a)}}function Ll(r,i){var a=Ve(i.value),c=Ve(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function Jr(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function aa(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bi(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?aa(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Zr,Ml=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,h)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Zr=Zr||document.createElement("div"),Zr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Zr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function Ys(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vl=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(r){Vl.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),es[i]=es[r]})});function ts(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||es.hasOwnProperty(r)&&es[r]?(""+i).trim():i+"px"}function zi(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=ts(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var la=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(r,i){if(i){if(la[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function $i(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function Hi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var wr=null,xr=null,ut=null;function ua(r){if(r=La(r)){if(typeof wr!="function")throw Error(t(280));var i=r.stateNode;i&&(i=du(i),wr(r.stateNode,r.type,i))}}function rs(r){xr?ut?ut.push(r):ut=[r]:xr=r}function ss(){if(xr){var r=xr,i=ut;if(ut=xr=null,ua(r),i)for(r=0;r<i.length;r++)ua(i[r])}}function Fl(r,i){return r(i)}function Ul(){}var Hn=!1;function Bl(r,i,a){if(Hn)return r(i,a);Hn=!0;try{return Fl(r,i,a)}finally{Hn=!1,(xr!==null||ut!==null)&&(Ul(),ss())}}function Xs(r,i){var a=r.stateNode;if(a===null)return null;var c=du(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var is=!1;if(f)try{var os={};Object.defineProperty(os,"passive",{get:function(){is=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{is=!1}function zl(r,i,a,c,h,g,x,b,N){var $=Array.prototype.slice.call(arguments,3);try{i.apply(a,$)}catch(Z){this.onError(Z)}}var Er=!1,qn=null,qi=!1,gn=null,$l={onError:function(r){Er=!0,qn=r}};function Hl(r,i,a,c,h,g,x,b,N){Er=!1,qn=null,zl.apply($l,arguments)}function ca(r,i,a,c,h,g,x,b,N){if(Hl.apply(this,arguments),Er){if(Er){var $=qn;Er=!1,qn=null}else throw Error(t(198));qi||(qi=!0,gn=$)}}function Sn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function da(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function ql(r){if(Sn(r)!==r)throw Error(t(188))}function Wl(r){var i=r.alternate;if(!i){if(i=Sn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,c=i;;){var h=a.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===a)return ql(h),r;if(g===c)return ql(h),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=h,c=g;else{for(var x=!1,b=h.child;b;){if(b===a){x=!0,a=h,c=g;break}if(b===c){x=!0,c=h,a=g;break}b=b.sibling}if(!x){for(b=g.child;b;){if(b===a){x=!0,a=g,c=h;break}if(b===c){x=!0,c=g,a=h;break}b=b.sibling}if(!x)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function Kl(r){return r=Wl(r),r!==null?Js(r):null}function Js(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Js(r);if(i!==null)return i;r=r.sibling}return null}var ha=e.unstable_scheduleCallback,Wi=e.unstable_cancelCallback,Zs=e.unstable_shouldYield,Tr=e.unstable_requestPaint,Ze=e.unstable_now,cd=e.unstable_getCurrentPriorityLevel,Ki=e.unstable_ImmediatePriority,fa=e.unstable_UserBlockingPriority,ei=e.unstable_NormalPriority,pa=e.unstable_LowPriority,Gi=e.unstable_IdlePriority,ti=null,on=null;function Gl(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ti,r,void 0,(r.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:ni,Wn=Math.log,yn=Math.LN2;function ni(r){return r>>>=0,r===0?32:31-(Wn(r)/yn|0)|0}var Kn=64,as=4194304;function He(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function kr(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,g=r.pingedLanes,x=a&268435455;if(x!==0){var b=x&~h;b!==0?c=He(b):(g&=x,g!==0&&(c=He(g)))}else x=a&~h,x!==0?c=He(x):g!==0&&(c=He(g));if(c===0)return 0;if(i!==0&&i!==c&&(i&h)===0&&(h=c&-c,g=i&-i,h>=g||h===16&&(g&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-an(i),h=1<<a,c|=r[a],i&=~h;return c}function ri(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes;0<g;){var x=31-an(g),b=1<<x,N=h[x];N===-1?((b&a)===0||(b&c)!==0)&&(h[x]=ri(b,i)):N<=i&&(r.expiredLanes|=b),g&=~b}}function ma(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ga(){var r=Kn;return Kn<<=1,(Kn&4194240)===0&&(Kn=64),r}function ya(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function ii(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-an(i),r[i]=a}function dd(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-an(a),g=1<<h;i[h]=0,c[h]=-1,r[h]=-1,a&=~g}}function va(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-an(a),h=1<<c;h&i|r[c]&i&&(r[c]|=i),a&=~h}}var Fe=0;function Gn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var _a,Qi,wa,xa,Ea,Qn=!1,Yi=[],Yn=null,Xn=null,Nt=null,oi=new Map,Ir=new Map,ln=[],Ql="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ls(r,i){switch(r){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":oi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(i.pointerId)}}function Cn(r,i,a,c,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},i!==null&&(i=La(i),i!==null&&Qi(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function Yl(r,i,a,c,h){switch(i){case"focusin":return Yn=Cn(Yn,r,i,a,c,h),!0;case"dragenter":return Xn=Cn(Xn,r,i,a,c,h),!0;case"mouseover":return Nt=Cn(Nt,r,i,a,c,h),!0;case"pointerover":var g=h.pointerId;return oi.set(g,Cn(oi.get(g)||null,r,i,a,c,h)),!0;case"gotpointercapture":return g=h.pointerId,Ir.set(g,Cn(Ir.get(g)||null,r,i,a,c,h)),!0}return!1}function Xi(r){var i=ci(r.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=da(a),i!==null){r.blockedOn=i,Ea(r.priority,function(){wa(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ye(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Ji(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);ns=c,a.target.dispatchEvent(c),ns=null}else return i=La(a),i!==null&&Qi(i),r.blockedOn=a,!1;i.shift()}return!0}function Xl(r,i,a){Ye(r)&&a.delete(i)}function hd(){Qn=!1,Yn!==null&&Ye(Yn)&&(Yn=null),Xn!==null&&Ye(Xn)&&(Xn=null),Nt!==null&&Ye(Nt)&&(Nt=null),oi.forEach(Xl),Ir.forEach(Xl)}function us(r,i){r.blockedOn===i&&(r.blockedOn=null,Qn||(Qn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hd)))}function cs(r){function i(h){return us(h,r)}if(0<Yi.length){us(Yi[0],r);for(var a=1;a<Yi.length;a++){var c=Yi[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Yn!==null&&us(Yn,r),Xn!==null&&us(Xn,r),Nt!==null&&us(Nt,r),oi.forEach(i),Ir.forEach(i),a=0;a<ln.length;a++)c=ln[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<ln.length&&(a=ln[0],a.blockedOn===null);)Xi(a),a.blockedOn===null&&ln.shift()}var br=ie.ReactCurrentBatchConfig,Sr=!0;function Jn(r,i,a,c){var h=Fe,g=br.transition;br.transition=null;try{Fe=1,Ta(r,i,a,c)}finally{Fe=h,br.transition=g}}function Jl(r,i,a,c){var h=Fe,g=br.transition;br.transition=null;try{Fe=4,Ta(r,i,a,c)}finally{Fe=h,br.transition=g}}function Ta(r,i,a,c){if(Sr){var h=Ji(r,i,a,c);if(h===null)Td(r,i,c,Zn,a),ls(r,c);else if(Yl(h,r,i,a,c))c.stopPropagation();else if(ls(r,c),i&4&&-1<Ql.indexOf(r)){for(;h!==null;){var g=La(h);if(g!==null&&_a(g),g=Ji(r,i,a,c),g===null&&Td(r,i,c,Zn,a),g===h)break;h=g}h!==null&&c.stopPropagation()}else Td(r,i,c,null,a)}}var Zn=null;function Ji(r,i,a,c){if(Zn=null,r=Hi(c),r=ci(r),r!==null)if(i=Sn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=da(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Zn=r,null}function Zi(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cd()){case Ki:return 1;case fa:return 4;case ei:case pa:return 16;case Gi:return 536870912;default:return 16}default:return 16}}var un=null,eo=null,Cr=null;function Zl(){if(Cr)return Cr;var r,i=eo,a=i.length,c,h="value"in un?un.value:un.textContent,g=h.length;for(r=0;r<a&&i[r]===h[r];r++);var x=a-r;for(c=1;c<=x&&i[a-c]===h[g-c];c++);return Cr=h.slice(r,1<c?1-c:void 0)}function ai(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function ka(){return!1}function Lt(r){function i(a,c,h,g,x){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(a=r[b],this[b]=a?a(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?er:ka,this.isPropagationStopped=ka,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),i}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Lt(tr),ds=ae({},tr,{view:0,detail:0}),to=Lt(ds),no,ro,cn,ui=ae({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Re,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==cn&&(cn&&r.type==="mousemove"?(no=r.screenX-cn.screenX,ro=r.screenY-cn.screenY):ro=no=0,cn=r),no)},movementY:function(r){return"movementY"in r?r.movementY:ro}}),Ia=Lt(ui),eu=ae({},ui,{dataTransfer:0}),tu=Lt(eu),so=ae({},ds,{relatedTarget:0}),Rt=Lt(so),nu=ae({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Lt(nu),hs=ae({},tr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Lt(hs),y=ae({},tr,{data:0}),_=Lt(y),T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function re(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=q[r])?!!i[r]:!1}function Re(){return re}var ht=ae({},ds,{key:function(r){if(r.key){var i=T[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ai(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?U[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Re,charCode:function(r){return r.type==="keypress"?ai(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ai(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ge=Lt(ht),yt=ae({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dn=Lt(yt),Ar=ae({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Re}),nr=Lt(Ar),rr=ae({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),io=Lt(rr),ba=ae({},ui,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ex=Lt(ba),tx=[9,13,27,32],fd=f&&"CompositionEvent"in window,Sa=null;f&&"documentMode"in document&&(Sa=document.documentMode);var nx=f&&"TextEvent"in window&&!Sa,Op=f&&(!fd||Sa&&8<Sa&&11>=Sa),jp=" ",Lp=!1;function Mp(r,i){switch(r){case"keyup":return tx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var oo=!1;function rx(r,i){switch(r){case"compositionend":return Vp(i);case"keypress":return i.which!==32?null:(Lp=!0,jp);case"textInput":return r=i.data,r===jp&&Lp?null:r;default:return null}}function sx(r,i){if(oo)return r==="compositionend"||!fd&&Mp(r,i)?(r=Zl(),Cr=eo=un=null,oo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Op&&i.locale!=="ko"?null:i.data;default:return null}}var ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ix[r.type]:i==="textarea"}function Up(r,i,a,c){rs(c),i=lu(i,"onChange"),0<i.length&&(a=new li("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var Ca=null,Aa=null;function ox(r){sm(r,0)}function su(r){var i=ho(r);if(Qs(i))return r}function ax(r,i){if(r==="change")return i}var Bp=!1;if(f){var pd;if(f){var md="oninput"in document;if(!md){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),md=typeof zp.oninput=="function"}pd=md}else pd=!1;Bp=pd&&(!document.documentMode||9<document.documentMode)}function $p(){Ca&&(Ca.detachEvent("onpropertychange",Hp),Aa=Ca=null)}function Hp(r){if(r.propertyName==="value"&&su(Aa)){var i=[];Up(i,Aa,r,Hi(r)),Bl(ox,i)}}function lx(r,i,a){r==="focusin"?($p(),Ca=i,Aa=a,Ca.attachEvent("onpropertychange",Hp)):r==="focusout"&&$p()}function ux(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return su(Aa)}function cx(r,i){if(r==="click")return su(i)}function dx(r,i){if(r==="input"||r==="change")return su(i)}function hx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var An=typeof Object.is=="function"?Object.is:hx;function Na(r,i){if(An(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!m.call(i,h)||!An(r[h],i[h]))return!1}return!0}function qp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Wp(r,i){var a=qp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qp(a)}}function Kp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Kp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Gp(){for(var r=window,i=$n();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=$n(r.document)}return i}function gd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function fx(r){var i=Gp(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Kp(a.ownerDocument.documentElement,a)){if(c!==null&&gd(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,g=Math.min(c.start,h);c=c.end===void 0?g:Math.min(c.end,h),!r.extend&&g>c&&(h=c,c=g,g=h),h=Wp(a,g);var x=Wp(a,c);h&&x&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),r.removeAllRanges(),g>c?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var px=f&&"documentMode"in document&&11>=document.documentMode,ao=null,yd=null,Ra=null,vd=!1;function Qp(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vd||ao==null||ao!==$n(c)||(c=ao,"selectionStart"in c&&gd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ra&&Na(Ra,c)||(Ra=c,c=lu(yd,"onSelect"),0<c.length&&(i=new li("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=ao)))}function iu(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var lo={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},_d={},Yp={};f&&(Yp=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ou(r){if(_d[r])return _d[r];if(!lo[r])return r;var i=lo[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yp)return _d[r]=i[a];return r}var Xp=ou("animationend"),Jp=ou("animationiteration"),Zp=ou("animationstart"),em=ou("transitionend"),tm=new Map,nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(r,i){tm.set(r,i),l(i,[r])}for(var wd=0;wd<nm.length;wd++){var xd=nm[wd],mx=xd.toLowerCase(),gx=xd[0].toUpperCase()+xd.slice(1);fs(mx,"on"+gx)}fs(Xp,"onAnimationEnd"),fs(Jp,"onAnimationIteration"),fs(Zp,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(em,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function rm(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,ca(c,i,void 0,r),r.currentTarget=null}function sm(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var x=c.length-1;0<=x;x--){var b=c[x],N=b.instance,$=b.currentTarget;if(b=b.listener,N!==g&&h.isPropagationStopped())break e;rm(h,b,$),g=N}else for(x=0;x<c.length;x++){if(b=c[x],N=b.instance,$=b.currentTarget,b=b.listener,N!==g&&h.isPropagationStopped())break e;rm(h,b,$),g=N}}}if(qi)throw r=gn,qi=!1,gn=null,r}function et(r,i){var a=i[Ad];a===void 0&&(a=i[Ad]=new Set);var c=r+"__bubble";a.has(c)||(im(i,r,2,!1),a.add(c))}function Ed(r,i,a){var c=0;i&&(c|=4),im(a,r,c,i)}var au="_reactListening"+Math.random().toString(36).slice(2);function Da(r){if(!r[au]){r[au]=!0,s.forEach(function(a){a!=="selectionchange"&&(yx.has(a)||Ed(a,!1,r),Ed(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[au]||(i[au]=!0,Ed("selectionchange",!1,i))}}function im(r,i,a,c){switch(Zi(i)){case 1:var h=Jn;break;case 4:h=Jl;break;default:h=Ta}a=h.bind(null,i,a,r),h=void 0,!is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(i,a,{capture:!0,passive:h}):r.addEventListener(i,a,!0):h!==void 0?r.addEventListener(i,a,{passive:h}):r.addEventListener(i,a,!1)}function Td(r,i,a,c,h){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var b=c.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(x===4)for(x=c.return;x!==null;){var N=x.tag;if((N===3||N===4)&&(N=x.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;x=x.return}for(;b!==null;){if(x=ci(b),x===null)return;if(N=x.tag,N===5||N===6){c=g=x;continue e}b=b.parentNode}}c=c.return}Bl(function(){var $=g,Z=Hi(a),te=[];e:{var J=tm.get(r);if(J!==void 0){var ue=li,he=r;switch(r){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":ue=Ge;break;case"focusin":he="focus",ue=Rt;break;case"focusout":he="blur",ue=Rt;break;case"beforeblur":case"afterblur":ue=Rt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=nr;break;case Xp:case Jp:case Zp:ue=ru;break;case em:ue=io;break;case"scroll":ue=to;break;case"wheel":ue=ex;break;case"copy":case"cut":case"paste":ue=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=dn}var pe=(i&4)!==0,ft=!pe&&r==="scroll",F=pe?J!==null?J+"Capture":null:J;pe=[];for(var O=$,z;O!==null;){z=O;var ne=z.stateNode;if(z.tag===5&&ne!==null&&(z=ne,F!==null&&(ne=Xs(O,F),ne!=null&&pe.push(Oa(O,ne,z)))),ft)break;O=O.return}0<pe.length&&(J=new ue(J,he,null,a,Z),te.push({event:J,listeners:pe}))}}if((i&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",J&&a!==ns&&(he=a.relatedTarget||a.fromElement)&&(ci(he)||he[Nr]))break e;if((ue||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(he=a.relatedTarget||a.toElement,ue=$,he=he?ci(he):null,he!==null&&(ft=Sn(he),he!==ft||he.tag!==5&&he.tag!==6)&&(he=null)):(ue=null,he=$),ue!==he)){if(pe=Ia,ne="onMouseLeave",F="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(pe=dn,ne="onPointerLeave",F="onPointerEnter",O="pointer"),ft=ue==null?J:ho(ue),z=he==null?J:ho(he),J=new pe(ne,O+"leave",ue,a,Z),J.target=ft,J.relatedTarget=z,ne=null,ci(Z)===$&&(pe=new pe(F,O+"enter",he,a,Z),pe.target=z,pe.relatedTarget=ft,ne=pe),ft=ne,ue&&he)t:{for(pe=ue,F=he,O=0,z=pe;z;z=uo(z))O++;for(z=0,ne=F;ne;ne=uo(ne))z++;for(;0<O-z;)pe=uo(pe),O--;for(;0<z-O;)F=uo(F),z--;for(;O--;){if(pe===F||F!==null&&pe===F.alternate)break t;pe=uo(pe),F=uo(F)}pe=null}else pe=null;ue!==null&&om(te,J,ue,pe,!1),he!==null&&ft!==null&&om(te,ft,he,pe,!0)}}e:{if(J=$?ho($):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var me=ax;else if(Fp(J))if(Bp)me=dx;else{me=ux;var we=lx}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(me=cx);if(me&&(me=me(r,$))){Up(te,me,a,Z);break e}we&&we(r,J,$),r==="focusout"&&(we=J._wrapperState)&&we.controlled&&J.type==="number"&&Xe(J,"number",J.value)}switch(we=$?ho($):window,r){case"focusin":(Fp(we)||we.contentEditable==="true")&&(ao=we,yd=$,Ra=null);break;case"focusout":Ra=yd=ao=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Qp(te,a,Z);break;case"selectionchange":if(px)break;case"keydown":case"keyup":Qp(te,a,Z)}var xe;if(fd)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else oo?Mp(r,a)&&(Se="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Op&&a.locale!=="ko"&&(oo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&oo&&(xe=Zl()):(un=Z,eo="value"in un?un.value:un.textContent,oo=!0)),we=lu($,Se),0<we.length&&(Se=new _(Se,r,null,a,Z),te.push({event:Se,listeners:we}),xe?Se.data=xe:(xe=Vp(a),xe!==null&&(Se.data=xe)))),(xe=nx?rx(r,a):sx(r,a))&&($=lu($,"onBeforeInput"),0<$.length&&(Z=new _("onBeforeInput","beforeinput",null,a,Z),te.push({event:Z,listeners:$}),Z.data=xe))}sm(te,i)})}function Oa(r,i,a){return{instance:r,listener:i,currentTarget:a}}function lu(r,i){for(var a=i+"Capture",c=[];r!==null;){var h=r,g=h.stateNode;h.tag===5&&g!==null&&(h=g,g=Xs(r,a),g!=null&&c.unshift(Oa(r,g,h)),g=Xs(r,i),g!=null&&c.push(Oa(r,g,h))),r=r.return}return c}function uo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function om(r,i,a,c,h){for(var g=i._reactName,x=[];a!==null&&a!==c;){var b=a,N=b.alternate,$=b.stateNode;if(N!==null&&N===c)break;b.tag===5&&$!==null&&(b=$,h?(N=Xs(a,g),N!=null&&x.unshift(Oa(a,N,b))):h||(N=Xs(a,g),N!=null&&x.push(Oa(a,N,b)))),a=a.return}x.length!==0&&r.push({event:i,listeners:x})}var vx=/\r\n?/g,_x=/\u0000|\uFFFD/g;function am(r){return(typeof r=="string"?r:""+r).replace(vx,`
`).replace(_x,"")}function uu(r,i,a){if(i=am(i),am(r)!==i&&a)throw Error(t(425))}function cu(){}var kd=null,Id=null;function bd(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sd=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,xx=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(r){return lm.resolve(null).then(r).catch(Ex)}:Sd;function Ex(r){setTimeout(function(){throw r})}function Cd(r,i){var a=i,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),cs(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);cs(i)}function ps(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function um(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var co=Math.random().toString(36).slice(2),sr="__reactFiber$"+co,ja="__reactProps$"+co,Nr="__reactContainer$"+co,Ad="__reactEvents$"+co,Tx="__reactListeners$"+co,kx="__reactHandles$"+co;function ci(r){var i=r[sr];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Nr]||a[sr]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=um(r);r!==null;){if(a=r[sr])return a;r=um(r)}return i}r=a,a=r.parentNode}return null}function La(r){return r=r[sr]||r[Nr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ho(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function du(r){return r[ja]||null}var Nd=[],fo=-1;function ms(r){return{current:r}}function tt(r){0>fo||(r.current=Nd[fo],Nd[fo]=null,fo--)}function Je(r,i){fo++,Nd[fo]=r.current,r.current=i}var gs={},Mt=ms(gs),Xt=ms(!1),di=gs;function po(r,i){var a=r.type.contextTypes;if(!a)return gs;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in a)h[g]=i[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=h),h}function Jt(r){return r=r.childContextTypes,r!=null}function hu(){tt(Xt),tt(Mt)}function cm(r,i,a){if(Mt.current!==gs)throw Error(t(168));Je(Mt,i),Je(Xt,a)}function dm(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in i))throw Error(t(108,Ce(r)||"Unknown",h));return ae({},a,c)}function fu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||gs,di=Mt.current,Je(Mt,r),Je(Xt,Xt.current),!0}function hm(r,i,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=dm(r,i,di),c.__reactInternalMemoizedMergedChildContext=r,tt(Xt),tt(Mt),Je(Mt,r)):tt(Xt),Je(Xt,a)}var Rr=null,pu=!1,Rd=!1;function fm(r){Rr===null?Rr=[r]:Rr.push(r)}function Ix(r){pu=!0,fm(r)}function ys(){if(!Rd&&Rr!==null){Rd=!0;var r=0,i=Fe;try{var a=Rr;for(Fe=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Rr=null,pu=!1}catch(h){throw Rr!==null&&(Rr=Rr.slice(r+1)),ha(Ki,ys),h}finally{Fe=i,Rd=!1}}return null}var mo=[],go=0,mu=null,gu=0,vn=[],_n=0,hi=null,Pr=1,Dr="";function fi(r,i){mo[go++]=gu,mo[go++]=mu,mu=r,gu=i}function pm(r,i,a){vn[_n++]=Pr,vn[_n++]=Dr,vn[_n++]=hi,hi=r;var c=Pr;r=Dr;var h=32-an(c)-1;c&=~(1<<h),a+=1;var g=32-an(i)+h;if(30<g){var x=h-h%5;g=(c&(1<<x)-1).toString(32),c>>=x,h-=x,Pr=1<<32-an(i)+h|a<<h|c,Dr=g+r}else Pr=1<<g|a<<h|c,Dr=r}function Pd(r){r.return!==null&&(fi(r,1),pm(r,1,0))}function Dd(r){for(;r===mu;)mu=mo[--go],mo[go]=null,gu=mo[--go],mo[go]=null;for(;r===hi;)hi=vn[--_n],vn[_n]=null,Dr=vn[--_n],vn[_n]=null,Pr=vn[--_n],vn[_n]=null}var hn=null,fn=null,st=!1,Nn=null;function mm(r,i){var a=Tn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function gm(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,hn=r,fn=ps(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,hn=r,fn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=hi!==null?{id:Pr,overflow:Dr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Tn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,hn=r,fn=null,!0):!1;default:return!1}}function Od(r){return(r.mode&1)!==0&&(r.flags&128)===0}function jd(r){if(st){var i=fn;if(i){var a=i;if(!gm(r,i)){if(Od(r))throw Error(t(418));i=ps(a.nextSibling);var c=hn;i&&gm(r,i)?mm(c,a):(r.flags=r.flags&-4097|2,st=!1,hn=r)}}else{if(Od(r))throw Error(t(418));r.flags=r.flags&-4097|2,st=!1,hn=r}}}function ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;hn=r}function yu(r){if(r!==hn)return!1;if(!st)return ym(r),st=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!bd(r.type,r.memoizedProps)),i&&(i=fn)){if(Od(r))throw vm(),Error(t(418));for(;i;)mm(r,i),i=ps(i.nextSibling)}if(ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){fn=ps(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}fn=null}}else fn=hn?ps(r.stateNode.nextSibling):null;return!0}function vm(){for(var r=fn;r;)r=ps(r.nextSibling)}function yo(){fn=hn=null,st=!1}function Ld(r){Nn===null?Nn=[r]:Nn.push(r)}var bx=ie.ReactCurrentBatchConfig;function Ma(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var h=c,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(x){var b=h.refs;x===null?delete b[g]:b[g]=x},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function vu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function _m(r){var i=r._init;return i(r._payload)}function wm(r){function i(F,O){if(r){var z=F.deletions;z===null?(F.deletions=[O],F.flags|=16):z.push(O)}}function a(F,O){if(!r)return null;for(;O!==null;)i(F,O),O=O.sibling;return null}function c(F,O){for(F=new Map;O!==null;)O.key!==null?F.set(O.key,O):F.set(O.index,O),O=O.sibling;return F}function h(F,O){return F=Is(F,O),F.index=0,F.sibling=null,F}function g(F,O,z){return F.index=z,r?(z=F.alternate,z!==null?(z=z.index,z<O?(F.flags|=2,O):z):(F.flags|=2,O)):(F.flags|=1048576,O)}function x(F){return r&&F.alternate===null&&(F.flags|=2),F}function b(F,O,z,ne){return O===null||O.tag!==6?(O=Sh(z,F.mode,ne),O.return=F,O):(O=h(O,z),O.return=F,O)}function N(F,O,z,ne){var me=z.type;return me===A?Z(F,O,z.props.children,ne,z.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===gt&&_m(me)===O.type)?(ne=h(O,z.props),ne.ref=Ma(F,O,z),ne.return=F,ne):(ne=zu(z.type,z.key,z.props,null,F.mode,ne),ne.ref=Ma(F,O,z),ne.return=F,ne)}function $(F,O,z,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Ch(z,F.mode,ne),O.return=F,O):(O=h(O,z.children||[]),O.return=F,O)}function Z(F,O,z,ne,me){return O===null||O.tag!==7?(O=xi(z,F.mode,ne,me),O.return=F,O):(O=h(O,z),O.return=F,O)}function te(F,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Sh(""+O,F.mode,z),O.return=F,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case be:return z=zu(O.type,O.key,O.props,null,F.mode,z),z.ref=Ma(F,null,O),z.return=F,z;case H:return O=Ch(O,F.mode,z),O.return=F,O;case gt:var ne=O._init;return te(F,ne(O._payload),z)}if(rt(O)||ye(O))return O=xi(O,F.mode,z,null),O.return=F,O;vu(F,O)}return null}function J(F,O,z,ne){var me=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return me!==null?null:b(F,O,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case be:return z.key===me?N(F,O,z,ne):null;case H:return z.key===me?$(F,O,z,ne):null;case gt:return me=z._init,J(F,O,me(z._payload),ne)}if(rt(z)||ye(z))return me!==null?null:Z(F,O,z,ne,null);vu(F,z)}return null}function ue(F,O,z,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return F=F.get(z)||null,b(O,F,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case be:return F=F.get(ne.key===null?z:ne.key)||null,N(O,F,ne,me);case H:return F=F.get(ne.key===null?z:ne.key)||null,$(O,F,ne,me);case gt:var we=ne._init;return ue(F,O,z,we(ne._payload),me)}if(rt(ne)||ye(ne))return F=F.get(z)||null,Z(O,F,ne,me,null);vu(O,ne)}return null}function he(F,O,z,ne){for(var me=null,we=null,xe=O,Se=O=0,St=null;xe!==null&&Se<z.length;Se++){xe.index>Se?(St=xe,xe=null):St=xe.sibling;var $e=J(F,xe,z[Se],ne);if($e===null){xe===null&&(xe=St);break}r&&xe&&$e.alternate===null&&i(F,xe),O=g($e,O,Se),we===null?me=$e:we.sibling=$e,we=$e,xe=St}if(Se===z.length)return a(F,xe),st&&fi(F,Se),me;if(xe===null){for(;Se<z.length;Se++)xe=te(F,z[Se],ne),xe!==null&&(O=g(xe,O,Se),we===null?me=xe:we.sibling=xe,we=xe);return st&&fi(F,Se),me}for(xe=c(F,xe);Se<z.length;Se++)St=ue(xe,F,Se,z[Se],ne),St!==null&&(r&&St.alternate!==null&&xe.delete(St.key===null?Se:St.key),O=g(St,O,Se),we===null?me=St:we.sibling=St,we=St);return r&&xe.forEach(function(bs){return i(F,bs)}),st&&fi(F,Se),me}function pe(F,O,z,ne){var me=ye(z);if(typeof me!="function")throw Error(t(150));if(z=me.call(z),z==null)throw Error(t(151));for(var we=me=null,xe=O,Se=O=0,St=null,$e=z.next();xe!==null&&!$e.done;Se++,$e=z.next()){xe.index>Se?(St=xe,xe=null):St=xe.sibling;var bs=J(F,xe,$e.value,ne);if(bs===null){xe===null&&(xe=St);break}r&&xe&&bs.alternate===null&&i(F,xe),O=g(bs,O,Se),we===null?me=bs:we.sibling=bs,we=bs,xe=St}if($e.done)return a(F,xe),st&&fi(F,Se),me;if(xe===null){for(;!$e.done;Se++,$e=z.next())$e=te(F,$e.value,ne),$e!==null&&(O=g($e,O,Se),we===null?me=$e:we.sibling=$e,we=$e);return st&&fi(F,Se),me}for(xe=c(F,xe);!$e.done;Se++,$e=z.next())$e=ue(xe,F,Se,$e.value,ne),$e!==null&&(r&&$e.alternate!==null&&xe.delete($e.key===null?Se:$e.key),O=g($e,O,Se),we===null?me=$e:we.sibling=$e,we=$e);return r&&xe.forEach(function(iE){return i(F,iE)}),st&&fi(F,Se),me}function ft(F,O,z,ne){if(typeof z=="object"&&z!==null&&z.type===A&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case be:e:{for(var me=z.key,we=O;we!==null;){if(we.key===me){if(me=z.type,me===A){if(we.tag===7){a(F,we.sibling),O=h(we,z.props.children),O.return=F,F=O;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===gt&&_m(me)===we.type){a(F,we.sibling),O=h(we,z.props),O.ref=Ma(F,we,z),O.return=F,F=O;break e}a(F,we);break}else i(F,we);we=we.sibling}z.type===A?(O=xi(z.props.children,F.mode,ne,z.key),O.return=F,F=O):(ne=zu(z.type,z.key,z.props,null,F.mode,ne),ne.ref=Ma(F,O,z),ne.return=F,F=ne)}return x(F);case H:e:{for(we=z.key;O!==null;){if(O.key===we)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(F,O.sibling),O=h(O,z.children||[]),O.return=F,F=O;break e}else{a(F,O);break}else i(F,O);O=O.sibling}O=Ch(z,F.mode,ne),O.return=F,F=O}return x(F);case gt:return we=z._init,ft(F,O,we(z._payload),ne)}if(rt(z))return he(F,O,z,ne);if(ye(z))return pe(F,O,z,ne);vu(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(a(F,O.sibling),O=h(O,z),O.return=F,F=O):(a(F,O),O=Sh(z,F.mode,ne),O.return=F,F=O),x(F)):a(F,O)}return ft}var vo=wm(!0),xm=wm(!1),_u=ms(null),wu=null,_o=null,Md=null;function Vd(){Md=_o=wu=null}function Fd(r){var i=_u.current;tt(_u),r._currentValue=i}function Ud(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function wo(r,i){wu=r,Md=_o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Zt=!0),r.firstContext=null)}function wn(r){var i=r._currentValue;if(Md!==r)if(r={context:r,memoizedValue:i,next:null},_o===null){if(wu===null)throw Error(t(308));_o=r,wu.dependencies={lanes:0,firstContext:r}}else _o=_o.next=r;return i}var pi=null;function Bd(r){pi===null?pi=[r]:pi.push(r)}function Em(r,i,a,c){var h=i.interleaved;return h===null?(a.next=a,Bd(i)):(a.next=h.next,h.next=a),i.interleaved=a,Or(r,c)}function Or(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var vs=!1;function zd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function jr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function _s(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ze&2)!==0){var h=c.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),c.pending=i,Or(r,a)}return h=c.interleaved,h===null?(i.next=i,Bd(c)):(i.next=h.next,h.next=i),c.interleaved=i,Or(r,a)}function xu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,va(r,a)}}function km(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?h=g=x:g=g.next=x,a=a.next}while(a!==null);g===null?h=g=i:g=g.next=i}else h=g=i;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function Eu(r,i,a,c){var h=r.updateQueue;vs=!1;var g=h.firstBaseUpdate,x=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,$=N.next;N.next=null,x===null?g=$:x.next=$,x=N;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==x&&(b===null?Z.firstBaseUpdate=$:b.next=$,Z.lastBaseUpdate=N))}if(g!==null){var te=h.baseState;x=0,Z=$=N=null,b=g;do{var J=b.lane,ue=b.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var he=r,pe=b;switch(J=i,ue=a,pe.tag){case 1:if(he=pe.payload,typeof he=="function"){te=he.call(ue,te,J);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=pe.payload,J=typeof he=="function"?he.call(ue,te,J):he,J==null)break e;te=ae({},te,J);break e;case 2:vs=!0}}b.callback!==null&&b.lane!==0&&(r.flags|=64,J=h.effects,J===null?h.effects=[b]:J.push(b))}else ue={eventTime:ue,lane:J,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?($=Z=ue,N=te):Z=Z.next=ue,x|=J;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;J=b,b=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);if(Z===null&&(N=te),h.baseState=N,h.firstBaseUpdate=$,h.lastBaseUpdate=Z,i=h.shared.interleaved,i!==null){h=i;do x|=h.lane,h=h.next;while(h!==i)}else g===null&&(h.shared.lanes=0);yi|=x,r.lanes=x,r.memoizedState=te}}function Im(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(t(191,h));h.call(c)}}}var Va={},ir=ms(Va),Fa=ms(Va),Ua=ms(Va);function mi(r){if(r===Va)throw Error(t(174));return r}function $d(r,i){switch(Je(Ua,i),Je(Fa,r),Je(ir,Va),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Bi(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Bi(i,r)}tt(ir),Je(ir,i)}function xo(){tt(ir),tt(Fa),tt(Ua)}function bm(r){mi(Ua.current);var i=mi(ir.current),a=Bi(i,r.type);i!==a&&(Je(Fa,r),Je(ir,a))}function Hd(r){Fa.current===r&&(tt(ir),tt(Fa))}var ot=ms(0);function Tu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qd=[];function Wd(){for(var r=0;r<qd.length;r++)qd[r]._workInProgressVersionPrimary=null;qd.length=0}var ku=ie.ReactCurrentDispatcher,Kd=ie.ReactCurrentBatchConfig,gi=0,at=null,xt=null,It=null,Iu=!1,Ba=!1,za=0,Sx=0;function Vt(){throw Error(t(321))}function Gd(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!An(r[a],i[a]))return!1;return!0}function Qd(r,i,a,c,h,g){if(gi=g,at=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ku.current=r===null||r.memoizedState===null?Rx:Px,r=a(c,h),Ba){g=0;do{if(Ba=!1,za=0,25<=g)throw Error(t(301));g+=1,It=xt=null,i.updateQueue=null,ku.current=Dx,r=a(c,h)}while(Ba)}if(ku.current=Cu,i=xt!==null&&xt.next!==null,gi=0,It=xt=at=null,Iu=!1,i)throw Error(t(300));return r}function Yd(){var r=za!==0;return za=0,r}function or(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?at.memoizedState=It=r:It=It.next=r,It}function xn(){if(xt===null){var r=at.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var i=It===null?at.memoizedState:It.next;if(i!==null)It=i,xt=r;else{if(r===null)throw Error(t(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},It===null?at.memoizedState=It=r:It=It.next=r}return It}function $a(r,i){return typeof i=="function"?i(r):i}function Xd(r){var i=xn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=xt,h=c.baseQueue,g=a.pending;if(g!==null){if(h!==null){var x=h.next;h.next=g.next,g.next=x}c.baseQueue=h=g,a.pending=null}if(h!==null){g=h.next,c=c.baseState;var b=x=null,N=null,$=g;do{var Z=$.lane;if((gi&Z)===Z)N!==null&&(N=N.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:r(c,$.action);else{var te={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};N===null?(b=N=te,x=c):N=N.next=te,at.lanes|=Z,yi|=Z}$=$.next}while($!==null&&$!==g);N===null?x=c:N.next=b,An(c,i.memoizedState)||(Zt=!0),i.memoizedState=c,i.baseState=x,i.baseQueue=N,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do g=h.lane,at.lanes|=g,yi|=g,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Jd(r){var i=xn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,g=i.memoizedState;if(h!==null){a.pending=null;var x=h=h.next;do g=r(g,x.action),x=x.next;while(x!==h);An(g,i.memoizedState)||(Zt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function Sm(){}function Cm(r,i){var a=at,c=xn(),h=i(),g=!An(c.memoizedState,h);if(g&&(c.memoizedState=h,Zt=!0),c=c.queue,Zd(Rm.bind(null,a,c,r),[r]),c.getSnapshot!==i||g||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Ha(9,Nm.bind(null,a,c,h,i),void 0,null),bt===null)throw Error(t(349));(gi&30)!==0||Am(a,i,h)}return h}function Am(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=at.updateQueue,i===null?(i={lastEffect:null,stores:null},at.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Nm(r,i,a,c){i.value=a,i.getSnapshot=c,Pm(i)&&Dm(r)}function Rm(r,i,a){return a(function(){Pm(i)&&Dm(r)})}function Pm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!An(r,a)}catch{return!0}}function Dm(r){var i=Or(r,1);i!==null&&On(i,r,1,-1)}function Om(r){var i=or();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:r},i.queue=r,r=r.dispatch=Nx.bind(null,at,r),[i.memoizedState,r]}function Ha(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=at.updateQueue,i===null?(i={lastEffect:null,stores:null},at.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function jm(){return xn().memoizedState}function bu(r,i,a,c){var h=or();at.flags|=r,h.memoizedState=Ha(1|i,a,void 0,c===void 0?null:c)}function Su(r,i,a,c){var h=xn();c=c===void 0?null:c;var g=void 0;if(xt!==null){var x=xt.memoizedState;if(g=x.destroy,c!==null&&Gd(c,x.deps)){h.memoizedState=Ha(i,a,g,c);return}}at.flags|=r,h.memoizedState=Ha(1|i,a,g,c)}function Lm(r,i){return bu(8390656,8,r,i)}function Zd(r,i){return Su(2048,8,r,i)}function Mm(r,i){return Su(4,2,r,i)}function Vm(r,i){return Su(4,4,r,i)}function Fm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Um(r,i,a){return a=a!=null?a.concat([r]):null,Su(4,4,Fm.bind(null,i,r),a)}function eh(){}function Bm(r,i){var a=xn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Gd(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function zm(r,i){var a=xn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Gd(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function $m(r,i,a){return(gi&21)===0?(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=a):(An(a,i)||(a=ga(),at.lanes|=a,yi|=a,r.baseState=!0),i)}function Cx(r,i){var a=Fe;Fe=a!==0&&4>a?a:4,r(!0);var c=Kd.transition;Kd.transition={};try{r(!1),i()}finally{Fe=a,Kd.transition=c}}function Hm(){return xn().memoizedState}function Ax(r,i,a){var c=Ts(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},qm(r))Wm(i,a);else if(a=Em(r,i,a,c),a!==null){var h=Gt();On(a,r,c,h),Km(a,i,c)}}function Nx(r,i,a){var c=Ts(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(qm(r))Wm(i,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,b=g(x,a);if(h.hasEagerState=!0,h.eagerState=b,An(b,x)){var N=i.interleaved;N===null?(h.next=h,Bd(i)):(h.next=N.next,N.next=h),i.interleaved=h;return}}catch{}finally{}a=Em(r,i,h,c),a!==null&&(h=Gt(),On(a,r,c,h),Km(a,i,c))}}function qm(r){var i=r.alternate;return r===at||i!==null&&i===at}function Wm(r,i){Ba=Iu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Km(r,i,a){if((a&4194240)!==0){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,va(r,a)}}var Cu={readContext:wn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Rx={readContext:wn,useCallback:function(r,i){return or().memoizedState=[r,i===void 0?null:i],r},useContext:wn,useEffect:Lm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,bu(4194308,4,Fm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return bu(4194308,4,r,i)},useInsertionEffect:function(r,i){return bu(4,2,r,i)},useMemo:function(r,i){var a=or();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=or();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=Ax.bind(null,at,r),[c.memoizedState,r]},useRef:function(r){var i=or();return r={current:r},i.memoizedState=r},useState:Om,useDebugValue:eh,useDeferredValue:function(r){return or().memoizedState=r},useTransition:function(){var r=Om(!1),i=r[0];return r=Cx.bind(null,r[1]),or().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=at,h=or();if(st){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),bt===null)throw Error(t(349));(gi&30)!==0||Am(c,i,a)}h.memoizedState=a;var g={value:a,getSnapshot:i};return h.queue=g,Lm(Rm.bind(null,c,g,r),[r]),c.flags|=2048,Ha(9,Nm.bind(null,c,g,a,i),void 0,null),a},useId:function(){var r=or(),i=bt.identifierPrefix;if(st){var a=Dr,c=Pr;a=(c&~(1<<32-an(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=za++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Sx++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Px={readContext:wn,useCallback:Bm,useContext:wn,useEffect:Zd,useImperativeHandle:Um,useInsertionEffect:Mm,useLayoutEffect:Vm,useMemo:zm,useReducer:Xd,useRef:jm,useState:function(){return Xd($a)},useDebugValue:eh,useDeferredValue:function(r){var i=xn();return $m(i,xt.memoizedState,r)},useTransition:function(){var r=Xd($a)[0],i=xn().memoizedState;return[r,i]},useMutableSource:Sm,useSyncExternalStore:Cm,useId:Hm,unstable_isNewReconciler:!1},Dx={readContext:wn,useCallback:Bm,useContext:wn,useEffect:Zd,useImperativeHandle:Um,useInsertionEffect:Mm,useLayoutEffect:Vm,useMemo:zm,useReducer:Jd,useRef:jm,useState:function(){return Jd($a)},useDebugValue:eh,useDeferredValue:function(r){var i=xn();return xt===null?i.memoizedState=r:$m(i,xt.memoizedState,r)},useTransition:function(){var r=Jd($a)[0],i=xn().memoizedState;return[r,i]},useMutableSource:Sm,useSyncExternalStore:Cm,useId:Hm,unstable_isNewReconciler:!1};function Rn(r,i){if(r&&r.defaultProps){i=ae({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function th(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:ae({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Au={isMounted:function(r){return(r=r._reactInternals)?Sn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=Gt(),h=Ts(r),g=jr(c,h);g.payload=i,a!=null&&(g.callback=a),i=_s(r,g,h),i!==null&&(On(i,r,h,c),xu(i,r,h))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=Gt(),h=Ts(r),g=jr(c,h);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=_s(r,g,h),i!==null&&(On(i,r,h,c),xu(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Gt(),c=Ts(r),h=jr(a,c);h.tag=2,i!=null&&(h.callback=i),i=_s(r,h,c),i!==null&&(On(i,r,c,a),xu(i,r,c))}};function Gm(r,i,a,c,h,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,x):i.prototype&&i.prototype.isPureReactComponent?!Na(a,c)||!Na(h,g):!0}function Qm(r,i,a){var c=!1,h=gs,g=i.contextType;return typeof g=="object"&&g!==null?g=wn(g):(h=Jt(i)?di:Mt.current,c=i.contextTypes,g=(c=c!=null)?po(r,h):gs),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Au,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=g),i}function Ym(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&Au.enqueueReplaceState(i,i.state,null)}function nh(r,i,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},zd(r);var g=i.contextType;typeof g=="object"&&g!==null?h.context=wn(g):(g=Jt(i)?di:Mt.current,h.context=po(r,g)),h.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(th(r,i,g,a),h.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&Au.enqueueReplaceState(h,h.state,null),Eu(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function Eo(r,i){try{var a="",c=i;do a+=De(c),c=c.return;while(c);var h=a}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:h,digest:null}}function rh(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function sh(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Ox=typeof WeakMap=="function"?WeakMap:Map;function Xm(r,i,a){a=jr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){Lu||(Lu=!0,_h=c),sh(r,i)},a}function Jm(r,i,a){a=jr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;a.payload=function(){return c(h)},a.callback=function(){sh(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){sh(r,i),typeof c!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),a}function Zm(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new Ox;var h=new Set;c.set(i,h)}else h=c.get(i),h===void 0&&(h=new Set,c.set(i,h));h.has(a)||(h.add(a),r=Gx.bind(null,r,i,a),i.then(r,r))}function eg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function tg(r,i,a,c,h){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=jr(-1,1),i.tag=2,_s(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var jx=ie.ReactCurrentOwner,Zt=!1;function Kt(r,i,a,c){i.child=r===null?xm(i,null,a,c):vo(i,r.child,a,c)}function ng(r,i,a,c,h){a=a.render;var g=i.ref;return wo(i,h),c=Qd(r,i,a,c,g,h),a=Yd(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,Lr(r,i,h)):(st&&a&&Pd(i),i.flags|=1,Kt(r,i,c,h),i.child)}function rg(r,i,a,c,h){if(r===null){var g=a.type;return typeof g=="function"&&!bh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,sg(r,i,g,c,h)):(r=zu(a.type,null,c,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&h)===0){var x=g.memoizedProps;if(a=a.compare,a=a!==null?a:Na,a(x,c)&&r.ref===i.ref)return Lr(r,i,h)}return i.flags|=1,r=Is(g,c),r.ref=i.ref,r.return=i,i.child=r}function sg(r,i,a,c,h){if(r!==null){var g=r.memoizedProps;if(Na(g,c)&&r.ref===i.ref)if(Zt=!1,i.pendingProps=c=g,(r.lanes&h)!==0)(r.flags&131072)!==0&&(Zt=!0);else return i.lanes=r.lanes,Lr(r,i,h)}return ih(r,i,a,c,h)}function ig(r,i,a){var c=i.pendingProps,h=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ko,pn),pn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Je(ko,pn),pn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Je(ko,pn),pn|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,Je(ko,pn),pn|=c;return Kt(r,i,h,a),i.child}function og(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function ih(r,i,a,c,h){var g=Jt(a)?di:Mt.current;return g=po(i,g),wo(i,h),a=Qd(r,i,a,c,g,h),c=Yd(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,Lr(r,i,h)):(st&&c&&Pd(i),i.flags|=1,Kt(r,i,a,h),i.child)}function ag(r,i,a,c,h){if(Jt(a)){var g=!0;fu(i)}else g=!1;if(wo(i,h),i.stateNode===null)Ru(r,i),Qm(i,a,c),nh(i,a,c,h),c=!0;else if(r===null){var x=i.stateNode,b=i.memoizedProps;x.props=b;var N=x.context,$=a.contextType;typeof $=="object"&&$!==null?$=wn($):($=Jt(a)?di:Mt.current,$=po(i,$));var Z=a.getDerivedStateFromProps,te=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function";te||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==c||N!==$)&&Ym(i,x,c,$),vs=!1;var J=i.memoizedState;x.state=J,Eu(i,c,x,h),N=i.memoizedState,b!==c||J!==N||Xt.current||vs?(typeof Z=="function"&&(th(i,a,Z,c),N=i.memoizedState),(b=vs||Gm(i,a,b,c,J,N,$))?(te||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),x.props=c,x.state=N,x.context=$,c=b):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{x=i.stateNode,Tm(r,i),b=i.memoizedProps,$=i.type===i.elementType?b:Rn(i.type,b),x.props=$,te=i.pendingProps,J=x.context,N=a.contextType,typeof N=="object"&&N!==null?N=wn(N):(N=Jt(a)?di:Mt.current,N=po(i,N));var ue=a.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(b!==te||J!==N)&&Ym(i,x,c,N),vs=!1,J=i.memoizedState,x.state=J,Eu(i,c,x,h);var he=i.memoizedState;b!==te||J!==he||Xt.current||vs?(typeof ue=="function"&&(th(i,a,ue,c),he=i.memoizedState),($=vs||Gm(i,a,$,c,J,he,N)||!1)?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,he,N),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,he,N)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=he),x.props=c,x.state=he,x.context=N,c=$):(typeof x.componentDidUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&J===r.memoizedState||(i.flags|=1024),c=!1)}return oh(r,i,a,c,g,h)}function oh(r,i,a,c,h,g){og(r,i);var x=(i.flags&128)!==0;if(!c&&!x)return h&&hm(i,a,!1),Lr(r,i,g);c=i.stateNode,jx.current=i;var b=x&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&x?(i.child=vo(i,r.child,null,g),i.child=vo(i,null,b,g)):Kt(r,i,b,g),i.memoizedState=c.state,h&&hm(i,a,!0),i.child}function lg(r){var i=r.stateNode;i.pendingContext?cm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&cm(r,i.context,!1),$d(r,i.containerInfo)}function ug(r,i,a,c,h){return yo(),Ld(h),i.flags|=256,Kt(r,i,a,c),i.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function lh(r){return{baseLanes:r,cachePool:null,transitions:null}}function cg(r,i,a){var c=i.pendingProps,h=ot.current,g=!1,x=(i.flags&128)!==0,b;if((b=x)||(b=r!==null&&r.memoizedState===null?!1:(h&2)!==0),b?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Je(ot,h&1),r===null)return jd(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=c.children,r=c.fallback,g?(c=i.mode,g=i.child,x={mode:"hidden",children:x},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=x):g=$u(x,c,0,null),r=xi(r,c,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=lh(a),i.memoizedState=ah,r):uh(i,x));if(h=r.memoizedState,h!==null&&(b=h.dehydrated,b!==null))return Lx(r,i,x,c,b,h,a);if(g){g=c.fallback,x=i.mode,h=r.child,b=h.sibling;var N={mode:"hidden",children:c.children};return(x&1)===0&&i.child!==h?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=Is(h,N),c.subtreeFlags=h.subtreeFlags&14680064),b!==null?g=Is(b,g):(g=xi(g,x,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,x=r.child.memoizedState,x=x===null?lh(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},g.memoizedState=x,g.childLanes=r.childLanes&~a,i.memoizedState=ah,c}return g=r.child,r=g.sibling,c=Is(g,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function uh(r,i){return i=$u({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Nu(r,i,a,c){return c!==null&&Ld(c),vo(i,r.child,null,a),r=uh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Lx(r,i,a,c,h,g,x){if(a)return i.flags&256?(i.flags&=-257,c=rh(Error(t(422))),Nu(r,i,x,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=c.fallback,h=i.mode,c=$u({mode:"visible",children:c.children},h,0,null),g=xi(g,h,x,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,(i.mode&1)!==0&&vo(i,r.child,null,x),i.child.memoizedState=lh(x),i.memoizedState=ah,g);if((i.mode&1)===0)return Nu(r,i,x,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var b=c.dgst;return c=b,g=Error(t(419)),c=rh(g,c,void 0),Nu(r,i,x,c)}if(b=(x&r.childLanes)!==0,Zt||b){if(c=bt,c!==null){switch(x&-x){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|x))!==0?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,Or(r,h),On(c,r,h,-1))}return Ih(),c=rh(Error(t(421))),Nu(r,i,x,c)}return h.data==="$?"?(i.flags|=128,i.child=r.child,i=Qx.bind(null,r),h._reactRetry=i,null):(r=g.treeContext,fn=ps(h.nextSibling),hn=i,st=!0,Nn=null,r!==null&&(vn[_n++]=Pr,vn[_n++]=Dr,vn[_n++]=hi,Pr=r.id,Dr=r.overflow,hi=i),i=uh(i,c.children),i.flags|=4096,i)}function dg(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Ud(r.return,i,a)}function ch(r,i,a,c,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=h)}function hg(r,i,a){var c=i.pendingProps,h=c.revealOrder,g=c.tail;if(Kt(r,i,c.children,a),c=ot.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&dg(r,a,i);else if(r.tag===19)dg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Je(ot,c),(i.mode&1)===0)i.memoizedState=null;else switch(h){case"forwards":for(a=i.child,h=null;a!==null;)r=a.alternate,r!==null&&Tu(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ch(i,!1,h,a,g);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&Tu(r)===null){i.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}ch(i,!0,a,null,g);break;case"together":ch(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ru(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function Lr(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),yi|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=Is(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Is(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function Mx(r,i,a){switch(i.tag){case 3:lg(i),yo();break;case 5:bm(i);break;case 1:Jt(i.type)&&fu(i);break;case 4:$d(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,h=i.memoizedProps.value;Je(_u,c._currentValue),c._currentValue=h;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Je(ot,ot.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?cg(r,i,a):(Je(ot,ot.current&1),r=Lr(r,i,a),r!==null?r.sibling:null);Je(ot,ot.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(r.flags&128)!==0){if(c)return hg(r,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Je(ot,ot.current),c)break;return null;case 22:case 23:return i.lanes=0,ig(r,i,a)}return Lr(r,i,a)}var fg,dh,pg,mg;fg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},dh=function(){},pg=function(r,i,a,c){var h=r.memoizedProps;if(h!==c){r=i.stateNode,mi(ir.current);var g=null;switch(a){case"input":h=Xr(r,h),c=Xr(r,c),g=[];break;case"select":h=ae({},h,{value:void 0}),c=ae({},c,{value:void 0}),g=[];break;case"textarea":h=ia(r,h),c=ia(r,c),g=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=cu)}bn(a,c);var x;a=null;for($ in h)if(!c.hasOwnProperty($)&&h.hasOwnProperty($)&&h[$]!=null)if($==="style"){var b=h[$];for(x in b)b.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in c){var N=c[$];if(b=h?.[$],c.hasOwnProperty($)&&N!==b&&(N!=null||b!=null))if($==="style")if(b){for(x in b)!b.hasOwnProperty(x)||N&&N.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in N)N.hasOwnProperty(x)&&b[x]!==N[x]&&(a||(a={}),a[x]=N[x])}else a||(g||(g=[]),g.push($,a)),a=N;else $==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,b=b?b.__html:void 0,N!=null&&b!==N&&(g=g||[]).push($,N)):$==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push($,""+N):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(N!=null&&$==="onScroll"&&et("scroll",r),g||b===N||(g=[])):(g=g||[]).push($,N))}a&&(g=g||[]).push("style",a);var $=g;(i.updateQueue=$)&&(i.flags|=4)}},mg=function(r,i,a,c){a!==c&&(i.flags|=4)};function qa(r,i){if(!st)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Ft(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function Vx(r,i,a){var c=i.pendingProps;switch(Dd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(i),null;case 1:return Jt(i.type)&&hu(),Ft(i),null;case 3:return c=i.stateNode,xo(),tt(Xt),tt(Mt),Wd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(yu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nn!==null&&(Eh(Nn),Nn=null))),dh(r,i),Ft(i),null;case 5:Hd(i);var h=mi(Ua.current);if(a=i.type,r!==null&&i.stateNode!=null)pg(r,i,a,c,h),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ft(i),null}if(r=mi(ir.current),yu(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[sr]=i,c[ja]=g,r=(i.mode&1)!==0,a){case"dialog":et("cancel",c),et("close",c);break;case"iframe":case"object":case"embed":et("load",c);break;case"video":case"audio":for(h=0;h<Pa.length;h++)et(Pa[h],c);break;case"source":et("error",c);break;case"img":case"image":case"link":et("error",c),et("load",c);break;case"details":et("toggle",c);break;case"input":oe(c,g),et("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},et("invalid",c);break;case"textarea":oa(c,g),et("invalid",c)}bn(a,g),h=null;for(var x in g)if(g.hasOwnProperty(x)){var b=g[x];x==="children"?typeof b=="string"?c.textContent!==b&&(g.suppressHydrationWarning!==!0&&uu(c.textContent,b,r),h=["children",b]):typeof b=="number"&&c.textContent!==""+b&&(g.suppressHydrationWarning!==!0&&uu(c.textContent,b,r),h=["children",""+b]):o.hasOwnProperty(x)&&b!=null&&x==="onScroll"&&et("scroll",c)}switch(a){case"input":Yr(c),le(c,g,!0);break;case"textarea":Yr(c),Jr(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=cu)}c=h,i.updateQueue=c,c!==null&&(i.flags|=4)}else{x=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=aa(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=x.createElement(a,{is:c.is}):(r=x.createElement(a),a==="select"&&(x=r,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):r=x.createElementNS(r,a),r[sr]=i,r[ja]=c,fg(r,i,!1,!1),i.stateNode=r;e:{switch(x=$i(a,c),a){case"dialog":et("cancel",r),et("close",r),h=c;break;case"iframe":case"object":case"embed":et("load",r),h=c;break;case"video":case"audio":for(h=0;h<Pa.length;h++)et(Pa[h],r);h=c;break;case"source":et("error",r),h=c;break;case"img":case"image":case"link":et("error",r),et("load",r),h=c;break;case"details":et("toggle",r),h=c;break;case"input":oe(r,c),h=Xr(r,c),et("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=ae({},c,{value:void 0}),et("invalid",r);break;case"textarea":oa(r,c),h=ia(r,c),et("invalid",r);break;default:h=c}bn(a,h),b=h;for(g in b)if(b.hasOwnProperty(g)){var N=b[g];g==="style"?zi(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Ml(r,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Ys(r,N):typeof N=="number"&&Ys(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?N!=null&&g==="onScroll"&&et("scroll",r):N!=null&&Y(r,g,N,x))}switch(a){case"input":Yr(r),le(r,c,!1);break;case"textarea":Yr(r),Jr(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Ve(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?Yt(r,!!c.multiple,g,!1):c.defaultValue!=null&&Yt(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=cu)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ft(i),null;case 6:if(r&&i.stateNode!=null)mg(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=mi(Ua.current),mi(ir.current),yu(i)){if(c=i.stateNode,a=i.memoizedProps,c[sr]=i,(g=c.nodeValue!==a)&&(r=hn,r!==null))switch(r.tag){case 3:uu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&uu(c.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[sr]=i,i.stateNode=c}return Ft(i),null;case 13:if(tt(ot),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&fn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)vm(),yo(),i.flags|=98560,g=!1;else if(g=yu(i),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[sr]=i}else yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ft(i),g=!1}else Nn!==null&&(Eh(Nn),Nn=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(ot.current&1)!==0?Et===0&&(Et=3):Ih())),i.updateQueue!==null&&(i.flags|=4),Ft(i),null);case 4:return xo(),dh(r,i),r===null&&Da(i.stateNode.containerInfo),Ft(i),null;case 10:return Fd(i.type._context),Ft(i),null;case 17:return Jt(i.type)&&hu(),Ft(i),null;case 19:if(tt(ot),g=i.memoizedState,g===null)return Ft(i),null;if(c=(i.flags&128)!==0,x=g.rendering,x===null)if(c)qa(g,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=Tu(r),x!==null){for(i.flags|=128,qa(g,!1),c=x.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,r=c,g.flags&=14680066,x=g.alternate,x===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=x.childLanes,g.lanes=x.lanes,g.child=x.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=x.memoizedProps,g.memoizedState=x.memoizedState,g.updateQueue=x.updateQueue,g.type=x.type,r=x.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Je(ot,ot.current&1|2),i.child}r=r.sibling}g.tail!==null&&Ze()>Io&&(i.flags|=128,c=!0,qa(g,!1),i.lanes=4194304)}else{if(!c)if(r=Tu(x),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),qa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!st)return Ft(i),null}else 2*Ze()-g.renderingStartTime>Io&&a!==1073741824&&(i.flags|=128,c=!0,qa(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(a=g.last,a!==null?a.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ze(),i.sibling=null,a=ot.current,Je(ot,c?a&1|2:a&1),i):(Ft(i),null);case 22:case 23:return kh(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(pn&1073741824)!==0&&(Ft(i),i.subtreeFlags&6&&(i.flags|=8192)):Ft(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Fx(r,i){switch(Dd(i),i.tag){case 1:return Jt(i.type)&&hu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return xo(),tt(Xt),tt(Mt),Wd(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Hd(i),null;case 13:if(tt(ot),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));yo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return tt(ot),null;case 4:return xo(),null;case 10:return Fd(i.type._context),null;case 22:case 23:return kh(),null;case 24:return null;default:return null}}var Pu=!1,Ut=!1,Ux=typeof WeakSet=="function"?WeakSet:Set,de=null;function To(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ct(r,i,c)}else a.current=null}function hh(r,i,a){try{a()}catch(c){ct(r,i,c)}}var gg=!1;function Bx(r,i){if(kd=Sr,r=Gp(),gd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var x=0,b=-1,N=-1,$=0,Z=0,te=r,J=null;t:for(;;){for(var ue;te!==a||h!==0&&te.nodeType!==3||(b=x+h),te!==g||c!==0&&te.nodeType!==3||(N=x+c),te.nodeType===3&&(x+=te.nodeValue.length),(ue=te.firstChild)!==null;)J=te,te=ue;for(;;){if(te===r)break t;if(J===a&&++$===h&&(b=x),J===g&&++Z===c&&(N=x),(ue=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=ue}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:r,selectionRange:a},Sr=!1,de=i;de!==null;)if(i=de,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,de=r;else for(;de!==null;){i=de;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var pe=he.memoizedProps,ft=he.memoizedState,F=i.stateNode,O=F.getSnapshotBeforeUpdate(i.elementType===i.type?pe:Rn(i.type,pe),ft);F.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){ct(i,i.return,ne)}if(r=i.sibling,r!==null){r.return=i.return,de=r;break}de=i.return}return he=gg,gg=!1,he}function Wa(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var g=h.destroy;h.destroy=void 0,g!==void 0&&hh(i,a,g)}h=h.next}while(h!==c)}}function Du(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function fh(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function yg(r){var i=r.alternate;i!==null&&(r.alternate=null,yg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[sr],delete i[ja],delete i[Ad],delete i[Tx],delete i[kx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function vg(r){return r.tag===5||r.tag===3||r.tag===4}function _g(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||vg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ph(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=cu));else if(c!==4&&(r=r.child,r!==null))for(ph(r,i,a),r=r.sibling;r!==null;)ph(r,i,a),r=r.sibling}function mh(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(mh(r,i,a),r=r.sibling;r!==null;)mh(r,i,a),r=r.sibling}var Pt=null,Pn=!1;function ws(r,i,a){for(a=a.child;a!==null;)wg(r,i,a),a=a.sibling}function wg(r,i,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ti,a)}catch{}switch(a.tag){case 5:Ut||To(a,i);case 6:var c=Pt,h=Pn;Pt=null,ws(r,i,a),Pt=c,Pn=h,Pt!==null&&(Pn?(r=Pt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(Pn?(r=Pt,a=a.stateNode,r.nodeType===8?Cd(r.parentNode,a):r.nodeType===1&&Cd(r,a),cs(r)):Cd(Pt,a.stateNode));break;case 4:c=Pt,h=Pn,Pt=a.stateNode.containerInfo,Pn=!0,ws(r,i,a),Pt=c,Pn=h;break;case 0:case 11:case 14:case 15:if(!Ut&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var g=h,x=g.destroy;g=g.tag,x!==void 0&&((g&2)!==0||(g&4)!==0)&&hh(a,i,x),h=h.next}while(h!==c)}ws(r,i,a);break;case 1:if(!Ut&&(To(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(b){ct(a,i,b)}ws(r,i,a);break;case 21:ws(r,i,a);break;case 22:a.mode&1?(Ut=(c=Ut)||a.memoizedState!==null,ws(r,i,a),Ut=c):ws(r,i,a);break;default:ws(r,i,a)}}function xg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Ux),i.forEach(function(c){var h=Yx.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function Dn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var g=r,x=i,b=x;e:for(;b!==null;){switch(b.tag){case 5:Pt=b.stateNode,Pn=!1;break e;case 3:Pt=b.stateNode.containerInfo,Pn=!0;break e;case 4:Pt=b.stateNode.containerInfo,Pn=!0;break e}b=b.return}if(Pt===null)throw Error(t(160));wg(g,x,h),Pt=null,Pn=!1;var N=h.alternate;N!==null&&(N.return=null),h.return=null}catch($){ct(h,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Eg(i,r),i=i.sibling}function Eg(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Dn(i,r),ar(r),c&4){try{Wa(3,r,r.return),Du(3,r)}catch(pe){ct(r,r.return,pe)}try{Wa(5,r,r.return)}catch(pe){ct(r,r.return,pe)}}break;case 1:Dn(i,r),ar(r),c&512&&a!==null&&To(a,a.return);break;case 5:if(Dn(i,r),ar(r),c&512&&a!==null&&To(a,a.return),r.flags&32){var h=r.stateNode;try{Ys(h,"")}catch(pe){ct(r,r.return,pe)}}if(c&4&&(h=r.stateNode,h!=null)){var g=r.memoizedProps,x=a!==null?a.memoizedProps:g,b=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{b==="input"&&g.type==="radio"&&g.name!=null&&ge(h,g),$i(b,x);var $=$i(b,g);for(x=0;x<N.length;x+=2){var Z=N[x],te=N[x+1];Z==="style"?zi(h,te):Z==="dangerouslySetInnerHTML"?Ml(h,te):Z==="children"?Ys(h,te):Y(h,Z,te,$)}switch(b){case"input":ke(h,g);break;case"textarea":Ll(h,g);break;case"select":var J=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?Yt(h,!!g.multiple,ue,!1):J!==!!g.multiple&&(g.defaultValue!=null?Yt(h,!!g.multiple,g.defaultValue,!0):Yt(h,!!g.multiple,g.multiple?[]:"",!1))}h[ja]=g}catch(pe){ct(r,r.return,pe)}}break;case 6:if(Dn(i,r),ar(r),c&4){if(r.stateNode===null)throw Error(t(162));h=r.stateNode,g=r.memoizedProps;try{h.nodeValue=g}catch(pe){ct(r,r.return,pe)}}break;case 3:if(Dn(i,r),ar(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{cs(i.containerInfo)}catch(pe){ct(r,r.return,pe)}break;case 4:Dn(i,r),ar(r);break;case 13:Dn(i,r),ar(r),h=r.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(vh=Ze())),c&4&&xg(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Ut=($=Ut)||Z,Dn(i,r),Ut=$):Dn(i,r),ar(r),c&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!Z&&(r.mode&1)!==0)for(de=r,Z=r.child;Z!==null;){for(te=de=Z;de!==null;){switch(J=de,ue=J.child,J.tag){case 0:case 11:case 14:case 15:Wa(4,J,J.return);break;case 1:To(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){c=J,a=J.return;try{i=c,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(pe){ct(c,a,pe)}}break;case 5:To(J,J.return);break;case 22:if(J.memoizedState!==null){Ig(te);continue}}ue!==null?(ue.return=J,de=ue):Ig(te)}Z=Z.sibling}e:for(Z=null,te=r;;){if(te.tag===5){if(Z===null){Z=te;try{h=te.stateNode,$?(g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(b=te.stateNode,N=te.memoizedProps.style,x=N!=null&&N.hasOwnProperty("display")?N.display:null,b.style.display=ts("display",x))}catch(pe){ct(r,r.return,pe)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=$?"":te.memoizedProps}catch(pe){ct(r,r.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Dn(i,r),ar(r),c&4&&xg(r);break;case 21:break;default:Dn(i,r),ar(r)}}function ar(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(vg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Ys(h,""),c.flags&=-33);var g=_g(r);mh(r,g,h);break;case 3:case 4:var x=c.stateNode.containerInfo,b=_g(r);ph(r,b,x);break;default:throw Error(t(161))}}catch(N){ct(r,r.return,N)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function zx(r,i,a){de=r,Tg(r)}function Tg(r,i,a){for(var c=(r.mode&1)!==0;de!==null;){var h=de,g=h.child;if(h.tag===22&&c){var x=h.memoizedState!==null||Pu;if(!x){var b=h.alternate,N=b!==null&&b.memoizedState!==null||Ut;b=Pu;var $=Ut;if(Pu=x,(Ut=N)&&!$)for(de=h;de!==null;)x=de,N=x.child,x.tag===22&&x.memoizedState!==null?bg(h):N!==null?(N.return=x,de=N):bg(h);for(;g!==null;)de=g,Tg(g),g=g.sibling;de=h,Pu=b,Ut=$}kg(r)}else(h.subtreeFlags&8772)!==0&&g!==null?(g.return=h,de=g):kg(r)}}function kg(r){for(;de!==null;){var i=de;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ut||Du(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Ut)if(a===null)c.componentDidMount();else{var h=i.elementType===i.type?a.memoizedProps:Rn(i.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Im(i,g,c);break;case 3:var x=i.updateQueue;if(x!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Im(i,x,a)}break;case 5:var b=i.stateNode;if(a===null&&i.flags&4){a=b;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&cs(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||i.flags&512&&fh(i)}catch(J){ct(i,i.return,J)}}if(i===r){de=null;break}if(a=i.sibling,a!==null){a.return=i.return,de=a;break}de=i.return}}function Ig(r){for(;de!==null;){var i=de;if(i===r){de=null;break}var a=i.sibling;if(a!==null){a.return=i.return,de=a;break}de=i.return}}function bg(r){for(;de!==null;){var i=de;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Du(4,i)}catch(N){ct(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var h=i.return;try{c.componentDidMount()}catch(N){ct(i,h,N)}}var g=i.return;try{fh(i)}catch(N){ct(i,g,N)}break;case 5:var x=i.return;try{fh(i)}catch(N){ct(i,x,N)}}}catch(N){ct(i,i.return,N)}if(i===r){de=null;break}var b=i.sibling;if(b!==null){b.return=i.return,de=b;break}de=i.return}}var $x=Math.ceil,Ou=ie.ReactCurrentDispatcher,gh=ie.ReactCurrentOwner,En=ie.ReactCurrentBatchConfig,ze=0,bt=null,vt=null,Dt=0,pn=0,ko=ms(0),Et=0,Ka=null,yi=0,ju=0,yh=0,Ga=null,en=null,vh=0,Io=1/0,Mr=null,Lu=!1,_h=null,xs=null,Mu=!1,Es=null,Vu=0,Qa=0,wh=null,Fu=-1,Uu=0;function Gt(){return(ze&6)!==0?Ze():Fu!==-1?Fu:Fu=Ze()}function Ts(r){return(r.mode&1)===0?1:(ze&2)!==0&&Dt!==0?Dt&-Dt:bx.transition!==null?(Uu===0&&(Uu=ga()),Uu):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:Zi(r.type)),r)}function On(r,i,a,c){if(50<Qa)throw Qa=0,wh=null,Error(t(185));ii(r,a,c),((ze&2)===0||r!==bt)&&(r===bt&&((ze&2)===0&&(ju|=a),Et===4&&ks(r,Dt)),tn(r,c),a===1&&ze===0&&(i.mode&1)===0&&(Io=Ze()+500,pu&&ys()))}function tn(r,i){var a=r.callbackNode;si(r,i);var c=kr(r,r===bt?Dt:0);if(c===0)a!==null&&Wi(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&Wi(a),i===1)r.tag===0?Ix(Cg.bind(null,r)):fm(Cg.bind(null,r)),xx(function(){(ze&6)===0&&ys()}),a=null;else{switch(Gn(c)){case 1:a=Ki;break;case 4:a=fa;break;case 16:a=ei;break;case 536870912:a=Gi;break;default:a=ei}a=Lg(a,Sg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Sg(r,i){if(Fu=-1,Uu=0,(ze&6)!==0)throw Error(t(327));var a=r.callbackNode;if(bo()&&r.callbackNode!==a)return null;var c=kr(r,r===bt?Dt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||i)i=Bu(r,c);else{i=c;var h=ze;ze|=2;var g=Ng();(bt!==r||Dt!==i)&&(Mr=null,Io=Ze()+500,_i(r,i));do try{Wx();break}catch(b){Ag(r,b)}while(!0);Vd(),Ou.current=g,ze=h,vt!==null?i=0:(bt=null,Dt=0,i=Et)}if(i!==0){if(i===2&&(h=ma(r),h!==0&&(c=h,i=xh(r,h))),i===1)throw a=Ka,_i(r,0),ks(r,c),tn(r,Ze()),a;if(i===6)ks(r,c);else{if(h=r.current.alternate,(c&30)===0&&!Hx(h)&&(i=Bu(r,c),i===2&&(g=ma(r),g!==0&&(c=g,i=xh(r,g))),i===1))throw a=Ka,_i(r,0),ks(r,c),tn(r,Ze()),a;switch(r.finishedWork=h,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:wi(r,en,Mr);break;case 3:if(ks(r,c),(c&130023424)===c&&(i=vh+500-Ze(),10<i)){if(kr(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){Gt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=Sd(wi.bind(null,r,en,Mr),i);break}wi(r,en,Mr);break;case 4:if(ks(r,c),(c&4194240)===c)break;for(i=r.eventTimes,h=-1;0<c;){var x=31-an(c);g=1<<x,x=i[x],x>h&&(h=x),c&=~g}if(c=h,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*$x(c/1960))-c,10<c){r.timeoutHandle=Sd(wi.bind(null,r,en,Mr),c);break}wi(r,en,Mr);break;case 5:wi(r,en,Mr);break;default:throw Error(t(329))}}}return tn(r,Ze()),r.callbackNode===a?Sg.bind(null,r):null}function xh(r,i){var a=Ga;return r.current.memoizedState.isDehydrated&&(_i(r,i).flags|=256),r=Bu(r,i),r!==2&&(i=en,en=a,i!==null&&Eh(i)),r}function Eh(r){en===null?en=r:en.push.apply(en,r)}function Hx(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],g=h.getSnapshot;h=h.value;try{if(!An(g(),h))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ks(r,i){for(i&=~yh,i&=~ju,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-an(i),c=1<<a;r[a]=-1,i&=~c}}function Cg(r){if((ze&6)!==0)throw Error(t(327));bo();var i=kr(r,0);if((i&1)===0)return tn(r,Ze()),null;var a=Bu(r,i);if(r.tag!==0&&a===2){var c=ma(r);c!==0&&(i=c,a=xh(r,c))}if(a===1)throw a=Ka,_i(r,0),ks(r,i),tn(r,Ze()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,wi(r,en,Mr),tn(r,Ze()),null}function Th(r,i){var a=ze;ze|=1;try{return r(i)}finally{ze=a,ze===0&&(Io=Ze()+500,pu&&ys())}}function vi(r){Es!==null&&Es.tag===0&&(ze&6)===0&&bo();var i=ze;ze|=1;var a=En.transition,c=Fe;try{if(En.transition=null,Fe=1,r)return r()}finally{Fe=c,En.transition=a,ze=i,(ze&6)===0&&ys()}}function kh(){pn=ko.current,tt(ko)}function _i(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,wx(a)),vt!==null)for(a=vt.return;a!==null;){var c=a;switch(Dd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&hu();break;case 3:xo(),tt(Xt),tt(Mt),Wd();break;case 5:Hd(c);break;case 4:xo();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:Fd(c.type._context);break;case 22:case 23:kh()}a=a.return}if(bt=r,vt=r=Is(r.current,null),Dt=pn=i,Et=0,Ka=null,yh=ju=yi=0,en=Ga=null,pi!==null){for(i=0;i<pi.length;i++)if(a=pi[i],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,g=a.pending;if(g!==null){var x=g.next;g.next=h,c.next=x}a.pending=c}pi=null}return r}function Ag(r,i){do{var a=vt;try{if(Vd(),ku.current=Cu,Iu){for(var c=at.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Iu=!1}if(gi=0,It=xt=at=null,Ba=!1,za=0,gh.current=null,a===null||a.return===null){Et=1,Ka=i,vt=null;break}e:{var g=r,x=a.return,b=a,N=i;if(i=Dt,b.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=N,Z=b,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=eg(x);if(ue!==null){ue.flags&=-257,tg(ue,x,b,g,i),ue.mode&1&&Zm(g,$,i),i=ue,N=$;var he=i.updateQueue;if(he===null){var pe=new Set;pe.add(N),i.updateQueue=pe}else he.add(N);break e}else{if((i&1)===0){Zm(g,$,i),Ih();break e}N=Error(t(426))}}else if(st&&b.mode&1){var ft=eg(x);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),tg(ft,x,b,g,i),Ld(Eo(N,b));break e}}g=N=Eo(N,b),Et!==4&&(Et=2),Ga===null?Ga=[g]:Ga.push(g),g=x;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var F=Xm(g,N,i);km(g,F);break e;case 1:b=N;var O=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(xs===null||!xs.has(z)))){g.flags|=65536,i&=-i,g.lanes|=i;var ne=Jm(g,b,i);km(g,ne);break e}}g=g.return}while(g!==null)}Pg(a)}catch(me){i=me,vt===a&&a!==null&&(vt=a=a.return);continue}break}while(!0)}function Ng(){var r=Ou.current;return Ou.current=Cu,r===null?Cu:r}function Ih(){(Et===0||Et===3||Et===2)&&(Et=4),bt===null||(yi&268435455)===0&&(ju&268435455)===0||ks(bt,Dt)}function Bu(r,i){var a=ze;ze|=2;var c=Ng();(bt!==r||Dt!==i)&&(Mr=null,_i(r,i));do try{qx();break}catch(h){Ag(r,h)}while(!0);if(Vd(),ze=a,Ou.current=c,vt!==null)throw Error(t(261));return bt=null,Dt=0,Et}function qx(){for(;vt!==null;)Rg(vt)}function Wx(){for(;vt!==null&&!Zs();)Rg(vt)}function Rg(r){var i=jg(r.alternate,r,pn);r.memoizedProps=r.pendingProps,i===null?Pg(r):vt=i,gh.current=null}function Pg(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=Vx(a,i,pn),a!==null){vt=a;return}}else{if(a=Fx(a,i),a!==null){a.flags&=32767,vt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Et=6,vt=null;return}}if(i=i.sibling,i!==null){vt=i;return}vt=i=r}while(i!==null);Et===0&&(Et=5)}function wi(r,i,a){var c=Fe,h=En.transition;try{En.transition=null,Fe=1,Kx(r,i,a,c)}finally{En.transition=h,Fe=c}return null}function Kx(r,i,a,c){do bo();while(Es!==null);if((ze&6)!==0)throw Error(t(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(dd(r,g),r===bt&&(vt=bt=null,Dt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Mu||(Mu=!0,Lg(ei,function(){return bo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=En.transition,En.transition=null;var x=Fe;Fe=1;var b=ze;ze|=4,gh.current=null,Bx(r,a),Eg(a,r),fx(Id),Sr=!!kd,Id=kd=null,r.current=a,zx(a),Tr(),ze=b,Fe=x,En.transition=g}else r.current=a;if(Mu&&(Mu=!1,Es=r,Vu=h),g=r.pendingLanes,g===0&&(xs=null),Gl(a.stateNode),tn(r,Ze()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)h=i[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(Lu)throw Lu=!1,r=_h,_h=null,r;return(Vu&1)!==0&&r.tag!==0&&bo(),g=r.pendingLanes,(g&1)!==0?r===wh?Qa++:(Qa=0,wh=r):Qa=0,ys(),null}function bo(){if(Es!==null){var r=Gn(Vu),i=En.transition,a=Fe;try{if(En.transition=null,Fe=16>r?16:r,Es===null)var c=!1;else{if(r=Es,Es=null,Vu=0,(ze&6)!==0)throw Error(t(331));var h=ze;for(ze|=4,de=r.current;de!==null;){var g=de,x=g.child;if((de.flags&16)!==0){var b=g.deletions;if(b!==null){for(var N=0;N<b.length;N++){var $=b[N];for(de=$;de!==null;){var Z=de;switch(Z.tag){case 0:case 11:case 15:Wa(8,Z,g)}var te=Z.child;if(te!==null)te.return=Z,de=te;else for(;de!==null;){Z=de;var J=Z.sibling,ue=Z.return;if(yg(Z),Z===$){de=null;break}if(J!==null){J.return=ue,de=J;break}de=ue}}}var he=g.alternate;if(he!==null){var pe=he.child;if(pe!==null){he.child=null;do{var ft=pe.sibling;pe.sibling=null,pe=ft}while(pe!==null)}}de=g}}if((g.subtreeFlags&2064)!==0&&x!==null)x.return=g,de=x;else e:for(;de!==null;){if(g=de,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Wa(9,g,g.return)}var F=g.sibling;if(F!==null){F.return=g.return,de=F;break e}de=g.return}}var O=r.current;for(de=O;de!==null;){x=de;var z=x.child;if((x.subtreeFlags&2064)!==0&&z!==null)z.return=x,de=z;else e:for(x=O;de!==null;){if(b=de,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Du(9,b)}}catch(me){ct(b,b.return,me)}if(b===x){de=null;break e}var ne=b.sibling;if(ne!==null){ne.return=b.return,de=ne;break e}de=b.return}}if(ze=h,ys(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ti,r)}catch{}c=!0}return c}finally{Fe=a,En.transition=i}}return!1}function Dg(r,i,a){i=Eo(a,i),i=Xm(r,i,1),r=_s(r,i,1),i=Gt(),r!==null&&(ii(r,1,i),tn(r,i))}function ct(r,i,a){if(r.tag===3)Dg(r,r,a);else for(;i!==null;){if(i.tag===3){Dg(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xs===null||!xs.has(c))){r=Eo(a,r),r=Jm(i,r,1),i=_s(i,r,1),r=Gt(),i!==null&&(ii(i,1,r),tn(i,r));break}}i=i.return}}function Gx(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=Gt(),r.pingedLanes|=r.suspendedLanes&a,bt===r&&(Dt&a)===a&&(Et===4||Et===3&&(Dt&130023424)===Dt&&500>Ze()-vh?_i(r,0):yh|=a),tn(r,i)}function Og(r,i){i===0&&((r.mode&1)===0?i=1:(i=as,as<<=1,(as&130023424)===0&&(as=4194304)));var a=Gt();r=Or(r,i),r!==null&&(ii(r,i,a),tn(r,a))}function Qx(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),Og(r,a)}function Yx(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Og(r,a)}var jg;jg=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Xt.current)Zt=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return Zt=!1,Mx(r,i,a);Zt=(r.flags&131072)!==0}else Zt=!1,st&&(i.flags&1048576)!==0&&pm(i,gu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Ru(r,i),r=i.pendingProps;var h=po(i,Mt.current);wo(i,a),h=Qd(null,i,c,r,h,a);var g=Yd();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Jt(c)?(g=!0,fu(i)):g=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,zd(i),h.updater=Au,i.stateNode=h,h._reactInternals=i,nh(i,c,r,a),i=oh(null,i,c,!0,g,a)):(i.tag=0,st&&g&&Pd(i),Kt(null,i,h,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Ru(r,i),r=i.pendingProps,h=c._init,c=h(c._payload),i.type=c,h=i.tag=Jx(c),r=Rn(c,r),h){case 0:i=ih(null,i,c,r,a);break e;case 1:i=ag(null,i,c,r,a);break e;case 11:i=ng(null,i,c,r,a);break e;case 14:i=rg(null,i,c,Rn(c.type,r),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:Rn(c,h),ih(r,i,c,h,a);case 1:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:Rn(c,h),ag(r,i,c,h,a);case 3:e:{if(lg(i),r===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,h=g.element,Tm(r,i),Eu(i,c,null,a);var x=i.memoizedState;if(c=x.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){h=Eo(Error(t(423)),i),i=ug(r,i,c,a,h);break e}else if(c!==h){h=Eo(Error(t(424)),i),i=ug(r,i,c,a,h);break e}else for(fn=ps(i.stateNode.containerInfo.firstChild),hn=i,st=!0,Nn=null,a=xm(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(yo(),c===h){i=Lr(r,i,a);break e}Kt(r,i,c,a)}i=i.child}return i;case 5:return bm(i),r===null&&jd(i),c=i.type,h=i.pendingProps,g=r!==null?r.memoizedProps:null,x=h.children,bd(c,h)?x=null:g!==null&&bd(c,g)&&(i.flags|=32),og(r,i),Kt(r,i,x,a),i.child;case 6:return r===null&&jd(i),null;case 13:return cg(r,i,a);case 4:return $d(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=vo(i,null,c,a):Kt(r,i,c,a),i.child;case 11:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:Rn(c,h),ng(r,i,c,h,a);case 7:return Kt(r,i,i.pendingProps,a),i.child;case 8:return Kt(r,i,i.pendingProps.children,a),i.child;case 12:return Kt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,h=i.pendingProps,g=i.memoizedProps,x=h.value,Je(_u,c._currentValue),c._currentValue=x,g!==null)if(An(g.value,x)){if(g.children===h.children&&!Xt.current){i=Lr(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var b=g.dependencies;if(b!==null){x=g.child;for(var N=b.firstContext;N!==null;){if(N.context===c){if(g.tag===1){N=jr(-1,a&-a),N.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),$.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),Ud(g.return,a,i),b.lanes|=a;break}N=N.next}}else if(g.tag===10)x=g.type===i.type?null:g.child;else if(g.tag===18){if(x=g.return,x===null)throw Error(t(341));x.lanes|=a,b=x.alternate,b!==null&&(b.lanes|=a),Ud(x,a,i),x=g.sibling}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===i){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}Kt(r,i,h.children,a),i=i.child}return i;case 9:return h=i.type,c=i.pendingProps.children,wo(i,a),h=wn(h),c=c(h),i.flags|=1,Kt(r,i,c,a),i.child;case 14:return c=i.type,h=Rn(c,i.pendingProps),h=Rn(c.type,h),rg(r,i,c,h,a);case 15:return sg(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,h=i.pendingProps,h=i.elementType===c?h:Rn(c,h),Ru(r,i),i.tag=1,Jt(c)?(r=!0,fu(i)):r=!1,wo(i,a),Qm(i,c,h),nh(i,c,h,a),oh(null,i,c,!0,r,a);case 19:return hg(r,i,a);case 22:return ig(r,i,a)}throw Error(t(156,i.tag))};function Lg(r,i){return ha(r,i)}function Xx(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(r,i,a,c){return new Xx(r,i,a,c)}function bh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Jx(r){if(typeof r=="function")return bh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===V)return 11;if(r===dt)return 14}return 2}function Is(r,i){var a=r.alternate;return a===null?(a=Tn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function zu(r,i,a,c,h,g){var x=2;if(c=r,typeof r=="function")bh(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case A:return xi(a.children,h,g,i);case k:x=8,h|=8;break;case S:return r=Tn(12,a,i,h|2),r.elementType=S,r.lanes=g,r;case C:return r=Tn(13,a,i,h),r.elementType=C,r.lanes=g,r;case qe:return r=Tn(19,a,i,h),r.elementType=qe,r.lanes=g,r;case Qe:return $u(a,h,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:x=10;break e;case R:x=9;break e;case V:x=11;break e;case dt:x=14;break e;case gt:x=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Tn(x,a,i,h),i.elementType=r,i.type=c,i.lanes=g,i}function xi(r,i,a,c){return r=Tn(7,r,c,i),r.lanes=a,r}function $u(r,i,a,c){return r=Tn(22,r,c,i),r.elementType=Qe,r.lanes=a,r.stateNode={isHidden:!1},r}function Sh(r,i,a){return r=Tn(6,r,null,i),r.lanes=a,r}function Ch(r,i,a){return i=Tn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Zx(r,i,a,c,h){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ya(0),this.expirationTimes=ya(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ah(r,i,a,c,h,g,x,b,N){return r=new Zx(r,i,a,b,N),i===1?(i=1,g===!0&&(i|=8)):i=0,g=Tn(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(g),r}function eE(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function Mg(r){if(!r)return gs;r=r._reactInternals;e:{if(Sn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Jt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jt(a))return dm(r,a,i)}return i}function Vg(r,i,a,c,h,g,x,b,N){return r=Ah(a,c,!0,r,h,g,x,b,N),r.context=Mg(null),a=r.current,c=Gt(),h=Ts(a),g=jr(c,h),g.callback=i??null,_s(a,g,h),r.current.lanes=h,ii(r,h,c),tn(r,c),r}function Hu(r,i,a,c){var h=i.current,g=Gt(),x=Ts(h);return a=Mg(a),i.context===null?i.context=a:i.pendingContext=a,i=jr(g,x),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=_s(h,i,x),r!==null&&(On(r,h,x,g),xu(r,h,x)),x}function qu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Fg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Nh(r,i){Fg(r,i),(r=r.alternate)&&Fg(r,i)}function tE(){return null}var Ug=typeof reportError=="function"?reportError:function(r){console.error(r)};function Rh(r){this._internalRoot=r}Wu.prototype.render=Rh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Hu(r,i,null,null)},Wu.prototype.unmount=Rh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;vi(function(){Hu(null,r,null,null)}),i[Nr]=null}};function Wu(r){this._internalRoot=r}Wu.prototype.unstable_scheduleHydration=function(r){if(r){var i=xa();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ln.length&&i!==0&&i<ln[a].priority;a++);ln.splice(a,0,r),a===0&&Xi(r)}};function Ph(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ku(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Bg(){}function nE(r,i,a,c,h){if(h){if(typeof c=="function"){var g=c;c=function(){var $=qu(x);g.call($)}}var x=Vg(i,c,r,0,null,!1,!1,"",Bg);return r._reactRootContainer=x,r[Nr]=x.current,Da(r.nodeType===8?r.parentNode:r),vi(),x}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var b=c;c=function(){var $=qu(N);b.call($)}}var N=Ah(r,0,!1,null,null,!1,!1,"",Bg);return r._reactRootContainer=N,r[Nr]=N.current,Da(r.nodeType===8?r.parentNode:r),vi(function(){Hu(i,N,a,c)}),N}function Gu(r,i,a,c,h){var g=a._reactRootContainer;if(g){var x=g;if(typeof h=="function"){var b=h;h=function(){var N=qu(x);b.call(N)}}Hu(i,x,r,h)}else x=nE(a,i,r,h,c);return qu(x)}_a=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=He(i.pendingLanes);a!==0&&(va(i,a|1),tn(i,Ze()),(ze&6)===0&&(Io=Ze()+500,ys()))}break;case 13:vi(function(){var c=Or(r,1);if(c!==null){var h=Gt();On(c,r,1,h)}}),Nh(r,1)}},Qi=function(r){if(r.tag===13){var i=Or(r,134217728);if(i!==null){var a=Gt();On(i,r,134217728,a)}Nh(r,134217728)}},wa=function(r){if(r.tag===13){var i=Ts(r),a=Or(r,i);if(a!==null){var c=Gt();On(a,r,i,c)}Nh(r,i)}},xa=function(){return Fe},Ea=function(r,i){var a=Fe;try{return Fe=r,i()}finally{Fe=a}},wr=function(r,i,a){switch(i){case"input":if(ke(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var h=du(c);if(!h)throw Error(t(90));Qs(c),ke(c,h)}}}break;case"textarea":Ll(r,a);break;case"select":i=a.value,i!=null&&Yt(r,!!a.multiple,i,!1)}},Fl=Th,Ul=vi;var rE={usingClientEntryPoint:!1,Events:[La,ho,du,rs,ss,Th]},Ya={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sE={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Kl(r),r===null?null:r.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||tE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{ti=Qu.inject(sE),on=Qu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rE,nn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ph(i))throw Error(t(200));return eE(r,i,null,a)},nn.createRoot=function(r,i){if(!Ph(r))throw Error(t(299));var a=!1,c="",h=Ug;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=Ah(r,1,!1,null,null,a,!1,c,h),r[Nr]=i.current,Da(r.nodeType===8?r.parentNode:r),new Rh(i)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Kl(i),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return vi(r)},nn.hydrate=function(r,i,a){if(!Ku(i))throw Error(t(200));return Gu(null,r,i,!0,a)},nn.hydrateRoot=function(r,i,a){if(!Ph(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,h=!1,g="",x=Ug;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),i=Vg(i,null,r,1,a??null,h,!1,g,x),r[Nr]=i.current,Da(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,h]:i.mutableSourceEagerHydrationData.push(a,h);return new Wu(i)},nn.render=function(r,i,a){if(!Ku(i))throw Error(t(200));return Gu(null,r,i,!1,a)},nn.unmountComponentAtNode=function(r){if(!Ku(r))throw Error(t(40));return r._reactRootContainer?(vi(function(){Gu(null,null,r,!1,function(){r._reactRootContainer=null,r[Nr]=null})}),!0):!1},nn.unstable_batchedUpdates=Th,nn.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!Ku(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Gu(r,i,a,!1,c)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Qg;function hE(){if(Qg)return jh.exports;Qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jh.exports=dE(),jh.exports}var Yg;function fE(){if(Yg)return Yu;Yg=1;var n=hE();return Yu.createRoot=n.createRoot,Yu.hydrateRoot=n.hydrateRoot,Yu}var pE=fE(),j=Mf();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xg="popstate";function mE(n={}){function e(s,o){let{pathname:l,search:d,hash:f}=s.location;return rf("",{pathname:l,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:fl(o)}return yE(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function In(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gE(){return Math.random().toString(36).substring(2,10)}function Jg(n,e){return{usr:n.state,key:n.key,idx:e}}function rf(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Wo(e):e,state:t,key:e&&e.key||s||gE()}}function fl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Wo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function yE(n,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,d=o.history,f="POP",m=null,v=w();v==null&&(v=0,d.replaceState({...d.state,idx:v},""));function w(){return(d.state||{idx:null}).idx}function E(){f="POP";let L=w(),Q=L==null?null:L-v;v=L,m&&m({action:f,location:B.location,delta:Q})}function I(L,Q){f="PUSH";let X=rf(B.location,L,Q);v=w()+1;let Y=Jg(X,v),ie=B.createHref(X);try{d.pushState(Y,"",ie)}catch(be){if(be instanceof DOMException&&be.name==="DataCloneError")throw be;o.location.assign(ie)}l&&m&&m({action:f,location:B.location,delta:1})}function P(L,Q){f="REPLACE";let X=rf(B.location,L,Q);v=w();let Y=Jg(X,v),ie=B.createHref(X);d.replaceState(Y,"",ie),l&&m&&m({action:f,location:B.location,delta:0})}function W(L){return vE(L)}let B={get action(){return f},get location(){return n(o,d)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Xg,E),m=L,()=>{o.removeEventListener(Xg,E),m=null}},createHref(L){return e(o,L)},createURL:W,encodeLocation(L){let Q=W(L);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:P,go(L){return d.go(L)}};return B}function vE(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:fl(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Ky(n,e,t="/"){return _E(n,e,t,!1)}function _E(n,e,t,s){let o=typeof e=="string"?Wo(e):e,l=qr(o.pathname||"/",t);if(l==null)return null;let d=Gy(n);wE(d);let f=null;for(let m=0;f==null&&m<d.length;++m){let v=RE(l);f=AE(d[m],v,s)}return f}function Gy(n,e=[],t=[],s="",o=!1){let l=(d,f,m=o,v)=>{let w={relativePath:v===void 0?d.path||"":v,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&m)return;it(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let E=$r([s,w.relativePath]),I=t.concat(w);d.children&&d.children.length>0&&(it(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Gy(d.children,e,I,E,m)),!(d.path==null&&!d.index)&&e.push({path:E,score:SE(E,d.index),routesMeta:I})};return n.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))l(d,f);else for(let m of Qy(d.path))l(d,f,!0,m)}),e}function Qy(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let d=Qy(s.join("/")),f=[];return f.push(...d.map(m=>m===""?l:[l,m].join("/"))),o&&f.push(...d),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function wE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:CE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var xE=/^:[\w-]+$/,EE=3,TE=2,kE=1,IE=10,bE=-2,Zg=n=>n==="*";function SE(n,e){let t=n.split("/"),s=t.length;return t.some(Zg)&&(s+=bE),e&&(s+=TE),t.filter(o=>!Zg(o)).reduce((o,l)=>o+(xE.test(l)?EE:l===""?kE:IE),s)}function CE(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function AE(n,e,t=!1){let{routesMeta:s}=n,o={},l="/",d=[];for(let f=0;f<s.length;++f){let m=s[f],v=f===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",E=vc({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},w),I=m.route;if(!E&&v&&t&&!s[s.length-1].route.index&&(E=vc({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!E)return null;Object.assign(o,E.params),d.push({params:o,pathname:$r([l,E.pathname]),pathnameBase:LE($r([l,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(l=$r([l,E.pathnameBase]))}return d}function vc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=NE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:E},I)=>{if(w==="*"){let W=f[I]||"";d=l.slice(0,l.length-W.length).replace(/(.)\/+$/,"$1")}const P=f[I];return E&&!P?v[w]=void 0:v[w]=(P||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:d,pattern:n}}function NE(n,e=!1,t=!0){In(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,m)=>(s.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function RE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return In(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function qr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DE=n=>PE.test(n);function OE(n,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Wo(n):n,l;if(t)if(DE(t))l=t;else{if(t.includes("//")){let d=t;t=t.replace(/\/\/+/g,"/"),In(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${t}`)}t.startsWith("/")?l=e0(t.substring(1),"/"):l=e0(t,e)}else l=e;return{pathname:l,search:ME(s),hash:VE(o)}}function e0(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Vh(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Vf(n){let e=jE(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Ff(n,e,t,s=!1){let o;typeof n=="string"?o=Wo(n):(o={...n},it(!o.pathname||!o.pathname.includes("?"),Vh("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Vh("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Vh("#","search","hash",o)));let l=n===""||o.pathname==="",d=l?"/":o.pathname,f;if(d==null)f=t;else{let E=e.length-1;if(!s&&d.startsWith("..")){let I=d.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}f=E>=0?e[E]:"/"}let m=OE(o,f),v=d&&d!=="/"&&d.endsWith("/"),w=(l||d===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(v||w)&&(m.pathname+="/"),m}var $r=n=>n.join("/").replace(/\/\/+/g,"/"),LE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ME=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,VE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function FE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yy=["POST","PUT","PATCH","DELETE"];new Set(Yy);var UE=["GET",...Yy];new Set(UE);var Ko=j.createContext(null);Ko.displayName="DataRouter";var Uc=j.createContext(null);Uc.displayName="DataRouterState";j.createContext(!1);var Xy=j.createContext({isTransitioning:!1});Xy.displayName="ViewTransition";var BE=j.createContext(new Map);BE.displayName="Fetchers";var zE=j.createContext(null);zE.displayName="Await";var Bn=j.createContext(null);Bn.displayName="Navigation";var bl=j.createContext(null);bl.displayName="Location";var _r=j.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var Uf=j.createContext(null);Uf.displayName="RouteError";function $E(n,{relative:e}={}){it(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(Bn),{hash:o,pathname:l,search:d}=Sl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:$r([t,l])),s.createHref({pathname:f,search:d,hash:o})}function Go(){return j.useContext(bl)!=null}function Ks(){return it(Go(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(bl).location}var Jy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zy(n){j.useContext(Bn).static||j.useLayoutEffect(n)}function ev(){let{isDataRoute:n}=j.useContext(_r);return n?n1():HE()}function HE(){it(Go(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(Ko),{basename:e,navigator:t}=j.useContext(Bn),{matches:s}=j.useContext(_r),{pathname:o}=Ks(),l=JSON.stringify(Vf(s)),d=j.useRef(!1);return Zy(()=>{d.current=!0}),j.useCallback((m,v={})=>{if(In(d.current,Jy),!d.current)return;if(typeof m=="number"){t.go(m);return}let w=Ff(m,JSON.parse(l),o,v.relative==="path");n==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:$r([e,w.pathname])),(v.replace?t.replace:t.push)(w,v.state,v)},[e,t,l,o,n])}j.createContext(null);function Sl(n,{relative:e}={}){let{matches:t}=j.useContext(_r),{pathname:s}=Ks(),o=JSON.stringify(Vf(t));return j.useMemo(()=>Ff(n,JSON.parse(o),s,e==="path"),[n,o,s,e])}function qE(n,e){return tv(n,e)}function tv(n,e,t,s,o){it(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=j.useContext(Bn),{matches:d}=j.useContext(_r),f=d[d.length-1],m=f?f.params:{},v=f?f.pathname:"/",w=f?f.pathnameBase:"/",E=f&&f.route;{let X=E&&E.path||"";nv(v,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let I=Ks(),P;if(e){let X=typeof e=="string"?Wo(e):e;it(w==="/"||X.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${X.pathname}" was given in the \`location\` prop.`),P=X}else P=I;let W=P.pathname||"/",B=W;if(w!=="/"){let X=w.replace(/^\//,"").split("/");B="/"+W.replace(/^\//,"").split("/").slice(X.length).join("/")}let L=Ky(n,{pathname:B});In(E||L!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),In(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=YE(L&&L.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:$r([w,l.encodeLocation?l.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?w:$r([w,l.encodeLocation?l.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),d,t,s,o);return e&&Q?j.createElement(bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Q):Q}function WE(){let n=t1(),e=FE(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,d)}var KE=j.createElement(WE,null),GE=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?j.createElement(_r.Provider,{value:this.props.routeContext},j.createElement(Uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QE({routeContext:n,match:e,children:t}){let s=j.useContext(Ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(_r.Provider,{value:n},t)}function YE(n,e=[],t=null,s=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,d=t?.errors;if(d!=null){let w=l.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);it(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),l=l.slice(0,Math.min(l.length,w+1))}let f=!1,m=-1;if(t)for(let w=0;w<l.length;w++){let E=l[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=w),E.route.id){let{loaderData:I,errors:P}=t,W=E.route.loader&&!I.hasOwnProperty(E.route.id)&&(!P||P[E.route.id]===void 0);if(E.route.lazy||W){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let v=t&&s?(w,E)=>{s(w,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:E})}:void 0;return l.reduceRight((w,E,I)=>{let P,W=!1,B=null,L=null;t&&(P=d&&E.route.id?d[E.route.id]:void 0,B=E.route.errorElement||KE,f&&(m<0&&I===0?(nv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,L=null):m===I&&(W=!0,L=E.route.hydrateFallbackElement||null)));let Q=e.concat(l.slice(0,I+1)),X=()=>{let Y;return P?Y=B:W?Y=L:E.route.Component?Y=j.createElement(E.route.Component,null):E.route.element?Y=E.route.element:Y=w,j.createElement(QE,{match:E,routeContext:{outlet:w,matches:Q,isDataRoute:t!=null},children:Y})};return t&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?j.createElement(GE,{location:t.location,revalidation:t.revalidation,component:B,error:P,children:X(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:v}):X()},null)}function Bf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(n){let e=j.useContext(Ko);return it(e,Bf(n)),e}function JE(n){let e=j.useContext(Uc);return it(e,Bf(n)),e}function ZE(n){let e=j.useContext(_r);return it(e,Bf(n)),e}function zf(n){let e=ZE(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function e1(){return zf("useRouteId")}function t1(){let n=j.useContext(Uf),e=JE("useRouteError"),t=zf("useRouteError");return n!==void 0?n:e.errors?.[t]}function n1(){let{router:n}=XE("useNavigate"),e=zf("useNavigate"),t=j.useRef(!1);return Zy(()=>{t.current=!0}),j.useCallback(async(o,l={})=>{In(t.current,Jy),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var t0={};function nv(n,e,t){!e&&!t0[n]&&(t0[n]=!0,In(!1,t))}j.memo(r1);function r1({routes:n,future:e,state:t,unstable_onError:s}){return tv(n,void 0,t,s,e)}function Xu({to:n,replace:e,state:t,relative:s}){it(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(Bn);In(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(_r),{pathname:d}=Ks(),f=ev(),m=Ff(n,Vf(l),d,s==="path"),v=JSON.stringify(m);return j.useEffect(()=>{f(JSON.parse(v),{replace:e,state:t,relative:s})},[f,v,s,e,t]),null}function Za(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s1({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){it(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=Wo(t));let{pathname:m="/",search:v="",hash:w="",state:E=null,key:I="default"}=t,P=j.useMemo(()=>{let W=qr(m,d);return W==null?null:{location:{pathname:W,search:v,hash:w,state:E,key:I},navigationType:s}},[d,m,v,w,E,I,s]);return In(P!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:j.createElement(Bn.Provider,{value:f},j.createElement(bl.Provider,{children:e,value:P}))}function i1({children:n,location:e}){return qE(sf(n),e)}function sf(n,e=[]){let t=[];return j.Children.forEach(n,(s,o)=>{if(!j.isValidElement(s))return;let l=[...e,o];if(s.type===j.Fragment){t.push.apply(t,sf(s.props.children,l));return}it(s.type===Za,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=sf(s.props.children,l)),t.push(d)}),t}var oc="get",ac="application/x-www-form-urlencoded";function Bc(n){return n!=null&&typeof n.tagName=="string"}function o1(n){return Bc(n)&&n.tagName.toLowerCase()==="button"}function a1(n){return Bc(n)&&n.tagName.toLowerCase()==="form"}function l1(n){return Bc(n)&&n.tagName.toLowerCase()==="input"}function u1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function c1(n,e){return n.button===0&&(!e||e==="_self")&&!u1(n)}var Ju=null;function d1(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var h1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fh(n){return n!=null&&!h1.has(n)?(In(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ac}"`),null):n}function f1(n,e){let t,s,o,l,d;if(a1(n)){let f=n.getAttribute("action");s=f?qr(f,e):null,t=n.getAttribute("method")||oc,o=Fh(n.getAttribute("enctype"))||ac,l=new FormData(n)}else if(o1(n)||l1(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(s=m?qr(m,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||oc,o=Fh(n.getAttribute("formenctype"))||Fh(f.getAttribute("enctype"))||ac,l=new FormData(f,n),!d1()){let{name:v,type:w,value:E}=n;if(w==="image"){let I=v?`${v}.`:"";l.append(`${I}x`,"0"),l.append(`${I}y`,"0")}else v&&l.append(v,E)}}else{if(Bc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=oc,s=null,o=ac,d=n}return l&&o==="text/plain"&&(d=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $f(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function p1(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&qr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function m1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function y1(n,e,t){let s=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await m1(l,t);return d.links?d.links():[]}return[]}));return x1(s.flat(1).filter(g1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n0(n,e,t,s,o,l){let d=(m,v)=>t[v]?m.route.id!==t[v].route.id:!0,f=(m,v)=>t[v].pathname!==m.pathname||t[v].route.path?.endsWith("*")&&t[v].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,v)=>d(m,v)||f(m,v)):l==="data"?e.filter((m,v)=>{let w=s.routes[m.route.id];if(!w||!w.hasLoader)return!1;if(d(m,v)||f(m,v))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function v1(n,e,{includeHydrateFallback:t}={}){return _1(n.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function _1(n){return[...new Set(n)]}function w1(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function x1(n,e){let t=new Set;return new Set(e),n.reduce((s,o)=>{let l=JSON.stringify(w1(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function rv(){let n=j.useContext(Ko);return $f(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function E1(){let n=j.useContext(Uc);return $f(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Hf=j.createContext(void 0);Hf.displayName="FrameworkContext";function sv(){let n=j.useContext(Hf);return $f(n,"You must render this element inside a <HydratedRouter> element"),n}function T1(n,e){let t=j.useContext(Hf),[s,o]=j.useState(!1),[l,d]=j.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:v,onMouseLeave:w,onTouchStart:E}=e,I=j.useRef(null);j.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let B=Q=>{Q.forEach(X=>{d(X.isIntersecting)})},L=new IntersectionObserver(B,{threshold:.5});return I.current&&L.observe(I.current),()=>{L.disconnect()}}},[n]),j.useEffect(()=>{if(s){let B=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(B)}}},[s]);let P=()=>{o(!0)},W=()=>{o(!1),d(!1)};return t?n!=="intent"?[l,I,{}]:[l,I,{onFocus:Ja(f,P),onBlur:Ja(m,W),onMouseEnter:Ja(v,P),onMouseLeave:Ja(w,W),onTouchStart:Ja(E,P)}]:[!1,I,{}]}function Ja(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function k1({page:n,...e}){let{router:t}=rv(),s=j.useMemo(()=>Ky(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?j.createElement(b1,{page:n,matches:s,...e}):null}function I1(n){let{manifest:e,routeModules:t}=sv(),[s,o]=j.useState([]);return j.useEffect(()=>{let l=!1;return y1(n,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[n,e,t]),s}function b1({page:n,matches:e,...t}){let s=Ks(),{manifest:o,routeModules:l}=sv(),{basename:d}=rv(),{loaderData:f,matches:m}=E1(),v=j.useMemo(()=>n0(n,e,m,o,s,"data"),[n,e,m,o,s]),w=j.useMemo(()=>n0(n,e,m,o,s,"assets"),[n,e,m,o,s]),E=j.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let W=new Set,B=!1;if(e.forEach(Q=>{let X=o.routes[Q.route.id];!X||!X.hasLoader||(!v.some(Y=>Y.route.id===Q.route.id)&&Q.route.id in f&&l[Q.route.id]?.shouldRevalidate||X.hasClientLoader?B=!0:W.add(Q.route.id))}),W.size===0)return[];let L=p1(n,d,"data");return B&&W.size>0&&L.searchParams.set("_routes",e.filter(Q=>W.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[L.pathname+L.search]},[d,f,s,o,v,e,n,l]),I=j.useMemo(()=>v1(w,o),[w,o]),P=I1(w);return j.createElement(j.Fragment,null,E.map(W=>j.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...t})),I.map(W=>j.createElement("link",{key:W,rel:"modulepreload",href:W,...t})),P.map(({key:W,link:B})=>j.createElement("link",{key:W,nonce:t.nonce,...B})))}function S1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iv&&(window.__reactRouterVersion="7.9.6")}catch{}function C1({basename:n,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=mE({window:t,v5Compat:!0}));let o=s.current,[l,d]=j.useState({action:o.action,location:o.location}),f=j.useCallback(m=>{j.startTransition(()=>d(m))},[d]);return j.useLayoutEffect(()=>o.listen(f),[o,f]),j.createElement(s1,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var ov=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,av=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:d,state:f,target:m,to:v,preventScrollReset:w,viewTransition:E,...I},P){let{basename:W}=j.useContext(Bn),B=typeof v=="string"&&ov.test(v),L,Q=!1;if(typeof v=="string"&&B&&(L=v,iv))try{let S=new URL(window.location.href),D=v.startsWith("//")?new URL(S.protocol+v):new URL(v),R=qr(D.pathname,W);D.origin===S.origin&&R!=null?v=R+D.search+D.hash:Q=!0}catch{In(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=$E(v,{relative:o}),[Y,ie,be]=T1(s,I),H=P1(v,{replace:d,state:f,target:m,preventScrollReset:w,relative:o,viewTransition:E});function A(S){e&&e(S),S.defaultPrevented||H(S)}let k=j.createElement("a",{...I,...be,href:L||X,onClick:Q||l?e:A,ref:S1(P,ie),target:m,"data-discover":!B&&t==="render"?"true":void 0});return Y&&!B?j.createElement(j.Fragment,null,k,j.createElement(k1,{page:X})):k});av.displayName="Link";var A1=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:d,viewTransition:f,children:m,...v},w){let E=Sl(d,{relative:v.relative}),I=Ks(),P=j.useContext(Uc),{navigator:W,basename:B}=j.useContext(Bn),L=P!=null&&M1(E)&&f===!0,Q=W.encodeLocation?W.encodeLocation(E).pathname:E.pathname,X=I.pathname,Y=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(X=X.toLowerCase(),Y=Y?Y.toLowerCase():null,Q=Q.toLowerCase()),Y&&B&&(Y=qr(Y,B)||Y);const ie=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let be=X===Q||!o&&X.startsWith(Q)&&X.charAt(ie)==="/",H=Y!=null&&(Y===Q||!o&&Y.startsWith(Q)&&Y.charAt(Q.length)==="/"),A={isActive:be,isPending:H,isTransitioning:L},k=be?e:void 0,S;typeof s=="function"?S=s(A):S=[s,be?"active":null,H?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(A):l;return j.createElement(av,{...v,"aria-current":k,className:S,ref:w,style:D,to:d,viewTransition:f},typeof m=="function"?m(A):m)});A1.displayName="NavLink";var N1=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:d=oc,action:f,onSubmit:m,relative:v,preventScrollReset:w,viewTransition:E,...I},P)=>{let W=j1(),B=L1(f,{relative:v}),L=d.toLowerCase()==="get"?"get":"post",Q=typeof f=="string"&&ov.test(f),X=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,be=ie?.getAttribute("formmethod")||d;W(ie||Y.currentTarget,{fetcherKey:e,method:be,navigate:t,replace:o,state:l,relative:v,preventScrollReset:w,viewTransition:E})};return j.createElement("form",{ref:P,method:L,action:B,onSubmit:s?m:X,...I,"data-discover":!Q&&n==="render"?"true":void 0})});N1.displayName="Form";function R1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lv(n){let e=j.useContext(Ko);return it(e,R1(n)),e}function P1(n,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:d}={}){let f=ev(),m=Ks(),v=Sl(n,{relative:l});return j.useCallback(w=>{if(c1(w,e)){w.preventDefault();let E=t!==void 0?t:fl(m)===fl(v);f(n,{replace:E,state:s,preventScrollReset:o,relative:l,viewTransition:d})}},[m,f,v,t,s,e,n,o,l,d])}var D1=0,O1=()=>`__${String(++D1)}__`;function j1(){let{router:n}=lv("useSubmit"),{basename:e}=j.useContext(Bn),t=e1();return j.useCallback(async(s,o={})=>{let{action:l,method:d,encType:f,formData:m,body:v}=f1(s,e);if(o.navigate===!1){let w=o.fetcherKey||O1();await n.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||d,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||d,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function L1(n,{relative:e}={}){let{basename:t}=j.useContext(Bn),s=j.useContext(_r);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...Sl(n||".",{relative:e})},d=Ks();if(n==null){l.search=d.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(w=>w==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let w=f.toString();l.search=w?`?${w}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:$r([t,l.pathname])),fl(l)}function M1(n,{relative:e}={}){let t=j.useContext(Xy);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=lv("useViewTransitionState"),o=Sl(n,{relative:e});if(!t.isTransitioning)return!1;let l=qr(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=qr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return vc(o.pathname,d)!=null||vc(o.pathname,l)!=null}const V1=()=>{};var r0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},F1=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],d=n[t++],f=n[t++],m=((o&7)<<18|(l&63)<<12|(d&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],d=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},cv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],d=o+1<n.length,f=d?n[o+1]:0,m=o+2<n.length,v=m?n[o+2]:0,w=l>>2,E=(l&3)<<4|f>>4;let I=(f&15)<<2|v>>6,P=v&63;m||(P=64,d||(I=64)),s.push(t[w],t[E],t[I],t[P])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):F1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||v==null||E==null)throw new U1;const I=l<<2|f>>4;if(s.push(I),v!==64){const P=f<<4&240|v>>2;if(s.push(P),E!==64){const W=v<<6&192|E;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class U1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(n){const e=uv(n);return cv.encodeByteArray(e,!0)},_c=function(n){return B1(n).replace(/\./g,"")},dv=function(n){try{return cv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=()=>z1().__FIREBASE_DEFAULTS__,H1=()=>{if(typeof process>"u"||typeof r0>"u")return;const n=r0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},q1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&dv(n[1]);return e&&JSON.parse(e)},zc=()=>{try{return V1()||$1()||H1()||q1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hv=n=>zc()?.emulatorHosts?.[n],W1=n=>{const e=hv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},fv=()=>zc()?.config,pv=n=>zc()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mv(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[_c(JSON.stringify(t)),_c(JSON.stringify(d)),""].join(".")}const ol={};function Q1(){const n={prod:[],emulator:[]};for(const e of Object.keys(ol))ol[e]?n.emulator.push(e):n.prod.push(e);return n}function Y1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let s0=!1;function gv(n,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||ol[n]===e||ol[n]||s0)return;ol[n]=e;function t(I){return`__firebase__banner__${I}`}const s="__firebase__banner",l=Q1().prod.length>0;function d(){const I=document.getElementById(s);I&&I.remove()}function f(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function m(I,P){I.setAttribute("width","24"),I.setAttribute("id",P),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function v(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{s0=!0,d()},I}function w(I,P){I.setAttribute("id",P),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=Y1(s),P=t("text"),W=document.getElementById(P)||document.createElement("span"),B=t("learnmore"),L=document.getElementById(B)||document.createElement("a"),Q=t("preprendIcon"),X=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const Y=I.element;f(Y),w(L,B);const ie=v();m(X,Q),Y.append(X,W,L,ie),document.body.appendChild(Y)}l?(W.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function J1(){const n=zc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yv(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tT(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nT(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vv(){try{return typeof indexedDB=="object"}catch{return!1}}function _v(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function rT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="FirebaseError";class zn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=sT,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ji.prototype.create)}}class ji{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?iT(l,s):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new zn(o,f,s)}}function iT(n,e){return n.replace(oT,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const oT=/\{\$([^}]+)}/g;function aT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Us(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],d=e[o];if(i0(l)&&i0(d)){if(!Us(l,d))return!1}else if(l!==d)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function i0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function el(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function tl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lT(n,e){const t=new uT(n,e);return t.subscribe.bind(t)}class uT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");cT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Uh),o.error===void 0&&(o.error=Uh),o.complete===void 0&&(o.complete=Uh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Uh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=1e3,hT=2,fT=14400*1e3,pT=.5;function o0(n,e=dT,t=hT){const s=e*Math.pow(t,n),o=Math.round(pT*s*(Math.random()-.5)*2);return Math.min(fT,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(n){return n&&n._delegate?n._delegate:n}class Fn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new K1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yT(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&d.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gT(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gT(n){return n===Ei?void 0:n}function yT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const _T={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},wT=je.INFO,xT={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},ET=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=xT[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $c{constructor(e){this.name=e,this._logLevel=wT,this._logHandler=ET,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const TT=(n,e)=>e.some(t=>n instanceof t);let a0,l0;function kT(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IT(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,of=new WeakMap,xv=new WeakMap,Bh=new WeakMap,qf=new WeakMap;function bT(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(Ds(n.result)),o()},d=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&wv.set(t,n)}).catch(()=>{}),qf.set(e,n),e}function ST(n){if(of.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});of.set(n,e)}let af={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return of.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CT(n){af=n(af)}function AT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(zh(this),e,...t);return xv.set(s,e.sort?e.sort():[e]),Ds(s)}:IT().includes(n)?function(...e){return n.apply(zh(this),e),Ds(wv.get(this))}:function(...e){return Ds(n.apply(zh(this),e))}}function NT(n){return typeof n=="function"?AT(n):(n instanceof IDBTransaction&&ST(n),TT(n,kT())?new Proxy(n,af):n)}function Ds(n){if(n instanceof IDBRequest)return bT(n);if(Bh.has(n))return Bh.get(n);const e=NT(n);return e!==n&&(Bh.set(n,e),qf.set(e,n)),e}const zh=n=>qf.get(n);function Ev(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const d=indexedDB.open(n,e),f=Ds(d);return s&&d.addEventListener("upgradeneeded",m=>{s(Ds(d.result),m.oldVersion,m.newVersion,Ds(d.transaction),m)}),t&&d.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const RT=["get","getKey","getAll","getAllKeys","count"],PT=["put","add","delete","clear"],$h=new Map;function u0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($h.get(e))return $h.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=PT.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RT.includes(t)))return;const l=async function(d,...f){const m=this.transaction(d,o?"readwrite":"readonly");let v=m.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&m.done]))[0]};return $h.set(e,l),l}CT(n=>({...n,get:(e,t,s)=>u0(e,t)||n.get(e,t,s),has:(e,t)=>!!u0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OT(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function OT(n){return n.getComponent()?.type==="VERSION"}const lf="@firebase/app",c0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new $c("@firebase/app"),jT="@firebase/app-compat",LT="@firebase/analytics-compat",MT="@firebase/analytics",VT="@firebase/app-check-compat",FT="@firebase/app-check",UT="@firebase/auth",BT="@firebase/auth-compat",zT="@firebase/database",$T="@firebase/data-connect",HT="@firebase/database-compat",qT="@firebase/functions",WT="@firebase/functions-compat",KT="@firebase/installations",GT="@firebase/installations-compat",QT="@firebase/messaging",YT="@firebase/messaging-compat",XT="@firebase/performance",JT="@firebase/performance-compat",ZT="@firebase/remote-config",ek="@firebase/remote-config-compat",tk="@firebase/storage",nk="@firebase/storage-compat",rk="@firebase/firestore",sk="@firebase/ai",ik="@firebase/firestore-compat",ok="firebase",ak="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="[DEFAULT]",lk={[lf]:"fire-core",[jT]:"fire-core-compat",[MT]:"fire-analytics",[LT]:"fire-analytics-compat",[FT]:"fire-app-check",[VT]:"fire-app-check-compat",[UT]:"fire-auth",[BT]:"fire-auth-compat",[zT]:"fire-rtdb",[$T]:"fire-data-connect",[HT]:"fire-rtdb-compat",[qT]:"fire-fn",[WT]:"fire-fn-compat",[KT]:"fire-iid",[GT]:"fire-iid-compat",[QT]:"fire-fcm",[YT]:"fire-fcm-compat",[XT]:"fire-perf",[JT]:"fire-perf-compat",[ZT]:"fire-rc",[ek]:"fire-rc-compat",[tk]:"fire-gcs",[nk]:"fire-gcs-compat",[rk]:"fire-fst",[ik]:"fire-fst-compat",[sk]:"fire-vertex","fire-js":"fire-js",[ok]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,uk=new Map,cf=new Map;function d0(n,e){try{n.container.addComponent(e)}catch(t){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gr(n){const e=n.name;if(cf.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;cf.set(e,n);for(const t of wc.values())d0(t,n);for(const t of uk.values())d0(t,n);return!0}function Li(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ln(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new ji("app","Firebase",ck);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=ak;function Tv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:uf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Os.create("bad-app-name",{appName:String(o)});if(t||(t=fv()),!t)throw Os.create("no-options");const l=wc.get(o);if(l){if(Us(t,l.options)&&Us(s,l.config))return l;throw Os.create("duplicate-app",{appName:o})}const d=new vT(o);for(const m of cf.values())d.addComponent(m);const f=new dk(t,s,d);return wc.set(o,f),f}function Wf(n=uf){const e=wc.get(n);if(!e&&n===uf&&fv())return Tv();if(!e)throw Os.create("no-app",{appName:n});return e}function kn(n,e,t){let s=lk[n]??n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(d.join(" "));return}gr(new Fn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firebase-heartbeat-database",fk=1,pl="firebase-heartbeat-store";let Hh=null;function kv(){return Hh||(Hh=Ev(hk,fk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Os.create("idb-open",{originalErrorMessage:n.message})})),Hh}async function pk(n){try{const t=(await kv()).transaction(pl),s=await t.objectStore(pl).get(Iv(n));return await t.done,s}catch(e){if(e instanceof zn)Wr.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e?.message});Wr.warn(t.message)}}}async function h0(n,e){try{const s=(await kv()).transaction(pl,"readwrite");await s.objectStore(pl).put(e,Iv(n)),await s.done}catch(t){if(t instanceof zn)Wr.warn(t.message);else{const s=Os.create("idb-set",{originalErrorMessage:t?.message});Wr.warn(s.message)}}}function Iv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=1024,gk=30;class yk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _k(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>gk){const o=wk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Wr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f0(),{heartbeatsToSend:t,unsentEntries:s}=vk(this._heartbeatsCache.heartbeats),o=_c(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Wr.warn(e),""}}}function f0(){return new Date().toISOString().substring(0,10)}function vk(n,e=mk){const t=[];let s=n.slice();for(const o of n){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),p0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),p0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class _k{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vv()?_v().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function p0(n){return _c(JSON.stringify({version:2,heartbeats:n})).length}function wk(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){gr(new Fn("platform-logger",e=>new DT(e),"PRIVATE")),gr(new Fn("heartbeat",e=>new yk(e),"PRIVATE")),kn(lf,c0,n),kn(lf,c0,"esm2020"),kn("fire-js","")}xk("");function bv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ek=bv,Sv=new ji("auth","Firebase",bv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new $c("@firebase/auth");function Tk(n,...e){xc.logLevel<=je.WARN&&xc.warn(`Auth (${Yo}): ${n}`,...e)}function lc(n,...e){xc.logLevel<=je.ERROR&&xc.error(`Auth (${Yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n,...e){throw Kf(n,...e)}function hr(n,...e){return Kf(n,...e)}function Cv(n,e,t){const s={...Ek(),[e]:t};return new ji("auth","Firebase",s).create(e,{appName:n.name})}function js(n){return Cv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kf(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return Sv.create(n,...e)}function Te(n,e,...t){if(!n)throw Kf(e,...t)}function Fr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lc(e),new Error(e)}function Kr(n,e){n||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(){return typeof self<"u"&&self.location?.href||""}function kk(){return m0()==="http:"||m0()==="https:"}function m0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kk()||yv()||"connection"in navigator)?navigator.onLine:!0}function bk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kr(t>e,"Short delay should be less than long delay!"),this.isMobile=X1()||eT()}get(){return Ik()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n,e){Kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ak=new Al(3e4,6e4);function Mi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Gs(n,e,t,s,o={}){return Nv(n,o,async()=>{let l={},d={};s&&(e==="GET"?d=s:l={body:JSON.stringify(s)});const f=Cl({key:n.config.apiKey,...d}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const v={method:e,headers:m,...l};return Z1()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Qo(n.emulatorConfig.host)&&(v.credentials="include"),Av.fetch()(await Rv(n,n.config.apiHost,t,f),v)})}async function Nv(n,e,t){n._canInitEmulator=!1;const s={...Sk,...e};try{const o=new Rk(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw Zu(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const f=l.ok?d.errorMessage:d.error.message,[m,v]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(n,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Zu(n,"email-already-in-use",d);if(m==="USER_DISABLED")throw Zu(n,"user-disabled",d);const w=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Cv(n,w,v);Un(n,w)}}catch(o){if(o instanceof zn)throw o;Un(n,"network-request-failed",{message:String(o)})}}async function Hc(n,e,t,s,o={}){const l=await Gs(n,e,t,s,o);return"mfaPendingCredential"in l&&Un(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Rv(n,e,t,s){const o=`${e}${t}?${s}`,l=n,d=l.config.emulator?Gf(n.config,o):`${n.config.apiScheme}://${o}`;return Ck.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function Nk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(hr(this.auth,"network-request-failed")),Ak.get())})}}function Zu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=hr(n,e,s);return o.customData._tokenResponse=t,o}function g0(n){return n!==void 0&&n.enterprise!==void 0}class Pk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Nk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dk(n,e){return Gs(n,"GET","/v2/recaptchaConfig",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n,e){return Gs(n,"POST","/v1/accounts:delete",e)}async function Ec(n,e){return Gs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jk(n,e=!1){const t=sn(n),s=await t.getIdToken(e),o=Qf(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l?.sign_in_provider;return{claims:o,token:s,authTime:al(qh(o.auth_time)),issuedAtTime:al(qh(o.iat)),expirationTime:al(qh(o.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}}function qh(n){return Number(n)*1e3}function Qf(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=dv(t);return o?JSON.parse(o):(lc("Failed to decode base64 JWT payload"),null)}catch(o){return lc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function y0(n){const e=Qf(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof zn&&Lk(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function Lk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(n){const e=n.auth,t=await n.getIdToken(),s=await ml(n,Ec(e,{idToken:t}));Te(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?Pv(o.providerUserInfo):[],d=Fk(n.providerData,l),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!d?.length,v=f?m:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new hf(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function Vk(n){const e=sn(n);await Tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fk(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Pv(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk(n,e){const t=await Nv(n,{},async()=>{const s=Cl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,d=await Rv(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:s};return n.emulatorConfig&&Qo(n.emulatorConfig.host)&&(m.credentials="include"),Av.fetch()(d,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Bk(n,e){return Gs(n,"POST","/v2/accounts:revokeToken",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=y0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await Uk(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,d=new Po;return s&&(Te(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Vn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Mk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ml(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jk(this,e)}reload(){return Vk(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Tc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await ml(this,Ok(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,d=t.photoURL??void 0,f=t.tenantId??void 0,m=t._redirectEventId??void 0,v=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:E,emailVerified:I,isAnonymous:P,providerData:W,stsTokenManager:B}=t;Te(E&&B,e,"internal-error");const L=Po.fromJSON(this.name,B);Te(typeof E=="string",e,"internal-error"),Ss(s,e.name),Ss(o,e.name),Te(typeof I=="boolean",e,"internal-error"),Te(typeof P=="boolean",e,"internal-error"),Ss(l,e.name),Ss(d,e.name),Ss(f,e.name),Ss(m,e.name),Ss(v,e.name),Ss(w,e.name);const Q=new Vn({uid:E,auth:e,email:o,emailVerified:I,displayName:s,isAnonymous:P,photoURL:d,phoneNumber:l,tenantId:f,stsTokenManager:L,createdAt:v,lastLoginAt:w});return W&&Array.isArray(W)&&(Q.providerData=W.map(X=>({...X}))),m&&(Q._redirectEventId=m),Q}static async _fromIdTokenResponse(e,t,s=!1){const o=new Po;o.updateFromServerResponse(t);const l=new Vn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Tc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Pv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!l?.length,f=new Po;f.updateFromIdToken(s);const m=new Vn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new hf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(m,v),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;function Ur(n){Kr(n instanceof Function,"Expected a class definition");let e=v0.get(n);return e?(Kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,v0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dv.type="NONE";const _0=Dv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n,e,t){return`firebase:${n}:${e}:${t}`}class Do{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=uc(this.userKey,o.apiKey,l),this.fullPersistenceKey=uc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ec(this.auth,{idToken:e}).catch(()=>{});return t?Vn._fromGetAccountInfoResponse(this.auth,t,e):null}return Vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Do(Ur(_0),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Ur(_0);const d=uc(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const w=await v._get(d);if(w){let E;if(typeof w=="string"){const I=await Ec(e,{idToken:w}).catch(()=>{});if(!I)break;E=await Vn._fromGetAccountInfoResponse(e,I,w)}else E=Vn._fromJSON(e,w);v!==l&&(f=E),l=v;break}}catch{}const m=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Do(l,e,s):(l=m[0],f&&await l._set(d,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(d)}catch{}})),new Do(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ov(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fv(e))return"Blackberry";if(Uv(e))return"Webos";if(jv(e))return"Safari";if((e.includes("chrome/")||Lv(e))&&!e.includes("edge/"))return"Chrome";if(Vv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function Ov(n=Wt()){return/firefox\//i.test(n)}function jv(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lv(n=Wt()){return/crios\//i.test(n)}function Mv(n=Wt()){return/iemobile/i.test(n)}function Vv(n=Wt()){return/android/i.test(n)}function Fv(n=Wt()){return/blackberry/i.test(n)}function Uv(n=Wt()){return/webos/i.test(n)}function Yf(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zk(n=Wt()){return Yf(n)&&!!window.navigator?.standalone}function $k(){return tT()&&document.documentMode===10}function Bv(n=Wt()){return Yf(n)||Vv(n)||Uv(n)||Fv(n)||/windows phone/i.test(n)||Mv(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(n,e=[]){let t;switch(n){case"Browser":t=w0(Wt());break;case"Worker":t=`${w0(Wt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((d,f)=>{try{const m=e(l);d(m)}catch(m){f(m)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e={}){return Gs(n,"GET","/v2/passwordPolicy",Mi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=6;class Kk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Wk,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x0(this),this.idTokenSubscription=new x0(this),this.beforeStateQueue=new Hk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ur(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ec(this,{idToken:e}),s=await Vn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ln(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,d=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===d)&&f?.user&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(js(this));const t=e?sn(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qk(this),t=new Kk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ji("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Bk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ur(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,o);return()=>{d=!0,m()}}else{const m=e.addObserver(t);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Tk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xo(n){return sn(n)}class x0{constructor(e){this.auth=e,this.observer=null,this.addObserver=lT(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qk(n){qc=n}function $v(n){return qc.loadJS(n)}function Yk(){return qc.recaptchaEnterpriseScript}function Xk(){return qc.gapiScript}function Jk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Zk{constructor(){this.enterprise=new eI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const tI="recaptcha-enterprise",Hv="NO_RECAPTCHA";class nI{constructor(e){this.type=tI,this.auth=Xo(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,f)=>{Dk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new Pk(m);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,d(v.siteKey)}}).catch(m=>{f(m)})})}function o(l,d,f){const m=window.grecaptcha;g0(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(v=>{d(v)}).catch(()=>{d(Hv)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zk().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{s(this.auth).then(f=>{if(!t&&g0(window.grecaptcha))o(f,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Yk();m.length!==0&&(m+=f),$v(m).then(()=>{o(f,l,d)}).catch(v=>{d(v)})}}).catch(f=>{d(f)})})}}async function E0(n,e,t,s=!1,o=!1){const l=new nI(n);let d;if(o)d=Hv;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const f={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,v=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function T0(n,e,t,s,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await E0(n,e,t,t==="getOobCode");return s(n,l)}else return s(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await E0(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n,e){const t=Li(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Us(l,e??{}))return o;Un(o,"already-initialized")}return t.initialize({options:e})}function sI(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Ur);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function iI(n,e,t){const s=Xo(n);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=qv(e),{host:d,port:f}=oI(e),m=f===null?"":`:${f}`,v={url:`${l}//${d}${m}/`},w=Object.freeze({host:d,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Us(v,s.config.emulator)&&Us(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Qo(d)?(mv(`${l}//${d}${m}`),gv("Auth",!0)):aI()}function qv(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function oI(n){const e=qv(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:k0(s.substr(l.length+1))}}else{const[l,d]=s.split(":");return{host:l,port:k0(d)}}}function k0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function aI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,t){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function lI(n,e){return Gs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(n,e){return Hc(n,"POST","/v1/accounts:signInWithPassword",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(n,e){return Hc(n,"POST","/v1/accounts:signInWithEmailLink",Mi(n,e))}async function dI(n,e){return Hc(n,"POST","/v1/accounts:signInWithEmailLink",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Xf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new gl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new gl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T0(e,t,"signInWithPassword",uI);case"emailLink":return cI(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T0(e,s,"signUpPassword",lI);case"emailLink":return dI(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(n,e){return Hc(n,"POST","/v1/accounts:signInWithIdp",Mi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="http://localhost";class Ai extends Xf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ai(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Un("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...l}=t;if(!s||!o)return null;const d=new Ai(s,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Oo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Oo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oo(e,t)}buildRequest(){const e={requestUri:hI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pI(n){const e=el(tl(n)).link,t=e?el(tl(e)).deep_link_id:null,s=el(tl(n)).deep_link_id;return(s?el(tl(s)).link:null)||s||t||e||n}class Jf{constructor(e){const t=el(tl(e)),s=t.apiKey??null,o=t.oobCode??null,l=fI(t.mode??null);Te(s&&o&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=pI(e);try{return new Jf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,t){return gl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Jf.parseLink(t);return Te(s,"argument-error"),gl._fromEmailAndCode(e,s.code,s.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends Wv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Nl{constructor(){super("facebook.com")}static credential(e){return Ai._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ai._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return As.credential(t,s)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Nl{constructor(){super("github.com")}static credential(e){return Ai._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Nl{constructor(){super("twitter.com")}static credential(e,t){return Ai._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Rs.credential(t,s)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Vn._fromIdTokenResponse(e,s,o),d=I0(s);return new Vo({user:l,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=I0(s);return new Vo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function I0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends zn{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new kc(e,t,s,o)}}function Kv(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(n,l,e,s):l})}async function mI(n,e,t=!1){const s=await ml(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Vo._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(n,e,t=!1){const{auth:s}=n;if(Ln(s.app))return Promise.reject(js(s));const o="reauthenticate";try{const l=await ml(n,Kv(s,o,e,n),t);Te(l.idToken,s,"internal-error");const d=Qf(l.idToken);Te(d,s,"internal-error");const{sub:f}=d;return Te(n.uid===f,s,"user-mismatch"),Vo._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Un(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(n,e,t=!1){if(Ln(n.app))return Promise.reject(js(n));const s="signIn",o=await Kv(n,s,e),l=await Vo._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function yI(n,e){return Gv(Xo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(n){const e=Xo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _I(n,e,t){return Ln(n.app)?Promise.reject(js(n)):yI(sn(n),Jo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vI(n),s})}function Qv(n,e,t,s){return sn(n).onIdTokenChanged(e,t,s)}function wI(n,e,t){return sn(n).beforeAuthStateChanged(e,t)}function xI(n){return sn(n).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=1e3,TI=10;class Xv extends Yv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,f,m)=>{this.notifyListeners(d,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},l=this.storage.getItem(s);$k()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,TI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},EI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xv.type="LOCAL";const kI=Xv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv extends Yv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jv.type="SESSION";const Zv=Jv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Wc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(d).map(async v=>v(t.origin,l)),m=await II(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((f,m)=>{const v=Zf("",20);o.port1.start();const w=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(I.data.response);break;default:clearTimeout(w),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function SI(n){fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function CI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AI(){return navigator?.serviceWorker?.controller||null}function NI(){return e_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="firebaseLocalStorageDb",RI=1,bc="firebaseLocalStorage",n_="fbase_key";class Rl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kc(n,e){return n.transaction([bc],e?"readwrite":"readonly").objectStore(bc)}function PI(){const n=indexedDB.deleteDatabase(t_);return new Rl(n).toPromise()}function ff(){const n=indexedDB.open(t_,RI);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(bc,{keyPath:n_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(bc)?e(s):(s.close(),await PI(),e(await ff()))})})}async function b0(n,e,t){const s=Kc(n,!0).put({[n_]:e,value:t});return new Rl(s).toPromise()}async function DI(n,e){const t=Kc(n,!1).get(e),s=await new Rl(t).toPromise();return s===void 0?null:s.value}function S0(n,e){const t=Kc(n,!0).delete(e);return new Rl(t).toPromise()}const OI=800,jI=3;class r_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ff(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>jI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(NI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new bI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ff();return await b0(e,Ic,"1"),await S0(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>b0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>DI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>S0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Kc(o,!1).getAll();return new Rl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r_.type="LOCAL";const LI=r_;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n,e){return e?Ur(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends Xf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VI(n){return Gv(n.auth,new ep(n),n.bypassAuthState)}function FI(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),gI(t,new ep(n),n.bypassAuthState)}async function UI(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),mI(t,new ep(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:d,type:f}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VI;case"linkViaPopup":case"linkViaRedirect":return UI;case"reauthViaPopup":case"reauthViaRedirect":return FI;default:Un(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Al(2e3,1e4);class Ro extends s_{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=Zf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BI.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="pendingRedirect",cc=new Map;class $I extends s_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=cc.get(this.auth._key());if(!e){try{const s=await HI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}cc.set(this.auth._key(),e)}return this.bypassAuthState||cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HI(n,e){const t=KI(e),s=WI(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function qI(n,e){cc.set(n._key(),e)}function WI(n){return Ur(n._redirectPersistence)}function KI(n){return uc(zI,n.config.apiKey,n.name)}async function GI(n,e,t=!1){if(Ln(n.app))return Promise.reject(js(n));const s=Xo(n),o=MI(s,e),d=await new $I(s,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=600*1e3;class YI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!i_(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(hr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QI&&this.cachedEventUids.clear(),this.cachedEventUids.has(C0(e))}saveEventToCache(e){this.cachedEventUids.add(C0(e)),this.lastProcessedEventTime=Date.now()}}function C0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function i_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function XI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return i_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(n,e={}){return Gs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eb=/^https?/;async function tb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await JI(n);for(const t of e)try{if(nb(t))return}catch{}Un(n,"unauthorized-domain")}function nb(n){const e=df(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!eb.test(t))return!1;if(ZI.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Al(3e4,6e4);function A0(){const n=fr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function sb(n){return new Promise((e,t)=>{function s(){A0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A0(),t(hr(n,"network-request-failed"))},timeout:rb.get()})}if(fr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fr().gapi?.load)s();else{const o=Jk("iframefcb");return fr()[o]=()=>{gapi.load?s():t(hr(n,"network-request-failed"))},$v(`${Xk()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw dc=null,e})}let dc=null;function ib(n){return dc=dc||sb(n),dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Al(5e3,15e3),ab="__/auth/iframe",lb="emulator/auth/iframe",ub={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function db(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gf(e,lb):`https://${n.config.authDomain}/${ab}`,s={apiKey:e.apiKey,appName:n.name,v:Yo},o=cb.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Cl(s).slice(1)}`}async function hb(n){const e=await ib(n),t=fr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:db(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ub,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const d=hr(n,"network-request-failed"),f=fr().setTimeout(()=>{l(d)},ob.get());function m(){fr().clearTimeout(f),o(s)}s.ping(m).then(m,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pb=500,mb=600,gb="_blank",yb="http://localhost";class N0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vb(n,e,t,s=pb,o=mb){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const m={...fb,width:s.toString(),height:o.toString(),top:l,left:d},v=Wt().toLowerCase();t&&(f=Lv(v)?gb:t),Ov(v)&&(e=e||yb,m.scrollbars="yes");const w=Object.entries(m).reduce((I,[P,W])=>`${I}${P}=${W},`,"");if(zk(v)&&f!=="_self")return _b(e||"",f),new N0(null);const E=window.open(e||"",f,w);Te(E,n,"popup-blocked");try{E.focus()}catch{}return new N0(E)}function _b(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="__/auth/handler",xb="emulator/auth/handler",Eb=encodeURIComponent("fac");async function R0(n,e,t,s,o,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Yo,eventId:o};if(e instanceof Wv){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",aT(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,E]of Object.entries({}))d[w]=E}if(e instanceof Nl){const w=e.getScopes().filter(E=>E!=="");w.length>0&&(d.scopes=w.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const m=await n._getAppCheckToken(),v=m?`#${Eb}=${encodeURIComponent(m)}`:"";return`${Tb(n)}?${Cl(f).slice(1)}${v}`}function Tb({config:n}){return n.emulator?Gf(n,xb):`https://${n.authDomain}/${wb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="webStorageSupport";class kb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zv,this._completeRedirectFn=GI,this._overrideRedirectResult=qI}async _openPopup(e,t,s,o){Kr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await R0(e,t,s,df(),o);return vb(e,l,Zf())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await R0(e,t,s,df(),o);return SI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Kr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await hb(e),s=new YI(e);return t.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wh,{type:Wh},o=>{const l=o?.[0]?.[Wh];l!==void 0&&t(!!l),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Bv()||jv()||Yf()}}const Ib=kb;var P0="@firebase/auth",D0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cb(n){gr(new Fn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=s.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zv(n)},v=new Gk(s,o,l,m);return sI(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),gr(new Fn("auth-internal",e=>{const t=Xo(e.getProvider("auth").getImmediate());return(s=>new bb(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),kn(P0,D0,Sb(n)),kn(P0,D0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=300,Nb=pv("authIdTokenMaxAge")||Ab;let O0=null;const Rb=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>Nb)return;const o=t?.token;O0!==o&&(O0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function o_(n=Wf()){const e=Li(n,"auth");if(e.isInitialized())return e.getImmediate();const t=rI(n,{popupRedirectResolver:Ib,persistence:[LI,kI,Zv]}),s=pv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const d=Rb(l.toString());wI(t,d,()=>d(t.currentUser)),Qv(t,f=>d(f))}}const o=hv("auth");return o&&iI(t,`http://${o}`),t}function Pb(){return document.getElementsByTagName("head")?.[0]??document}Qk({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=hr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",Pb().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cb("Browser");const a_=j.createContext(void 0);function Db({children:n}){const[e,t]=j.useState(null),[s,o]=j.useState(!0),l=o_(),d=j.useCallback(async(v,w)=>{try{return await _I(l,v,w)}catch(E){throw console.error("Erro ao fazer login:",E),E}},[l]),f=j.useCallback(async()=>{try{await xI(l)}catch(v){console.error("Erro ao fazer logout:",v)}},[l]);j.useEffect(()=>{const v=Qv(l,async w=>{if(w)try{const I=(await w.getIdTokenResult()).claims.role||"ANALISADOR",P={...w,role:I,username:w.email?w.email.split("@")[0]:"Usurio"};t(P)}catch(E){console.error("Erro ao buscar permisses do usurio:",E),t(null)}else t(null);o(!1)});return()=>v()},[l]);const m={user:e,loading:s,logout:f,login:d,auth:l};return p.jsx(a_.Provider,{value:m,children:n})}function Vi(){const n=j.useContext(a_);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jb=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),j0=n=>{const e=jb(n);return e.charAt(0).toUpperCase()+e.slice(1)},l_=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=j.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:d,...f},m)=>j.createElement("svg",{ref:m,...Lb,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:l_("lucide",o),...f},[...d.map(([v,w])=>j.createElement(v,w)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(n,e)=>{const t=j.forwardRef(({className:s,...o},l)=>j.createElement(Mb,{ref:l,iconNode:e,className:l_(`lucide-${Ob(j0(n))}`,`lucide-${n}`,s),...o}));return t.displayName=j0(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tp=Ue("arrow-left",Vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Fo=Ue("building-2",Fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],yl=Ue("calendar",Ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],zb=Ue("car",Bb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vl=Ue("circle-alert",$b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kh=Ue("circle-check-big",Hb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vr=Ue("circle-check",qb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Kb=Ue("circle-x",Wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gh=Ue("circle",Gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],L0=Ue("clipboard-check",Qb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],lr=Ue("clock",Yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Sc=Ue("database",Xb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],pf=Ue("download",Jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],eS=Ue("external-link",Zb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u_=Ue("eye",tS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rS=Ue("file-text",nS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Cc=Ue("history",sS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],oS=Ue("layout-dashboard",iS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],lS=Ue("list",aS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cS=Ue("lock",uS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],M0=Ue("log-out",dS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],fS=Ue("mail",hS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mS=Ue("map-pin",pS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yS=Ue("pen",gS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mf=Ue("plus",vS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]],wS=Ue("radio",_S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ES=Ue("save",xS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],kS=Ue("scan",TS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ni=Ue("search",IS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gf=Ue("settings",bS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_l=Ue("trash-2",SS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],V0=Ue("trending-up",CS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],NS=Ue("upload",AS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],np=Ue("user",RS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DS=Ue("x",PS);function yf({condominio:n,onSave:e,onCancel:t}){const{user:s}=Vi(),[o,l]=j.useState("monitoramento"),[d,f]=j.useState(null),[m,v]=j.useState(""),[w,E]=j.useState(""),[I,P]=j.useState("NO INICIADA"),[W,B]=j.useState([""]),[L,Q]=j.useState("EM ANDAMENTO"),[X,Y]=j.useState(""),[ie,be]=j.useState("EM ANDAMENTO"),[H,A]=j.useState("SOLICITADAS"),[k,S]=j.useState("EM ANDAMENTO"),[D,R]=j.useState(""),[V,C]=j.useState([]),[qe,dt]=j.useState(""),[gt,Qe]=j.useState("NO INICIADA"),[se,ye]=j.useState("A FAZER"),[ae,M]=j.useState("EM ANDAMENTO"),[G,Ae]=j.useState("EM ANDAMENTO"),[Ee,De]=j.useState([]);j.useEffect(()=>{n&&(f(n),v(n.nomeCondominio),E(n.linkCadastro),P(n.status),B(n.ramais.length>0?n.ramais:[""]),Q(n.cftv),Y(n.contaSituator),be(n.configuracaoSituator),A(n.licencas),S(n.appStv),R(n.dataImplantacao),C(n.dispositivosAcesso),dt(n.observacoes),Qe(n.vistorias),ye(n.parametrizacao),M(n.instalacao),Ae(n.testesTecnico),De(n.entregaInstrucao))},[n]);const fe=s?.role==="ADM"||s?.role==="MONITORAMENTO",Ce=s?.role==="ADM"||s?.role==="TECNICO";s?.role;const Ve=()=>{B([...W,""])},Ke=oe=>{B(W.filter((ge,ke)=>ke!==oe))},At=(oe,ge)=>{const ke=[...W];ke[oe]=ge,B(ke)},Yr=oe=>{const ge=oe.target.files;if(ge&&s){const ke=Array.from(ge).map(le=>({id:`file-${Date.now()}-${Math.random()}`,name:le.name,url:URL.createObjectURL(le),uploadedAt:new Date().toISOString(),uploadedBy:s.username}));De([...Ee,...ke])}},Qs=oe=>{De(Ee.filter(ge=>ge.id!==oe))},$n=()=>{if(!d)return[];const oe=[],ge=(ke,le,Xe)=>{const rt=Array.isArray(le)?le.join(", "):String(le||""),Yt=Array.isArray(Xe)?Xe.join(", "):String(Xe||"");rt!==Yt&&oe.push({campo:ke,valorAnterior:rt,valorNovo:Yt})};return ge("Nome do Condomnio",d.nomeCondominio,m),ge("Link de Cadastro",d.linkCadastro,w),ge("Status",d.status,I),ge("Ramais",d.ramais,W.filter(ke=>ke.trim())),ge("CFTV",d.cftv,L),ge("Conta Situator",d.contaSituator,X),ge("Configurao Situator",d.configuracaoSituator,ie),ge("Licenas",d.licencas,H),ge("App STV",d.appStv,k),ge("Data Implantao",d.dataImplantacao,D),ge("Dispositivos de Acesso",d.dispositivosAcesso,V),ge("Observaes",d.observacoes,qe),ge("Vistorias",d.vistorias,gt),ge("Parametrizao",d.parametrizacao,se),ge("Instalao",d.instalacao,ae),ge("Testes Tcnico",d.testesTecnico,G),oe},Xr=oe=>{if(oe.preventDefault(),!m.trim()){alert("Por favor, preencha o nome do condomnio");return}const ge={id:n?.id||`cond-${Date.now()}`,nomeCondominio:m,linkCadastro:w,status:I,ramais:W.filter(le=>le.trim()),cftv:L,contaSituator:X,configuracaoSituator:ie,licencas:H,appStv:k,dataImplantacao:D,dispositivosAcesso:V,observacoes:qe,vistorias:gt,parametrizacao:se,instalacao:ae,testesTecnico:G,entregaInstrucao:Ee,criadoEm:n?.criadoEm||new Date().toISOString(),atualizadoEm:new Date().toISOString(),criadoPor:n?.criadoPor||s?.username||""},ke=n?$n():void 0;e(ge,ke)};return p.jsx("div",{className:"p-8",children:p.jsx("div",{className:"max-w-5xl mx-auto",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-emerald-100 dark:border-gray-700 overflow-hidden",children:[p.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 dark:from-emerald-600 dark:to-teal-700 p-6 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-white",children:n?"Editar Condomnio":"Novo Condomnio"}),s?.role==="ANALISADOR"&&p.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Modo visualizao - Sem permisso de edio"}),s?.role==="MONITORAMENTO"&&o==="tecnica"&&p.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Modo visualizao - Edio permitida apenas na aba Monitoramento"}),s?.role==="TECNICO"&&o==="monitoramento"&&p.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Modo visualizao - Edio permitida apenas na aba Tcnica"})]}),p.jsx("button",{onClick:t,className:"p-2 text-white hover:bg-white/20 rounded-lg transition-all",children:p.jsx(DS,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"border-b border-emerald-100 dark:border-gray-700 bg-emerald-50 dark:bg-gray-700/50",children:p.jsxs("div",{className:"flex",children:[p.jsx("button",{onClick:()=>l("monitoramento"),className:`flex-1 px-6 py-4 transition-all ${o==="monitoramento"?"bg-white dark:bg-gray-800 text-emerald-700 dark:text-emerald-400 border-b-2 border-emerald-500 dark:border-emerald-400":"text-emerald-600 dark:text-emerald-300 hover:bg-emerald-100 dark:hover:bg-gray-600"}`,children:"Monitoramento"}),p.jsx("button",{onClick:()=>l("tecnica"),className:`flex-1 px-6 py-4 transition-all ${o==="tecnica"?"bg-white dark:bg-gray-800 text-emerald-700 dark:text-blue-400 border-b-2 border-emerald-500 dark:border-blue-400":"text-emerald-600 dark:text-blue-300 hover:bg-emerald-100 dark:hover:bg-gray-600"}`,children:"Tcnica"})]})}),p.jsxs("form",{onSubmit:Xr,children:[p.jsxs("div",{className:"p-6 max-h-[calc(100vh-300px)] overflow-y-auto",children:[o==="monitoramento"&&p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-2",children:"Nome do Condomnio *"}),p.jsx("input",{type:"text",value:m,onChange:oe=>v(oe.target.value),disabled:!fe,className:"w-full px-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:text-gray-500 dark:disabled:text-gray-400 dark:bg-gray-700 dark:text-gray-100",required:!0})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-2",children:"Link de Cadastro"}),p.jsx("input",{type:"url",value:w,onChange:oe=>E(oe.target.value),disabled:!fe,className:"w-full px-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:text-gray-500 dark:disabled:text-gray-400 dark:bg-gray-700 dark:text-gray-100",placeholder:"https://"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-3",children:"Status"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"NO INICIADA",label:"No Iniciada",icon:Gh},{value:"EM ANDAMENTO",label:"Em Andamento",icon:lr},{value:"CONCLUDA",label:"Concluda",icon:Vr}].map(({value:oe,label:ge,icon:ke})=>{const le=I===oe;return p.jsxs("button",{type:"button",onClick:()=>fe&&P(oe),disabled:!fe,className:`relative flex flex-col items-center gap-1.5 px-3 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${le?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-lg shadow-[#0a6c45]/40 scale-105 border-2 border-white/30":"bg-white/60 backdrop-blur-sm border-2 border-emerald-200/50 hover:border-[#7BD955] hover:shadow-md hover:scale-105"} ${fe?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[le&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#7BD955]/20 via-yellow-300/20 to-[#0a6c45]/20 animate-pulse pointer-events-none"}),p.jsx(ke,{className:`w-5 h-5 relative z-10 ${le?"text-white drop-shadow-lg":"text-[#0a6c45] group-hover:scale-110"}`,strokeWidth:2.5}),p.jsx("span",{className:`text-[10px] text-center relative z-10 ${le?"text-white drop-shadow-sm":"text-emerald-900"}`,children:ge}),le&&p.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-md z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-2.5 h-2.5 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-2",children:"Conta do Situator"}),p.jsx("input",{type:"text",value:X,onChange:oe=>Y(oe.target.value),disabled:!fe,className:"w-full px-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:text-gray-500 dark:disabled:text-gray-400 dark:bg-gray-700 dark:text-gray-100"})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-2",children:"Ramais"}),W.map((oe,ge)=>p.jsxs("div",{className:"flex gap-2 mb-2",children:[p.jsx("input",{type:"text",value:oe,onChange:ke=>At(ge,ke.target.value),disabled:!fe,className:"flex-1 px-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:text-gray-500 dark:disabled:text-gray-400 dark:bg-gray-700 dark:text-gray-100",placeholder:`Ramal ${ge+1}`}),fe&&W.length>1&&p.jsx("button",{type:"button",onClick:()=>Ke(ge),className:"p-3 text-red-600 hover:bg-red-50 rounded-xl transition-all",children:p.jsx(_l,{className:"w-5 h-5"})})]},ge)),fe&&p.jsxs("button",{type:"button",onClick:Ve,className:"flex items-center gap-2 px-4 py-2 text-emerald-600 hover:bg-emerald-50 rounded-xl transition-all",children:[p.jsx(mf,{className:"w-4 h-4"}),p.jsx("span",{children:"Adicionar Ramal"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-3",children:"CFTV"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"CONCLUDO",label:"Concludo",icon:Vr},{value:"EM ANDAMENTO",label:"Em Andamento",icon:lr},{value:"AGUARDANDO TCNICA",label:"Aguard. Tcnica",icon:vl}].map(({value:oe,label:ge,icon:ke})=>{const le=L===oe;return p.jsxs("button",{type:"button",onClick:()=>fe&&Q(oe),disabled:!fe,className:`relative flex flex-col items-center gap-1.5 px-2 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${le?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-lg shadow-[#0a6c45]/40 scale-105 border-2 border-white/30":"bg-white/60 backdrop-blur-sm border-2 border-emerald-200/50 hover:border-[#7BD955] hover:shadow-md hover:scale-105"} ${fe?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[le&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#7BD955]/20 via-yellow-300/20 to-[#0a6c45]/20 animate-pulse pointer-events-none"}),p.jsx(ke,{className:`w-5 h-5 relative z-10 ${le?"text-white drop-shadow-lg":"text-[#0a6c45] group-hover:scale-110"}`,strokeWidth:2.5}),p.jsx("span",{className:`text-[10px] text-center relative z-10 ${le?"text-white drop-shadow-sm":"text-emerald-900"}`,children:ge}),le&&p.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-md z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-2.5 h-2.5 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-3",children:"Configurao do Situator"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"CONCLUDO",label:"Concludo",icon:Vr},{value:"EM ANDAMENTO",label:"Em Andamento",icon:lr},{value:"AGUARDANDO TCNICA",label:"Aguard. Tcnica",icon:vl}].map(({value:oe,label:ge,icon:ke})=>{const le=ie===oe;return p.jsxs("button",{type:"button",onClick:()=>fe&&be(oe),disabled:!fe,className:`relative flex flex-col items-center gap-1.5 px-2 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${le?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-lg shadow-[#0a6c45]/40 scale-105 border-2 border-white/30":"bg-white/60 backdrop-blur-sm border-2 border-emerald-200/50 hover:border-[#7BD955] hover:shadow-md hover:scale-105"} ${fe?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[le&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#7BD955]/20 via-yellow-300/20 to-[#0a6c45]/20 animate-pulse pointer-events-none"}),p.jsx(ke,{className:`w-5 h-5 relative z-10 ${le?"text-white drop-shadow-lg":"text-[#0a6c45] group-hover:scale-110"}`,strokeWidth:2.5}),p.jsx("span",{className:`text-[10px] text-center relative z-10 ${le?"text-white drop-shadow-sm":"text-emerald-900"}`,children:ge}),le&&p.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-md z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-2.5 h-2.5 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-3",children:"Licenas"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"CONCLUDO",label:"Concludo",icon:Vr},{value:"SOLICITADAS",label:"Solicitadas",icon:lr}].map(({value:oe,label:ge,icon:ke})=>{const le=H===oe;return p.jsxs("button",{type:"button",onClick:()=>fe&&A(oe),disabled:!fe,className:`relative flex flex-col items-center gap-1.5 px-3 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${le?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-lg shadow-[#0a6c45]/40 scale-105 border-2 border-white/30":"bg-white/60 backdrop-blur-sm border-2 border-emerald-200/50 hover:border-[#7BD955] hover:shadow-md hover:scale-105"} ${fe?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[le&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#7BD955]/20 via-yellow-300/20 to-[#0a6c45]/20 animate-pulse pointer-events-none"}),p.jsx(ke,{className:`w-5 h-5 relative z-10 ${le?"text-white drop-shadow-lg":"text-[#0a6c45] group-hover:scale-110"}`,strokeWidth:2.5}),p.jsx("span",{className:`text-[10px] text-center relative z-10 ${le?"text-white drop-shadow-sm":"text-emerald-900"}`,children:ge}),le&&p.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-md z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-2.5 h-2.5 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-3",children:"App STV"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"CONCLUDO",label:"Concludo",icon:Vr},{value:"EM ANDAMENTO",label:"Em Andamento",icon:lr}].map(({value:oe,label:ge,icon:ke})=>{const le=k===oe;return p.jsxs("button",{type:"button",onClick:()=>fe&&S(oe),disabled:!fe,className:`relative flex flex-col items-center gap-1.5 px-3 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${le?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-lg shadow-[#0a6c45]/40 scale-105 border-2 border-white/30":"bg-white/60 backdrop-blur-sm border-2 border-emerald-200/50 hover:border-[#7BD955] hover:shadow-md hover:scale-105"} ${fe?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[le&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#7BD955]/20 via-yellow-300/20 to-[#0a6c45]/20 animate-pulse pointer-events-none"}),p.jsx(ke,{className:`w-5 h-5 relative z-10 ${le?"text-white drop-shadow-lg":"text-[#0a6c45] group-hover:scale-110"}`,strokeWidth:2.5}),p.jsx("span",{className:`text-[10px] text-center relative z-10 ${le?"text-white drop-shadow-sm":"text-emerald-900"}`,children:ge}),le&&p.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-md z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-2.5 h-2.5 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-2",children:"Data para Implantao"}),p.jsx("input",{type:"date",value:D,onChange:oe=>R(oe.target.value),disabled:!fe,className:"w-full px-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:text-gray-500 dark:disabled:text-gray-400 dark:bg-gray-700 dark:text-gray-100"})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-3",children:"Dispositivos de Acesso"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{name:"Tag veicular",icon:zb},{name:"Tag pedestre",icon:np},{name:"Controles",icon:wS},{name:"Facial",icon:kS}].map(({name:oe,icon:ge})=>{const ke=V.includes(oe);return p.jsxs("label",{className:`relative flex flex-col items-center gap-2 px-4 py-4 rounded-2xl transition-all duration-300 cursor-pointer group overflow-hidden ${ke?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-xl shadow-[#0a6c45]/40 scale-105 border-2 border-white/30":"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-2 border-emerald-200/50 dark:border-gray-600/50 hover:border-[#7BD955] hover:shadow-lg hover:scale-105"} ${fe?"":"opacity-50 cursor-not-allowed"}`,children:[ke&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#7BD955]/20 via-yellow-300/20 to-[#0a6c45]/20 animate-pulse pointer-events-none"}),p.jsx("div",{className:`absolute inset-0 bg-gradient-to-tr from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700 pointer-events-none ${ke?"opacity-50":""}`}),p.jsx("input",{type:"checkbox",checked:ke,onChange:le=>{le.target.checked?C([...V,oe]):C(V.filter(Xe=>Xe!==oe))},disabled:!fe,className:"sr-only"}),p.jsx("div",{className:`relative z-10 transition-all duration-300 ${ke?"text-white drop-shadow-lg scale-110":"text-[#0a6c45] dark:text-[#7BD955] group-hover:scale-110"}`,children:p.jsx(ge,{className:"w-7 h-7",strokeWidth:2.5})}),p.jsx("span",{className:`relative z-10 text-center text-sm transition-all duration-300 ${ke?"text-white drop-shadow-sm":"text-emerald-900 dark:text-emerald-100"}`,children:oe}),ke&&p.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 bg-white rounded-full flex items-center justify-center shadow-lg z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-3 h-3 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-emerald-900 dark:text-emerald-100 mb-2",children:"Observaes"}),p.jsx("textarea",{value:qe,onChange:oe=>dt(oe.target.value),disabled:!fe,rows:4,className:"w-full px-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 disabled:bg-gray-50 dark:disabled:bg-gray-700 disabled:text-gray-500 dark:disabled:text-gray-400 dark:bg-gray-700 dark:text-gray-100",placeholder:"Informaes adicionais..."})]})]})}),o==="tecnica"&&p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-blue-900 dark:text-blue-100 mb-3",children:"Vistorias"}),p.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"NO INICIADA",label:"No Iniciada",icon:Gh},{value:"EM ANDAMENTO",label:"Em Andamento",icon:lr},{value:"CONCLUDA",label:"Concluda",icon:Vr}].map(({value:oe,label:ge,icon:ke})=>{const le=gt===oe;return p.jsxs("button",{type:"button",onClick:()=>Ce&&Qe(oe),disabled:!Ce,className:`relative flex flex-col items-center gap-1.5 px-3 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${le?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-lg shadow-emerald-600/40 scale-105 border-2 border-white/30":"bg-white/60 dark:bg-gray-700/60 backdrop-blur-sm border-2 border-emerald-200/50 dark:border-gray-600/50 hover:border-emerald-400 dark:hover:border-emerald-500 hover:shadow-md hover:scale-105"} ${Ce?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[le&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-300/20 via-[#7BD955]/20 to-emerald-700/20 animate-pulse pointer-events-none"}),p.jsx(ke,{className:`w-5 h-5 relative z-10 ${le?"text-white drop-shadow-lg":"text-[#0a6c45] dark:text-[#7BD955] group-hover:scale-110"}`,strokeWidth:2.5}),p.jsx("span",{className:`text-[10px] text-center relative z-10 ${le?"text-white drop-shadow-sm":"text-[#0a6c45] dark:text-[#7BD955]"}`,children:ge}),le&&p.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-md z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-2.5 h-2.5 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-blue-900 dark:text-blue-100 mb-3",children:"Parametrizao"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"CONCLUDO",label:"Concludo",icon:Vr},{value:"A FAZER",label:"A Fazer",icon:Gh}].map(({value:oe,label:ge,icon:ke})=>{const le=se===oe;return p.jsxs("button",{type:"button",onClick:()=>Ce&&ye(oe),disabled:!Ce,className:`relative flex flex-col items-center gap-1.5 px-3 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${le?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-lg shadow-emerald-600/40 scale-105 border-2 border-white/30":"bg-white/60 dark:bg-gray-700/60 backdrop-blur-sm border-2 border-emerald-200/50 dark:border-gray-600/50 hover:border-emerald-400 dark:hover:border-emerald-500 hover:shadow-md hover:scale-105"} ${Ce?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[le&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-300/20 via-[#7BD955]/20 to-emerald-700/20 animate-pulse pointer-events-none"}),p.jsx(ke,{className:`w-5 h-5 relative z-10 ${le?"text-white drop-shadow-lg":"text-[#0a6c45] dark:text-[#7BD955] group-hover:scale-110"}`,strokeWidth:2.5}),p.jsx("span",{className:`text-[10px] text-center relative z-10 ${le?"text-white drop-shadow-sm":"text-[#0a6c45] dark:text-[#7BD955]"}`,children:ge}),le&&p.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-md z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-2.5 h-2.5 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-blue-900 dark:text-blue-100 mb-3",children:"Instalao"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"CONCLUDA",label:"Concluda",icon:Vr},{value:"EM ANDAMENTO",label:"Em Andamento",icon:lr}].map(({value:oe,label:ge,icon:ke})=>{const le=ae===oe;return p.jsxs("button",{type:"button",onClick:()=>Ce&&M(oe),disabled:!Ce,className:`relative flex flex-col items-center gap-1.5 px-3 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${le?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-lg shadow-emerald-600/40 scale-105 border-2 border-white/30":"bg-white/60 dark:bg-gray-700/60 backdrop-blur-sm border-2 border-emerald-200/50 dark:border-gray-600/50 hover:border-emerald-400 dark:hover:border-emerald-500 hover:shadow-md hover:scale-105"} ${Ce?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[le&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-300/20 via-[#7BD955]/20 to-emerald-700/20 animate-pulse pointer-events-none"}),p.jsx(ke,{className:`w-5 h-5 relative z-10 ${le?"text-white drop-shadow-lg":"text-[#0a6c45] dark:text-[#7BD955] group-hover:scale-110"}`,strokeWidth:2.5}),p.jsx("span",{className:`text-[10px] text-center relative z-10 ${le?"text-white drop-shadow-sm":"text-[#0a6c45] dark:text-[#7BD955]"}`,children:ge}),le&&p.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-md z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-2.5 h-2.5 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-blue-900 dark:text-blue-100 mb-3",children:"Testes Tcnico"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"CONCLUDO",label:"Concludo",icon:Vr},{value:"EM ANDAMENTO",label:"Em Andamento",icon:lr}].map(({value:oe,label:ge,icon:ke})=>{const le=G===oe;return p.jsxs("button",{type:"button",onClick:()=>Ce&&Ae(oe),disabled:!Ce,className:`relative flex flex-col items-center gap-1.5 px-3 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${le?"bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 shadow-lg shadow-emerald-600/40 scale-105 border-2 border-white/30":"bg-white/60 dark:bg-gray-700/60 backdrop-blur-sm border-2 border-emerald-200/50 dark:border-gray-600/50 hover:border-emerald-400 dark:hover:border-emerald-500 hover:shadow-md hover:scale-105"} ${Ce?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[le&&p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-300/20 via-[#7BD955]/20 to-emerald-700/20 animate-pulse pointer-events-none"}),p.jsx(ke,{className:`w-5 h-5 relative z-10 ${le?"text-white drop-shadow-lg":"text-[#0a6c45] dark:text-[#7BD955] group-hover:scale-110"}`,strokeWidth:2.5}),p.jsx("span",{className:`text-[10px] text-center relative z-10 ${le?"text-white drop-shadow-sm":"text-[#0a6c45] dark:text-[#7BD955]"}`,children:ge}),le&&p.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-md z-10 animate-[scaleIn_0.3s_ease-out]",children:p.jsx("svg",{className:"w-2.5 h-2.5 text-[#0a6c45]",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{d:"M5 13l4 4L19 7"})})})]},oe)})})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-blue-900 dark:text-blue-100 mb-2",children:"Entrega de Instruo dos Equipamentos"}),Ee.length>0&&p.jsx("div",{className:"mb-4 space-y-2",children:Ee.map(oe=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-xl",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-blue-900",children:oe.name}),p.jsxs("p",{className:"text-blue-600",children:["Enviado por ",oe.uploadedBy," em ",new Date(oe.uploadedAt).toLocaleString("pt-BR")]})]}),Ce&&p.jsx("button",{type:"button",onClick:()=>Qs(oe.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-all",children:p.jsx(_l,{className:"w-5 h-5"})})]},oe.id))}),!Ce&&Ee.length===0&&p.jsx("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-xl text-center text-gray-500",children:"Nenhum arquivo enviado ainda"}),Ce&&p.jsxs("label",{className:"flex items-center justify-center gap-2 px-4 py-8 border-2 border-dashed border-blue-300 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all cursor-pointer",children:[p.jsx(NS,{className:"w-6 h-6 text-blue-600"}),p.jsx("span",{className:"text-blue-600",children:"Clique para adicionar arquivos"}),p.jsx("input",{type:"file",multiple:!0,onChange:Yr,className:"hidden",accept:"image/*,.pdf,.doc,.docx"})]})]})]})})]}),p.jsxs("div",{className:"border-t border-emerald-100 dark:border-gray-700 p-6 bg-emerald-50 dark:bg-gray-700/50 flex justify-end gap-4",children:[p.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-emerald-300 dark:border-gray-600 text-emerald-700 dark:text-emerald-300 rounded-xl hover:bg-emerald-100 dark:hover:bg-gray-600 transition-all",children:"Cancelar"}),p.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 dark:from-emerald-600 dark:to-teal-700 text-white rounded-xl hover:from-emerald-600 hover:to-teal-700 dark:hover:from-emerald-700 dark:hover:to-teal-800 transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[p.jsx(ES,{className:"w-5 h-5"}),p.jsx("span",{children:"Salvar"})]})]})]})]})})})}function cr({roles:n,children:e}){const{user:t}=Vi();return!t||!n.includes(t.role)?null:p.jsx(p.Fragment,{children:e})}const c_="/assets/logo-DLhrngOv.png",F0=[{id:"dashboard",icon:oS,label:"Dashboard",view:"dashboard",roles:["ADM","MONITORAMENTO","TECNICO","ANALISADOR","USER"]},{id:"list",icon:lS,label:"Condomnios",view:"list",roles:["ADM","MONITORAMENTO","TECNICO","ANALISADOR","USER"]}],jn={label:"Config",desktopLabel:"Configuraes",view:"configuracoes",roles:["ADM"]};function OS({currentView:n,onViewChange:e,onAddCondominio:t}){const{user:s,logout:o}=Vi(),l=f=>{switch(f){case"ADM":return"bg-[#0a6c45]";case"MONITORAMENTO":return"bg-blue-600";case"TECNICO":return"bg-orange-600";case"ANALISADOR":return"bg-gray-600";default:return"bg-gray-600"}},d=F0.filter(f=>f.id!=="historico"&&f.id!=="backup");return p.jsxs(p.Fragment,{children:[p.jsx("header",{className:"hidden lg:block bg-white dark:bg-gray-900 border-b border-emerald-100 dark:border-gray-700 shadow-lg",children:p.jsxs("div",{className:"px-6 py-3 bg-gradient-to-r from-white via-emerald-50/30 to-white dark:from-gray-800 dark:via-gray-800 dark:to-gray-800 border-b-2 border-white dark:border-gray-700 shadow-lg relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#7BD955]/5 via-transparent to-yellow-300/5 pointer-events-none"}),p.jsxs("div",{className:"flex items-center justify-center gap-3 relative z-10",children:[p.jsx("div",{className:"flex items-center",children:p.jsx("div",{className:"relative group",children:p.jsx("img",{src:c_,alt:"STV Implantao",className:"h-11 relative z-10 drop-shadow-lg transition-transform group-hover:scale-105"})})}),p.jsxs("nav",{className:"flex items-center gap-3",children:[F0.map(f=>{const m=f.icon;return p.jsx(cr,{roles:f.roles,children:p.jsxs("button",{onClick:()=>e(f.view),className:`flex items-center gap-2 px-4 h-11 rounded-xl transition-all backdrop-blur-sm group ${n===f.view?"bg-white dark:bg-gray-700 shadow-lg scale-105 border-2 border-[#7BD955]":"bg-white/60 dark:bg-gray-700/60 text-gray-700 dark:text-gray-300 hover:bg-white dark:hover:bg-gray-700 hover:shadow-lg hover:scale-105 border border-emerald-100/50 dark:border-gray-600/50"}`,children:[p.jsx(m,{className:`w-5 h-5 transition-transform ${n===f.view?"text-[#7BD955] drop-shadow-md":"group-hover:scale-110"}`}),p.jsx("span",{className:`${n===f.view?"text-gray-900 dark:text-gray-100":""}`,children:f.label})]})},f.id)}),p.jsx(cr,{roles:["ADM","TECNICO","USER"],children:p.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 h-11 rounded-xl text-white bg-gradient-to-r from-[#7BD955] via-[#0a6c45] to-emerald-700 hover:from-[#6BC845] hover:via-[#095c35] hover:to-emerald-800 transition-all shadow-xl shadow-[#0a6c45]/40 hover:shadow-2xl hover:scale-105 active:scale-95 border border-white/20 group",children:[p.jsx(mf,{className:"w-5 h-5 drop-shadow-md group-hover:rotate-90 transition-transform"}),p.jsx("span",{className:"drop-shadow-sm",children:"Novo Condomnio"})]})}),p.jsx(cr,{roles:jn.roles,children:p.jsx("button",{onClick:()=>e(jn.view),className:`flex items-center justify-center w-11 h-11 rounded-xl transition-all backdrop-blur-sm group ${n===jn.view?"bg-white dark:bg-gray-700 shadow-lg scale-105 border-2 border-gray-400":"bg-white/60 dark:bg-gray-700/60 text-gray-600 dark:text-gray-400 hover:bg-white dark:hover:bg-gray-700 hover:shadow-lg hover:scale-105 border border-gray-200/50 dark:border-gray-600/50"}`,title:jn.desktopLabel,children:p.jsx(gf,{className:`w-5 h-5 transition-transform ${n===jn.view?"rotate-90 text-gray-600 dark:text-gray-300":"group-hover:rotate-90"}`})})}),p.jsx("button",{onClick:o,className:"flex items-center justify-center w-11 h-11 rounded-xl bg-white/60 dark:bg-gray-700/60 backdrop-blur-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 hover:shadow-lg hover:scale-105 transition-all border border-red-200/50 dark:border-red-800/50 group",title:"Sair",children:p.jsx(M0,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})}),p.jsxs("div",{className:"flex items-center gap-2 px-3 h-11 bg-white/80 dark:bg-gray-700/80 backdrop-blur-xl rounded-xl border-2 border-[#7BD955]/30 dark:border-[#7BD955]/40 shadow-lg hover:shadow-xl transition-all",children:[p.jsx("div",{className:"w-7 h-7 bg-gradient-to-br from-[#7BD955] to-[#0a6c45] rounded-full flex items-center justify-center shadow-md",children:p.jsx(np,{className:"w-4 h-4 text-white drop-shadow-sm"})}),p.jsx("span",{className:"text-gray-900 dark:text-gray-100 text-sm",children:s?.email}),p.jsx("span",{className:`px-2.5 py-1 ${l(s?.role||"")} text-white rounded-lg text-xs shadow-md backdrop-blur-sm`,children:s?.role})]})]})]})]})}),p.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-[#0a6c45]/20 shadow-2xl z-50",children:p.jsxs("div",{className:"w-full flex items-center justify-center py-4 gap-3 bg-gradient-to-t from-emerald-50 via-white to-white dark:from-gray-800 dark:via-gray-900 dark:to-gray-900 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-x-0 bottom-0 h-20 bg-gradient-to-t from-[#7BD955]/10 via-transparent to-transparent pointer-events-none"}),d.map(f=>{const m=f.icon,v=n===f.view;return p.jsx(cr,{roles:f.roles,children:p.jsxs("button",{onClick:()=>e(f.view),className:`flex flex-col items-center justify-center gap-1.5 px-3 py-2.5 rounded-2xl transition-all w-20 relative z-10 group ${v?"bg-gradient-to-br from-[#7BD955] to-[#0a6c45] text-white shadow-lg shadow-[#0a6c45]/30 scale-105":"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm text-[#0a6c45] dark:text-[#7BD955] hover:bg-emerald-50 dark:hover:bg-gray-700 hover:scale-105 border border-emerald-200/50 dark:border-gray-600/50"}`,children:[p.jsx(m,{className:`w-5 h-5 transition-transform ${v?"drop-shadow-md scale-110":"group-hover:scale-110"}`}),p.jsx("span",{className:`text-[10px] whitespace-nowrap ${v?"drop-shadow-sm":""}`,children:f.label})]})},f.id)}),p.jsx(cr,{roles:["ADM","TECNICO","USER"],children:p.jsxs("div",{className:"relative -translate-y-3 z-20",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#7BD955] via-yellow-400 to-[#0a6c45] rounded-full blur-xl opacity-60 animate-pulse scale-110"}),p.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-white/50 dark:border-gray-800/50 animate-ping opacity-75"}),p.jsx("div",{className:"relative bg-white dark:bg-gray-900 rounded-full p-1.5 shadow-2xl",children:p.jsxs("button",{onClick:t,className:"flex flex-col items-center justify-center gap-1 px-4 py-3 rounded-full text-white bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 hover:from-[#6BC845] hover:via-[#095c35] hover:to-emerald-800 shadow-2xl shadow-[#0a6c45]/50 hover:shadow-[#0a6c45]/70 transition-all hover:scale-110 active:scale-95 w-20 h-20 group relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"}),p.jsx(mf,{className:"w-8 h-8 drop-shadow-lg group-hover:rotate-90 transition-transform relative z-10"}),p.jsx("span",{className:"text-xs drop-shadow-md relative z-10",children:"Novo"})]})})]})}),p.jsx(cr,{roles:jn.roles,children:p.jsxs("button",{onClick:()=>e(jn.view),className:`flex flex-col items-center justify-center gap-1.5 px-3 py-2.5 rounded-2xl transition-all w-20 relative z-10 group ${n===jn.view?"bg-gradient-to-br from-gray-400 to-gray-600 text-white shadow-lg shadow-gray-500/30 scale-105":"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:scale-105 border border-gray-200/50 dark:border-gray-600/50"}`,children:[p.jsx(gf,{className:`w-5 h-5 transition-transform ${n===jn.view?"rotate-90 drop-shadow-md":"group-hover:rotate-90"}`}),p.jsx("span",{className:`text-[10px] whitespace-nowrap ${n===jn.view?"drop-shadow-sm":""}`,children:jn.label})]})}),p.jsxs("button",{onClick:o,className:"flex flex-col items-center justify-center gap-1.5 px-3 py-2.5 rounded-2xl transition-all w-20 relative z-10 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 hover:scale-105 border border-red-200/50 dark:border-red-800/50 group",children:[p.jsx(M0,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"}),p.jsx("span",{className:"text-[10px] whitespace-nowrap",children:"Sair"})]})]})})]})}function jS({condominios:n}){const[e,t]=j.useState(null),s=n.length,o=n.filter(H=>H.status==="CONCLUDA").length,l=n.filter(H=>H.status==="EM ANDAMENTO").length,d=n.filter(H=>H.status==="NO INICIADA").length,f=n.filter(H=>H.vistorias==="CONCLUDA").length,m=n.filter(H=>H.vistorias==="EM ANDAMENTO").length,v=n.filter(H=>H.vistorias==="NO INICIADA").length,w=n.filter(H=>H.cftv==="CONCLUDO").length,E=n.filter(H=>H.cftv==="EM ANDAMENTO").length,I=n.filter(H=>H.cftv==="AGUARDANDO TCNICA").length,P=n.filter(H=>H.instalacao==="CONCLUDA").length,W=n.filter(H=>H.instalacao==="EM ANDAMENTO").length,B=new Date,L=new Date;L.setDate(B.getDate()+30);const Q=n.filter(H=>{if(!H.dataImplantacao)return!1;const A=new Date(H.dataImplantacao);return A>=B&&A<=L}).length,X=()=>{switch(e){case"all":return{condominios:n,title:"Todos os Condomnios"};case"concluidos":return{condominios:n.filter(H=>H.status==="CONCLUDA"),title:"Condomnios Concludos"};case"emAndamento":return{condominios:n.filter(H=>H.status==="EM ANDAMENTO"),title:"Condomnios em Andamento"};case"naoIniciados":return{condominios:n.filter(H=>H.status==="NO INICIADA"),title:"Condomnios No Iniciados"};case"vistoriasConcluidas":return{condominios:n.filter(H=>H.vistorias==="CONCLUDA"),title:"Vistorias Concludas"};case"vistoriasEmAndamento":return{condominios:n.filter(H=>H.vistorias==="EM ANDAMENTO"),title:"Vistorias em Andamento"};case"vistoriasNaoIniciadas":return{condominios:n.filter(H=>H.vistorias==="NO INICIADA"),title:"Vistorias No Iniciadas"};case"cftvConcluido":return{condominios:n.filter(H=>H.cftv==="CONCLUDO"),title:"CFTV Concludo"};case"cftvEmAndamento":return{condominios:n.filter(H=>H.cftv==="EM ANDAMENTO"),title:"CFTV em Andamento"};case"cftvAguardando":return{condominios:n.filter(H=>H.cftv==="AGUARDANDO TCNICA"),title:"CFTV Aguardando Tcnica"};case"instalacaoConcluida":return{condominios:n.filter(H=>H.instalacao==="CONCLUDA"),title:"Instalaes Concludas"};case"instalacaoEmAndamento":return{condominios:n.filter(H=>H.instalacao==="EM ANDAMENTO"),title:"Instalaes em Andamento"};case"proximasImplantacoes":return{condominios:n.filter(H=>{if(!H.dataImplantacao)return!1;const A=new Date(H.dataImplantacao);return A>=B&&A<=L}),title:"Prximas Implantaes (30 dias)"};default:return{condominios:[],title:""}}};if(e){const{condominios:H,title:A}=X();return p.jsx("div",{className:"p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("button",{onClick:()=>t(null),className:"flex items-center gap-2 mb-4 px-4 py-2 bg-white dark:bg-gray-800 border border-[#0a6c45]/20 dark:border-gray-700 rounded-xl text-[#0a6c45] dark:text-[#0a6c45]/80 hover:bg-[#0a6c45]/5 dark:hover:bg-[#0a6c45]/20 transition-all",children:[p.jsx(tp,{className:"w-5 h-5"}),p.jsx("span",{children:"Voltar ao Dashboard"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-[#0a6c45] rounded-xl flex items-center justify-center shadow-lg",children:p.jsx(mS,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-gray-900 dark:text-gray-100",children:A}),p.jsxs("p",{className:"text-[#0a6c45] dark:text-gray-400",children:[H.length," condomnio(s) encontrado(s)"]})]})]})]}),H.length===0?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-12 text-center",children:[p.jsx(vl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-gray-700 dark:text-gray-300 mb-2",children:"Nenhum condomnio encontrado"}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No h condomnios que correspondam a este filtro."})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(k=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6 hover:shadow-xl transition-all",children:[p.jsxs("div",{className:"mb-4 pb-4 border-b border-[#0a6c45]/20 dark:border-gray-700",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Fo,{className:"w-5 h-5 text-[#0a6c45] dark:text-[#0a6c45]/80"}),p.jsx("h3",{className:"text-gray-900 dark:text-gray-100 flex-1",children:k.nomeCondominio})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:p.jsx("span",{className:`px-3 py-1 rounded-lg text-sm ${k.status==="CONCLUDA"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":k.status==="EM ANDAMENTO"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:k.status})})]}),p.jsxs("div",{className:"space-y-3 text-sm",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-emerald-600 dark:text-gray-400",children:"CFTV:"}),p.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.cftv==="CONCLUDO"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":k.cftv==="EM ANDAMENTO"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400"}`,children:k.cftv})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-emerald-600 dark:text-gray-400",children:"Vistorias:"}),p.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.vistorias==="CONCLUDA"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":k.vistorias==="EM ANDAMENTO"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:k.vistorias})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-emerald-600 dark:text-gray-400",children:"Instalao:"}),p.jsx("span",{className:`px-2 py-1 rounded text-xs ${k.instalacao==="CONCLUDA"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":k.instalacao==="EM ANDAMENTO"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:k.instalacao})]}),k.dataImplantacao&&p.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-emerald-100 dark:border-gray-700",children:[p.jsx("span",{className:"text-emerald-600 dark:text-gray-400",children:"Implantao:"}),p.jsx("span",{className:"text-emerald-700 dark:text-gray-300",children:new Date(k.dataImplantacao).toLocaleDateString("pt-BR")})]}),k.licencas&&p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-emerald-600 dark:text-gray-400",children:"Licenas:"}),p.jsx("span",{className:"text-emerald-700 dark:text-gray-300",children:k.licencas})]})]})]},k.id))})]})})}const Y=[{title:"Total de Condomnios",value:s,icon:Fo,color:"from-emerald-500 to-teal-600",bgColor:"bg-emerald-50",iconColor:"text-emerald-600",filter:"all"},{title:"Concludos",value:o,icon:Kh,color:"from-green-500 to-green-600",bgColor:"bg-green-50",iconColor:"text-green-600",percentage:s>0?Math.round(o/s*100):0,filter:"concluidos"},{title:"Em Andamento",value:l,icon:lr,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",iconColor:"text-blue-600",percentage:s>0?Math.round(l/s*100):0,filter:"emAndamento"},{title:"No Iniciados",value:d,icon:vl,color:"from-gray-500 to-gray-600",bgColor:"bg-gray-50",iconColor:"text-gray-600",percentage:s>0?Math.round(d/s*100):0,filter:"naoIniciados"}],ie=[{title:"Vistorias Concludas",value:f,icon:Kh,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",filter:"vistoriasConcluidas"},{title:"Vistorias em Andamento",value:m,icon:lr,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",filter:"vistoriasEmAndamento"},{title:"Vistorias No Iniciadas",value:v,icon:Kb,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",filter:"vistoriasNaoIniciadas"}],be=[{title:"CFTV Concludo",value:w,subtitle:`${E} em andamento, ${I} aguardando`,icon:Kh,color:"text-emerald-600",filter:"cftvConcluido"},{title:"Instalaes Concludas",value:P,subtitle:`${W} em andamento`,icon:L0,color:"text-teal-600",filter:"instalacaoConcluida"},{title:"Prximas Implantaes",value:Q,subtitle:"Prximos 30 dias",icon:yl,color:"text-purple-600",filter:"proximasImplantacoes"}];return p.jsxs("div",{className:"p-4 md:p-8 min-h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#7BD955] rounded-full mix-blend-multiply filter blur-3xl opacity-10 dark:opacity-5 animate-pulse"}),p.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-yellow-300 rounded-full mix-blend-multiply filter blur-3xl opacity-10 dark:opacity-5 animate-pulse delay-700"}),p.jsx("div",{className:"absolute top-1/2 right-1/3 w-96 h-96 bg-emerald-300 rounded-full mix-blend-multiply filter blur-3xl opacity-10 dark:opacity-5 animate-pulse delay-1000"}),p.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[p.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-emerald-700 rounded-2xl flex items-center justify-center shadow-xl transform hover:scale-105 transition-transform",children:p.jsx(V0,{className:"w-7 h-7 text-white drop-shadow-md"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-gray-900 dark:text-gray-100 drop-shadow-sm",children:"Dashboard"}),p.jsx("p",{className:"text-[#0a6c45] dark:text-[#7BD955]",children:"Viso geral dos condomnios cadastrados"})]})]})}),p.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:Y.map((H,A)=>{const k=H.icon;return p.jsxs("button",{onClick:()=>t(H.filter),className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl shadow-xl border-2 border-white dark:border-gray-700 p-4 md:p-6 hover:shadow-2xl hover:scale-105 hover:border-[#7BD955] dark:hover:border-[#7BD955] transition-all text-left cursor-pointer group",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 ${H.bgColor} dark:bg-opacity-30 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform`,children:p.jsx(k,{className:`w-6 h-6 md:w-7 md:h-7 ${H.iconColor} dark:opacity-90`})}),H.percentage!==void 0&&p.jsxs("div",{className:`px-2.5 md:px-3 py-1 rounded-xl ${H.bgColor} dark:bg-opacity-30 ${H.iconColor} shadow-md`,children:[H.percentage,"%"]})]}),p.jsx("h3",{className:"text-gray-900 dark:text-gray-100 mb-1",children:H.value}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:H.title})]},A)})}),p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center shadow-lg",children:p.jsx(L0,{className:"w-5 h-5 text-white"})}),p.jsx("h2",{className:"text-gray-900 dark:text-gray-100",children:"Status das Vistorias"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:ie.map((H,A)=>{const k=H.icon;return p.jsxs("button",{onClick:()=>t(H.filter),className:`bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl shadow-xl border-2 ${H.borderColor} dark:border-gray-700 p-5 md:p-6 hover:shadow-2xl hover:scale-105 transition-all text-left cursor-pointer group relative overflow-hidden`,children:[p.jsx("div",{className:`absolute inset-0 ${H.bgColor} opacity-5 dark:opacity-10 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity`}),p.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[p.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 ${H.bgColor} dark:bg-opacity-30 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform`,children:p.jsx(k,{className:`w-6 h-6 md:w-7 md:h-7 ${H.color} dark:opacity-90`})}),p.jsx("h3",{className:`${H.color} dark:opacity-90 w-8 text-center flex-shrink-0 drop-shadow-sm`,children:H.value}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 flex-1",children:H.title})]})]},A)})})]}),p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center shadow-lg",children:p.jsx(yl,{className:"w-5 h-5 text-white"})}),p.jsx("h2",{className:"text-gray-900 dark:text-gray-100",children:"Detalhes Adicionais"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:be.map((H,A)=>{const k=H.icon,S=["from-[#7BD955] to-[#0a6c45]","from-amber-500 to-orange-600","from-cyan-500 to-blue-600"];return p.jsx("button",{onClick:()=>t(H.filter),className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl shadow-xl border-2 border-white dark:border-gray-700 p-5 md:p-6 hover:shadow-2xl hover:scale-105 hover:border-[#7BD955] dark:hover:border-[#7BD955] transition-all text-left cursor-pointer group",children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 bg-gradient-to-br ${S[A]} rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform`,children:p.jsx(k,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-gray-900 dark:text-gray-100 mb-1",children:H.value}),p.jsx("p",{className:`${H.color} dark:opacity-90 mb-1`,children:H.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:H.subtitle})]})]})},A)})})]}),p.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl shadow-xl border-2 border-white dark:border-gray-700 p-6 md:p-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:p.jsx(V0,{className:"w-5 h-5 text-white"})}),p.jsx("h2",{className:"text-gray-900 dark:text-gray-100",children:"Progresso Geral"})]}),p.jsxs("div",{className:"space-y-6 md:space-y-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-900/10 dark:to-green-900/10 rounded-2xl p-4 md:p-5 border border-emerald-200 dark:border-emerald-800/30",children:[p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[p.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Status Geral dos Condomnios"}),p.jsxs("span",{className:"text-[#0a6c45] dark:text-[#7BD955] px-3 py-1 bg-white dark:bg-gray-800 rounded-full shadow-sm",children:[s>0?Math.round(o/s*100):0,"% Concludo"]})]}),p.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-5 overflow-hidden shadow-inner",children:p.jsxs("div",{className:"h-full flex",children:[p.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 transition-all shadow-sm",style:{width:`${s>0?o/s*100:0}%`}}),p.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 transition-all shadow-sm",style:{width:`${s>0?l/s*100:0}%`}}),p.jsx("div",{className:"bg-gradient-to-r from-gray-400 to-gray-500 transition-all shadow-sm",style:{width:`${s>0?d/s*100:0}%`}})]})}),p.jsxs("div",{className:"flex flex-wrap gap-4 mt-3",children:[p.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 px-3 py-1.5 rounded-full shadow-sm",children:[p.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-green-600 rounded-full shadow-sm"}),p.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Concludos (",o,")"]})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 px-3 py-1.5 rounded-full shadow-sm",children:[p.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full shadow-sm"}),p.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Em Andamento (",l,")"]})]}),p.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-gray-800 px-3 py-1.5 rounded-full shadow-sm",children:[p.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-gray-400 to-gray-500 rounded-full shadow-sm"}),p.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["No Iniciados (",d,")"]})]})]})]}),p.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-900/10 dark:to-cyan-900/10 rounded-2xl p-4 md:p-5 border border-teal-200 dark:border-teal-800/30",children:[p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[p.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Progresso de Vistorias"}),p.jsxs("span",{className:"text-teal-700 dark:text-teal-400 px-3 py-1 bg-white dark:bg-gray-800 rounded-full shadow-sm",children:[s>0?Math.round(f/s*100):0,"% Concludo"]})]}),p.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-5 overflow-hidden shadow-inner",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 via-teal-500 to-teal-600 transition-all shadow-sm",style:{width:`${s>0?f/s*100:0}%`}})})]}),p.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 rounded-2xl p-4 md:p-5 border border-blue-200 dark:border-blue-800/30",children:[p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[p.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Progresso de CFTV"}),p.jsxs("span",{className:"text-blue-700 dark:text-blue-400 px-3 py-1 bg-white dark:bg-gray-800 rounded-full shadow-sm",children:[s>0?Math.round(w/s*100):0,"% Concludo"]})]}),p.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-5 overflow-hidden shadow-inner",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-teal-500 via-cyan-500 to-cyan-600 transition-all shadow-sm",style:{width:`${s>0?w/s*100:0}%`}})})]}),p.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/10 dark:to-pink-900/10 rounded-2xl p-4 md:p-5 border border-purple-200 dark:border-purple-800/30",children:[p.jsxs("div",{className:"flex justify-between items-center mb-3",children:[p.jsx("span",{className:"text-gray-800 dark:text-gray-200",children:"Progresso de Instalaes"}),p.jsxs("span",{className:"text-purple-700 dark:text-purple-400 px-3 py-1 bg-white dark:bg-gray-800 rounded-full shadow-sm",children:[s>0?Math.round(P/s*100):0,"% Concludo"]})]}),p.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-5 overflow-hidden shadow-inner",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 via-pink-500 to-pink-600 transition-all shadow-sm",style:{width:`${s>0?P/s*100:0}%`}})})]})]})]})]})]})}function LS({condominios:n,onEdit:e,onDelete:t}){const{user:s}=Vi(),[o,l]=j.useState(""),[d,f]=j.useState("TODOS"),m=s?.role==="ADM",v=s?.role==="ANALISADOR",w=m||s?.role==="MONITORAMENTO"||s?.role==="TECNICO",E=m,I=n.filter(B=>{const L=B.nomeCondominio.toLowerCase().includes(o.toLowerCase()),Q=d==="TODOS"||B.status===d;return L&&Q}),P=B=>{switch(B){case"CONCLUDA":return"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-700";case"EM ANDAMENTO":return"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-700";case"NO INICIADA":return"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-700/50 dark:text-gray-400 dark:border-gray-600";default:return"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-700/50 dark:text-gray-400 dark:border-gray-600"}},W=(B,L)=>{window.confirm(`Tem certeza que deseja excluir o condomnio "${L}"?`)&&t(B)};return p.jsx("div",{className:"p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-emerald-900 dark:text-emerald-100 mb-2",children:"Lista de Condomnios"}),p.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400",children:[I.length," condomnio",I.length!==1?"s":""," encontrado",I.length!==1?"s":""]})]}),p.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[p.jsxs("div",{className:"flex-1 min-w-[300px] relative",children:[p.jsx(Ni,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#0a6c45] dark:text-[#7BD955] w-5 h-5"}),p.jsx("input",{type:"text",placeholder:"Buscar condomnio...",value:o,onChange:B=>l(B.target.value),className:"w-full pl-12 pr-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 dark:bg-gray-700 dark:text-gray-100"})]}),p.jsxs("select",{value:d,onChange:B=>f(B.target.value),className:"px-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 bg-white dark:bg-gray-700 dark:text-gray-100",children:[p.jsx("option",{value:"TODOS",children:"Todos os Status"}),p.jsx("option",{value:"NO INICIADA",children:"No Iniciada"}),p.jsx("option",{value:"EM ANDAMENTO",children:"Em Andamento"}),p.jsx("option",{value:"CONCLUDA",children:"Concluda"})]})]}),I.length===0?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-12 text-center",children:[p.jsx(Fo,{className:"w-16 h-16 text-emerald-300 dark:text-emerald-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-emerald-900 dark:text-emerald-100 mb-2",children:"Nenhum condomnio encontrado"}),p.jsx("p",{className:"text-emerald-600 dark:text-emerald-400",children:n.length===0?"Adicione seu primeiro condomnio para comear.":"Tente ajustar os filtros de busca."})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(B=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6 hover:shadow-xl transition-all flex flex-col",children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("div",{className:"w-16 h-16 bg-[#0a6c45] dark:bg-[#7BD955]/20 dark:border dark:border-[#7BD955] rounded-xl flex items-center justify-center shadow-md mx-auto mb-3",children:p.jsx(Fo,{className:"w-8 h-8 text-white dark:text-[#7BD955]"})}),p.jsx("h3",{className:"text-gray-900 dark:text-gray-100 mb-1",children:B.nomeCondominio}),p.jsxs("p",{className:"text-[#0a6c45] dark:text-[#7BD955]",children:["Conta: ",B.contaSituator||"N/A"]})]}),p.jsxs("div",{className:"mb-4 flex-1",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-[#0a6c45] dark:text-[#7BD955] mb-1 text-xs text-center",children:"Status Geral"}),p.jsx("span",{className:`inline-block px-1 py-1 rounded-lg text-xs border w-full text-center leading-tight ${P(B.status)}`,children:B.status==="CONCLUDA"?" OK":B.status==="EM ANDAMENTO"?"Em And.":"No Inic."})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[#0a6c45] dark:text-[#7BD955] mb-1 text-xs text-center",children:"CFTV"}),p.jsx("span",{className:`inline-block px-1 py-1 rounded-lg text-xs border w-full text-center leading-tight ${P(B.cftv)}`,children:B.cftv==="CONCLUDO"?" OK":B.cftv==="EM ANDAMENTO"?"Em And.":B.cftv==="AGUARDANDO TCNICA"?"Aguard.":"No Inic."})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[#0a6c45] dark:text-[#7BD955] mb-1 text-xs text-center",children:"Vistorias"}),p.jsx("span",{className:`inline-block px-1 py-1 rounded-lg text-xs border w-full text-center leading-tight ${P(B.vistorias)}`,children:B.vistorias==="CONCLUDA"?" OK":B.vistorias==="EM ANDAMENTO"?"Em And.":"No Inic."})]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-[#0a6c45] dark:text-[#7BD955] mb-1 text-sm",children:"Data Implantao"}),p.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-center",children:B.dataImplantacao?new Date(B.dataImplantacao).toLocaleDateString("pt-BR"):"N/A"})]})]}),B.linkCadastro&&p.jsxs("a",{href:B.linkCadastro,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 transition-colors mb-4 text-sm",children:[p.jsx(eS,{className:"w-4 h-4"}),p.jsx("span",{children:"Link de Cadastro"})]}),p.jsxs("div",{className:"flex gap-2 pt-4 border-t border-emerald-100 dark:border-gray-700",children:[w&&p.jsxs("button",{onClick:()=>e(B),className:"flex-1 p-3 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-xl transition-all flex items-center justify-center gap-2",title:"Editar",children:[p.jsx(yS,{className:"w-4 h-4"}),p.jsx("span",{children:v?"Visualizar":"Editar"})]}),E&&p.jsx("button",{onClick:()=>W(B.id,B.nomeCondominio),className:"p-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-xl transition-all",title:"Excluir",children:p.jsx(_l,{className:"w-5 h-5"})})]})]},B.id))})]})})}var MS="firebase",VS="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(MS,VS,"app");const d_="@firebase/installations",rp="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=1e4,f_=`w:${rp}`,p_="FIS_v2",FS="https://firebaseinstallations.googleapis.com/v1",US=3600*1e3,BS="installations",zS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ri=new ji(BS,zS,$S);function m_(n){return n instanceof zn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_({projectId:n}){return`${FS}/projects/${n}/installations`}function y_(n){return{token:n.token,requestStatus:2,expiresIn:qS(n.expiresIn),creationTime:Date.now()}}async function v_(n,e){const s=(await e.json()).error;return Ri.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function __({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function HS(n,{refreshToken:e}){const t=__(n);return t.append("Authorization",WS(e)),t}async function w_(n){const e=await n();return e.status>=500&&e.status<600?n():e}function qS(n){return Number(n.replace("s","000"))}function WS(n){return`${p_} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KS({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=g_(n),o=__(n),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={fid:t,authVersion:p_,appId:n.appId,sdkVersion:f_},f={method:"POST",headers:o,body:JSON.stringify(d)},m=await w_(()=>fetch(s,f));if(m.ok){const v=await m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:y_(v.authToken)}}else throw await v_("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=/^[cdef][\w-]{21}$/,vf="";function YS(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=XS(n);return QS.test(t)?t:vf}catch{return vf}}function XS(n){return GS(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;function T_(n,e){const t=Gc(n);k_(t,e),JS(t,e)}function k_(n,e){const t=E_.get(n);if(t)for(const s of t)s(e)}function JS(n,e){const t=ZS();t&&t.postMessage({key:n,fid:e}),eC()}let Ti=null;function ZS(){return!Ti&&"BroadcastChannel"in self&&(Ti=new BroadcastChannel("[Firebase] FID Change"),Ti.onmessage=n=>{k_(n.data.key,n.data.fid)}),Ti}function eC(){E_.size===0&&Ti&&(Ti.close(),Ti=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebase-installations-database",nC=1,Pi="firebase-installations-store";let Qh=null;function sp(){return Qh||(Qh=Ev(tC,nC,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Pi)}}})),Qh}async function Ac(n,e){const t=Gc(n),o=(await sp()).transaction(Pi,"readwrite"),l=o.objectStore(Pi),d=await l.get(t);return await l.put(e,t),await o.done,(!d||d.fid!==e.fid)&&T_(n,e.fid),e}async function I_(n){const e=Gc(n),s=(await sp()).transaction(Pi,"readwrite");await s.objectStore(Pi).delete(e),await s.done}async function Qc(n,e){const t=Gc(n),o=(await sp()).transaction(Pi,"readwrite"),l=o.objectStore(Pi),d=await l.get(t),f=e(d);return f===void 0?await l.delete(t):await l.put(f,t),await o.done,f&&(!d||d.fid!==f.fid)&&T_(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ip(n){let e;const t=await Qc(n.appConfig,s=>{const o=rC(s),l=sC(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===vf?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function rC(n){const e=n||{fid:YS(),registrationStatus:0};return b_(e)}function sC(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ri.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=iC(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oC(n)}:{installationEntry:e}}async function iC(n,e){try{const t=await KS(n,e);return Ac(n.appConfig,t)}catch(t){throw m_(t)&&t.customData.serverCode===409?await I_(n.appConfig):await Ac(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function oC(n){let e=await U0(n.appConfig);for(;e.registrationStatus===1;)await x_(100),e=await U0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await ip(n);return s||t}return e}function U0(n){return Qc(n,e=>{if(!e)throw Ri.create("installation-not-found");return b_(e)})}function b_(n){return aC(n)?{fid:n.fid,registrationStatus:0}:n}function aC(n){return n.registrationStatus===1&&n.registrationTime+h_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC({appConfig:n,heartbeatServiceProvider:e},t){const s=uC(n,t),o=HS(n,t),l=e.getImmediate({optional:!0});if(l){const v=await l.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const d={installation:{sdkVersion:f_,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(d)},m=await w_(()=>fetch(s,f));if(m.ok){const v=await m.json();return y_(v)}else throw await v_("Generate Auth Token",m)}function uC(n,{fid:e}){return`${g_(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(n,e=!1){let t;const s=await Qc(n.appConfig,l=>{if(!S_(l))throw Ri.create("not-registered");const d=l.authToken;if(!e&&hC(d))return l;if(d.requestStatus===1)return t=cC(n,e),l;{if(!navigator.onLine)throw Ri.create("app-offline");const f=pC(l);return t=dC(n,f),f}});return t?await t:s.authToken}async function cC(n,e){let t=await B0(n.appConfig);for(;t.authToken.requestStatus===1;)await x_(100),t=await B0(n.appConfig);const s=t.authToken;return s.requestStatus===0?op(n,e):s}function B0(n){return Qc(n,e=>{if(!S_(e))throw Ri.create("not-registered");const t=e.authToken;return mC(t)?{...e,authToken:{requestStatus:0}}:e})}async function dC(n,e){try{const t=await lC(n,e),s={...e,authToken:t};return await Ac(n.appConfig,s),t}catch(t){if(m_(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await I_(n.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Ac(n.appConfig,s)}throw t}}function S_(n){return n!==void 0&&n.registrationStatus===2}function hC(n){return n.requestStatus===2&&!fC(n)}function fC(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+US}function pC(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function mC(n){return n.requestStatus===1&&n.requestTime+h_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(n){const e=n,{installationEntry:t,registrationPromise:s}=await ip(e);return s?s.catch(console.error):op(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e=!1){const t=n;return await vC(t),(await op(t,e)).token}async function vC(n){const{registrationPromise:e}=await ip(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(n){if(!n||!n.options)throw Yh("App Configuration");if(!n.name)throw Yh("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Yh(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Yh(n){return Ri.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="installations",wC="installations-internal",xC=n=>{const e=n.getProvider("app").getImmediate(),t=_C(e),s=Li(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},EC=n=>{const e=n.getProvider("app").getImmediate(),t=Li(e,C_).getImmediate();return{getId:()=>gC(t),getToken:o=>yC(t,o)}};function TC(){gr(new Fn(C_,xC,"PUBLIC")),gr(new Fn(wC,EC,"PRIVATE"))}TC();kn(d_,rp);kn(d_,rp,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="analytics",kC="firebase_id",IC="origin",bC=60*1e3,SC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ap="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=new $c("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mn=new ji("analytics","Analytics",CC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){if(!n.startsWith(ap)){const e=mn.create("invalid-gtag-resource",{gtagURL:n});return Qt.warn(e.message),""}return n}function A_(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function NC(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function RC(n,e){const t=NC("firebase-js-sdk-policy",{createScriptURL:AC}),s=document.createElement("script"),o=`${ap}?l=${n}&id=${e}`;s.src=t?t?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function PC(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function DC(n,e,t,s,o,l){const d=s[o];try{if(d)await e[d];else{const m=(await A_(t)).find(v=>v.measurementId===o);m&&await e[m.appId]}}catch(f){Qt.error(f)}n("config",o,l)}async function OC(n,e,t,s,o){try{let l=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const f=await A_(t);for(const m of d){const v=f.find(E=>E.measurementId===m),w=v&&e[v.appId];if(w)l.push(w);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",s,o||{})}catch(l){Qt.error(l)}}function jC(n,e,t,s){async function o(l,...d){try{if(l==="event"){const[f,m]=d;await OC(n,e,t,f,m)}else if(l==="config"){const[f,m]=d;await DC(n,e,t,s,f,m)}else if(l==="consent"){const[f,m]=d;n("consent",f,m)}else if(l==="get"){const[f,m,v]=d;n("get",f,m,v)}else if(l==="set"){const[f]=d;n("set",f)}else n(l,...d)}catch(f){Qt.error(f)}}return o}function LC(n,e,t,s,o){let l=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=jC(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function MC(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ap)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=30,FC=1e3;class UC{constructor(e={},t=FC){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const N_=new UC;function BC(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function zC(n){const{appId:e,apiKey:t}=n,s={method:"GET",headers:BC(t)},o=SC.replace("{app-id}",e),l=await fetch(o,s);if(l.status!==200&&l.status!==304){let d="";try{const f=await l.json();f.error?.message&&(d=f.error.message)}catch{}throw mn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()}async function $C(n,e=N_,t){const{appId:s,apiKey:o,measurementId:l}=n.options;if(!s)throw mn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw mn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new WC;return setTimeout(async()=>{f.abort()},bC),R_({appId:s,apiKey:o,measurementId:l},d,f,e)}async function R_(n,{throttleEndTimeMillis:e,backoffCount:t},s,o=N_){const{appId:l,measurementId:d}=n;try{await HC(s,e)}catch(f){if(d)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:d};throw f}try{const f=await zC(n);return o.deleteThrottleMetadata(l),f}catch(f){const m=f;if(!qC(m)){if(o.deleteThrottleMetadata(l),d)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:d};throw f}const v=Number(m?.customData?.httpStatus)===503?o0(t,o.intervalMillis,VC):o0(t,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return o.setThrottleMetadata(l,w),Qt.debug(`Calling attemptFetch again in ${v} millis`),R_(n,w,s,o)}}function HC(n,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),s(mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qC(n){if(!(n instanceof zn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class WC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KC(n,e,t,s,o){if(o&&o.global){n("event",t,s);return}else{const l=await e,d={...s,send_to:l};n("event",t,d)}}async function GC(n,e,t,s){if(s&&s.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return n("set",o),Promise.resolve()}else{const o=await e;n("config",o,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(){if(vv())try{await _v()}catch(n){return Qt.warn(mn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Qt.warn(mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YC(n,e,t,s,o,l,d){const f=$C(n);f.then(I=>{t[I.measurementId]=I.appId,n.options.measurementId&&I.measurementId!==n.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>Qt.error(I)),e.push(f);const m=QC().then(I=>{if(I)return s.getId()}),[v,w]=await Promise.all([f,m]);MC(l)||RC(l,v.measurementId),o("js",new Date);const E=d?.config??{};return E[IC]="firebase",E.update=!0,w!=null&&(E[kC]=w),o("config",v.measurementId,E),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.app=e}_delete(){return delete jo[this.app.options.appId],Promise.resolve()}}let jo={},z0=[];const $0={};let Xh="dataLayer",JC="gtag",H0,lp,q0=!1;function ZC(){const n=[];if(yv()&&n.push("This is a browser extension environment."),rT()||n.push("Cookies are not available."),n.length>0){const e=n.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=mn.create("invalid-analytics-context",{errorInfo:e});Qt.warn(t.message)}}function eA(n,e,t){ZC();const s=n.options.appId;if(!s)throw mn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mn.create("no-api-key");if(jo[s]!=null)throw mn.create("already-exists",{id:s});if(!q0){PC(Xh);const{wrappedGtag:l,gtagCore:d}=LC(jo,z0,$0,Xh,JC);lp=l,H0=d,q0=!0}return jo[s]=YC(n,z0,$0,e,H0,Xh,t),new XC(n)}function tA(n=Wf()){n=sn(n);const e=Li(n,Nc);return e.isInitialized()?e.getImmediate():nA(n)}function nA(n,e={}){const t=Li(n,Nc);if(t.isInitialized()){const o=t.getImmediate();if(Us(e,t.getOptions()))return o;throw mn.create("already-initialized")}return t.initialize({options:e})}function rA(n,e,t){n=sn(n),GC(lp,jo[n.app.options.appId],e,t).catch(s=>Qt.error(s))}function sA(n,e,t,s){n=sn(n),KC(lp,jo[n.app.options.appId],e,t,s).catch(o=>Qt.error(o))}const W0="@firebase/analytics",K0="0.10.19";function iA(){gr(new Fn(Nc,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return eA(s,o,t)},"PUBLIC")),gr(new Fn("analytics-internal",n,"PRIVATE")),kn(W0,K0),kn(W0,K0,"esm2020");function n(e){try{const t=e.getProvider(Nc).getImmediate();return{logEvent:(s,o,l)=>sA(t,s,o,l),setUserProperties:(s,o)=>rA(t,s,o)}}catch(t){throw mn.create("interop-component-reg-failed",{reason:t})}}}iA();var G0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,P_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,k){function S(){}S.prototype=k.prototype,A.F=k.prototype,A.prototype=new S,A.prototype.constructor=A,A.D=function(D,R,V){for(var C=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)C[qe-2]=arguments[qe];return k.prototype[R].apply(D,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,k,S){S||(S=0);const D=Array(16);if(typeof k=="string")for(var R=0;R<16;++R)D[R]=k.charCodeAt(S++)|k.charCodeAt(S++)<<8|k.charCodeAt(S++)<<16|k.charCodeAt(S++)<<24;else for(R=0;R<16;++R)D[R]=k[S++]|k[S++]<<8|k[S++]<<16|k[S++]<<24;k=A.g[0],S=A.g[1],R=A.g[2];let V=A.g[3],C;C=k+(V^S&(R^V))+D[0]+3614090360&4294967295,k=S+(C<<7&4294967295|C>>>25),C=V+(R^k&(S^R))+D[1]+3905402710&4294967295,V=k+(C<<12&4294967295|C>>>20),C=R+(S^V&(k^S))+D[2]+606105819&4294967295,R=V+(C<<17&4294967295|C>>>15),C=S+(k^R&(V^k))+D[3]+3250441966&4294967295,S=R+(C<<22&4294967295|C>>>10),C=k+(V^S&(R^V))+D[4]+4118548399&4294967295,k=S+(C<<7&4294967295|C>>>25),C=V+(R^k&(S^R))+D[5]+1200080426&4294967295,V=k+(C<<12&4294967295|C>>>20),C=R+(S^V&(k^S))+D[6]+2821735955&4294967295,R=V+(C<<17&4294967295|C>>>15),C=S+(k^R&(V^k))+D[7]+4249261313&4294967295,S=R+(C<<22&4294967295|C>>>10),C=k+(V^S&(R^V))+D[8]+1770035416&4294967295,k=S+(C<<7&4294967295|C>>>25),C=V+(R^k&(S^R))+D[9]+2336552879&4294967295,V=k+(C<<12&4294967295|C>>>20),C=R+(S^V&(k^S))+D[10]+4294925233&4294967295,R=V+(C<<17&4294967295|C>>>15),C=S+(k^R&(V^k))+D[11]+2304563134&4294967295,S=R+(C<<22&4294967295|C>>>10),C=k+(V^S&(R^V))+D[12]+1804603682&4294967295,k=S+(C<<7&4294967295|C>>>25),C=V+(R^k&(S^R))+D[13]+4254626195&4294967295,V=k+(C<<12&4294967295|C>>>20),C=R+(S^V&(k^S))+D[14]+2792965006&4294967295,R=V+(C<<17&4294967295|C>>>15),C=S+(k^R&(V^k))+D[15]+1236535329&4294967295,S=R+(C<<22&4294967295|C>>>10),C=k+(R^V&(S^R))+D[1]+4129170786&4294967295,k=S+(C<<5&4294967295|C>>>27),C=V+(S^R&(k^S))+D[6]+3225465664&4294967295,V=k+(C<<9&4294967295|C>>>23),C=R+(k^S&(V^k))+D[11]+643717713&4294967295,R=V+(C<<14&4294967295|C>>>18),C=S+(V^k&(R^V))+D[0]+3921069994&4294967295,S=R+(C<<20&4294967295|C>>>12),C=k+(R^V&(S^R))+D[5]+3593408605&4294967295,k=S+(C<<5&4294967295|C>>>27),C=V+(S^R&(k^S))+D[10]+38016083&4294967295,V=k+(C<<9&4294967295|C>>>23),C=R+(k^S&(V^k))+D[15]+3634488961&4294967295,R=V+(C<<14&4294967295|C>>>18),C=S+(V^k&(R^V))+D[4]+3889429448&4294967295,S=R+(C<<20&4294967295|C>>>12),C=k+(R^V&(S^R))+D[9]+568446438&4294967295,k=S+(C<<5&4294967295|C>>>27),C=V+(S^R&(k^S))+D[14]+3275163606&4294967295,V=k+(C<<9&4294967295|C>>>23),C=R+(k^S&(V^k))+D[3]+4107603335&4294967295,R=V+(C<<14&4294967295|C>>>18),C=S+(V^k&(R^V))+D[8]+1163531501&4294967295,S=R+(C<<20&4294967295|C>>>12),C=k+(R^V&(S^R))+D[13]+2850285829&4294967295,k=S+(C<<5&4294967295|C>>>27),C=V+(S^R&(k^S))+D[2]+4243563512&4294967295,V=k+(C<<9&4294967295|C>>>23),C=R+(k^S&(V^k))+D[7]+1735328473&4294967295,R=V+(C<<14&4294967295|C>>>18),C=S+(V^k&(R^V))+D[12]+2368359562&4294967295,S=R+(C<<20&4294967295|C>>>12),C=k+(S^R^V)+D[5]+4294588738&4294967295,k=S+(C<<4&4294967295|C>>>28),C=V+(k^S^R)+D[8]+2272392833&4294967295,V=k+(C<<11&4294967295|C>>>21),C=R+(V^k^S)+D[11]+1839030562&4294967295,R=V+(C<<16&4294967295|C>>>16),C=S+(R^V^k)+D[14]+4259657740&4294967295,S=R+(C<<23&4294967295|C>>>9),C=k+(S^R^V)+D[1]+2763975236&4294967295,k=S+(C<<4&4294967295|C>>>28),C=V+(k^S^R)+D[4]+1272893353&4294967295,V=k+(C<<11&4294967295|C>>>21),C=R+(V^k^S)+D[7]+4139469664&4294967295,R=V+(C<<16&4294967295|C>>>16),C=S+(R^V^k)+D[10]+3200236656&4294967295,S=R+(C<<23&4294967295|C>>>9),C=k+(S^R^V)+D[13]+681279174&4294967295,k=S+(C<<4&4294967295|C>>>28),C=V+(k^S^R)+D[0]+3936430074&4294967295,V=k+(C<<11&4294967295|C>>>21),C=R+(V^k^S)+D[3]+3572445317&4294967295,R=V+(C<<16&4294967295|C>>>16),C=S+(R^V^k)+D[6]+76029189&4294967295,S=R+(C<<23&4294967295|C>>>9),C=k+(S^R^V)+D[9]+3654602809&4294967295,k=S+(C<<4&4294967295|C>>>28),C=V+(k^S^R)+D[12]+3873151461&4294967295,V=k+(C<<11&4294967295|C>>>21),C=R+(V^k^S)+D[15]+530742520&4294967295,R=V+(C<<16&4294967295|C>>>16),C=S+(R^V^k)+D[2]+3299628645&4294967295,S=R+(C<<23&4294967295|C>>>9),C=k+(R^(S|~V))+D[0]+4096336452&4294967295,k=S+(C<<6&4294967295|C>>>26),C=V+(S^(k|~R))+D[7]+1126891415&4294967295,V=k+(C<<10&4294967295|C>>>22),C=R+(k^(V|~S))+D[14]+2878612391&4294967295,R=V+(C<<15&4294967295|C>>>17),C=S+(V^(R|~k))+D[5]+4237533241&4294967295,S=R+(C<<21&4294967295|C>>>11),C=k+(R^(S|~V))+D[12]+1700485571&4294967295,k=S+(C<<6&4294967295|C>>>26),C=V+(S^(k|~R))+D[3]+2399980690&4294967295,V=k+(C<<10&4294967295|C>>>22),C=R+(k^(V|~S))+D[10]+4293915773&4294967295,R=V+(C<<15&4294967295|C>>>17),C=S+(V^(R|~k))+D[1]+2240044497&4294967295,S=R+(C<<21&4294967295|C>>>11),C=k+(R^(S|~V))+D[8]+1873313359&4294967295,k=S+(C<<6&4294967295|C>>>26),C=V+(S^(k|~R))+D[15]+4264355552&4294967295,V=k+(C<<10&4294967295|C>>>22),C=R+(k^(V|~S))+D[6]+2734768916&4294967295,R=V+(C<<15&4294967295|C>>>17),C=S+(V^(R|~k))+D[13]+1309151649&4294967295,S=R+(C<<21&4294967295|C>>>11),C=k+(R^(S|~V))+D[4]+4149444226&4294967295,k=S+(C<<6&4294967295|C>>>26),C=V+(S^(k|~R))+D[11]+3174756917&4294967295,V=k+(C<<10&4294967295|C>>>22),C=R+(k^(V|~S))+D[2]+718787259&4294967295,R=V+(C<<15&4294967295|C>>>17),C=S+(V^(R|~k))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+k&4294967295,A.g[1]=A.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+V&4294967295}s.prototype.v=function(A,k){k===void 0&&(k=A.length);const S=k-this.blockSize,D=this.C;let R=this.h,V=0;for(;V<k;){if(R==0)for(;V<=S;)o(this,A,V),V+=this.blockSize;if(typeof A=="string"){for(;V<k;)if(D[R++]=A.charCodeAt(V++),R==this.blockSize){o(this,D),R=0;break}}else for(;V<k;)if(D[R++]=A[V++],R==this.blockSize){o(this,D),R=0;break}}this.h=R,this.o+=k},s.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var k=1;k<A.length-8;++k)A[k]=0;k=this.o*8;for(var S=A.length-8;S<A.length;++S)A[S]=k&255,k/=256;for(this.v(A),A=Array(16),k=0,S=0;S<4;++S)for(let D=0;D<32;D+=8)A[k++]=this.g[S]>>>D&255;return A};function l(A,k){var S=f;return Object.prototype.hasOwnProperty.call(S,A)?S[A]:S[A]=k(A)}function d(A,k){this.h=k;const S=[];let D=!0;for(let R=A.length-1;R>=0;R--){const V=A[R]|0;D&&V==k||(S[R]=V,D=!1)}this.g=S}var f={};function m(A){return-128<=A&&A<128?l(A,function(k){return new d([k|0],k<0?-1:0)}):new d([A|0],A<0?-1:0)}function v(A){if(isNaN(A)||!isFinite(A))return E;if(A<0)return L(v(-A));const k=[];let S=1;for(let D=0;A>=S;D++)k[D]=A/S|0,S*=4294967296;return new d(k,0)}function w(A,k){if(A.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(A.charAt(0)=="-")return L(w(A.substring(1),k));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=v(Math.pow(k,8));let D=E;for(let V=0;V<A.length;V+=8){var R=Math.min(8,A.length-V);const C=parseInt(A.substring(V,V+R),k);R<8?(R=v(Math.pow(k,R)),D=D.j(R).add(v(C))):(D=D.j(S),D=D.add(v(C)))}return D}var E=m(0),I=m(1),P=m(16777216);n=d.prototype,n.m=function(){if(B(this))return-L(this).m();let A=0,k=1;for(let S=0;S<this.g.length;S++){const D=this.i(S);A+=(D>=0?D:4294967296+D)*k,k*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(W(this))return"0";if(B(this))return"-"+L(this).toString(A);const k=v(Math.pow(A,6));var S=this;let D="";for(;;){const R=ie(S,k).g;S=Q(S,R.j(k));let V=((S.g.length>0?S.g[0]:S.h)>>>0).toString(A);if(S=R,W(S))return V+D;for(;V.length<6;)V="0"+V;D=V+D}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function W(A){if(A.h!=0)return!1;for(let k=0;k<A.g.length;k++)if(A.g[k]!=0)return!1;return!0}function B(A){return A.h==-1}n.l=function(A){return A=Q(this,A),B(A)?-1:W(A)?0:1};function L(A){const k=A.g.length,S=[];for(let D=0;D<k;D++)S[D]=~A.g[D];return new d(S,~A.h).add(I)}n.abs=function(){return B(this)?L(this):this},n.add=function(A){const k=Math.max(this.g.length,A.g.length),S=[];let D=0;for(let R=0;R<=k;R++){let V=D+(this.i(R)&65535)+(A.i(R)&65535),C=(V>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);D=C>>>16,V&=65535,C&=65535,S[R]=C<<16|V}return new d(S,S[S.length-1]&-2147483648?-1:0)};function Q(A,k){return A.add(L(k))}n.j=function(A){if(W(this)||W(A))return E;if(B(this))return B(A)?L(this).j(L(A)):L(L(this).j(A));if(B(A))return L(this.j(L(A)));if(this.l(P)<0&&A.l(P)<0)return v(this.m()*A.m());const k=this.g.length+A.g.length,S=[];for(var D=0;D<2*k;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(let R=0;R<A.g.length;R++){const V=this.i(D)>>>16,C=this.i(D)&65535,qe=A.i(R)>>>16,dt=A.i(R)&65535;S[2*D+2*R]+=C*dt,X(S,2*D+2*R),S[2*D+2*R+1]+=V*dt,X(S,2*D+2*R+1),S[2*D+2*R+1]+=C*qe,X(S,2*D+2*R+1),S[2*D+2*R+2]+=V*qe,X(S,2*D+2*R+2)}for(A=0;A<k;A++)S[A]=S[2*A+1]<<16|S[2*A];for(A=k;A<2*k;A++)S[A]=0;return new d(S,0)};function X(A,k){for(;(A[k]&65535)!=A[k];)A[k+1]+=A[k]>>>16,A[k]&=65535,k++}function Y(A,k){this.g=A,this.h=k}function ie(A,k){if(W(k))throw Error("division by zero");if(W(A))return new Y(E,E);if(B(A))return k=ie(L(A),k),new Y(L(k.g),L(k.h));if(B(k))return k=ie(A,L(k)),new Y(L(k.g),k.h);if(A.g.length>30){if(B(A)||B(k))throw Error("slowDivide_ only works with positive integers.");for(var S=I,D=k;D.l(A)<=0;)S=be(S),D=be(D);var R=H(S,1),V=H(D,1);for(D=H(D,2),S=H(S,2);!W(D);){var C=V.add(D);C.l(A)<=0&&(R=R.add(S),V=C),D=H(D,1),S=H(S,1)}return k=Q(A,R.j(k)),new Y(R,k)}for(R=E;A.l(k)>=0;){for(S=Math.max(1,Math.floor(A.m()/k.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),V=v(S),C=V.j(k);B(C)||C.l(A)>0;)S-=D,V=v(S),C=V.j(k);W(V)&&(V=I),R=R.add(V),A=Q(A,C)}return new Y(R,A)}n.B=function(A){return ie(this,A).h},n.and=function(A){const k=Math.max(this.g.length,A.g.length),S=[];for(let D=0;D<k;D++)S[D]=this.i(D)&A.i(D);return new d(S,this.h&A.h)},n.or=function(A){const k=Math.max(this.g.length,A.g.length),S=[];for(let D=0;D<k;D++)S[D]=this.i(D)|A.i(D);return new d(S,this.h|A.h)},n.xor=function(A){const k=Math.max(this.g.length,A.g.length),S=[];for(let D=0;D<k;D++)S[D]=this.i(D)^A.i(D);return new d(S,this.h^A.h)};function be(A){const k=A.g.length+1,S=[];for(let D=0;D<k;D++)S[D]=A.i(D)<<1|A.i(D-1)>>>31;return new d(S,A.h)}function H(A,k){const S=k>>5;k%=32;const D=A.g.length-S,R=[];for(let V=0;V<D;V++)R[V]=k>0?A.i(V+S)>>>k|A.i(V+S+1)<<32-k:A.i(V+S);return new d(R,A.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,P_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=w,Ls=d}).apply(typeof G0<"u"?G0:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D_,nl,O_,hc,_f,j_,L_,M_;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var y=0;y<u.length;++y){var _=u[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,y){if(y)e:{var _=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in _))break e;_=_[U]}u=u[u.length-1],T=_[u],y=y(T),y!=T&&y!=null&&e(_,u,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(y){var _=[],T;for(T in y)Object.prototype.hasOwnProperty.call(y,T)&&_.push([T,y[T]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function f(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function m(u,y,_){return u.call.apply(u.bind,arguments)}function v(u,y,_){return v=m,v.apply(null,arguments)}function w(u,y){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function E(u,y){function _(){}_.prototype=y.prototype,u.Z=y.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return y.prototype[U].apply(T,re)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function P(u){const y=u.length;if(y>0){const _=Array(y);for(let T=0;T<y;T++)_[T]=u[T];return _}return[]}function W(u,y){for(let T=1;T<arguments.length;T++){const U=arguments[T];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const q=U.length||0;u.length=_+q;for(let re=0;re<q;re++)u[_+re]=U[re]}else u.push(U)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(u){d.setTimeout(()=>{throw u},0)}function Q(){var u=A;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class X{constructor(){this.h=this.g=null}add(y,_){const T=Y.get();T.set(y,_),this.h?this.h.next=T:this.g=T,this.h=T}}var Y=new B(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let be,H=!1,A=new X,k=()=>{const u=Promise.resolve(void 0);be=()=>{u.then(S)}};function S(){for(var u;u=Q();){try{u.h.call(u.g)}catch(_){L(_)}var y=Y;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}H=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function qe(u,y){R.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}E(qe,R),qe.prototype.init=function(u,y){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(_=="mouseover"?y=u.fromElement:_=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var dt="closure_listenable_"+(Math.random()*1e6|0),gt=0;function Qe(u,y,_,T,U){this.listener=u,this.proxy=null,this.src=y,this.type=_,this.capture=!!T,this.ha=U,this.key=++gt,this.da=this.fa=!1}function se(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ye(u,y,_){for(const T in u)y.call(_,u[T],T,u)}function ae(u,y){for(const _ in u)y.call(void 0,u[_],_,u)}function M(u){const y={};for(const _ in u)y[_]=u[_];return y}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(u,y){let _,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(_ in T)u[_]=T[_];for(let q=0;q<G.length;q++)_=G[q],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function Ee(u){this.src=u,this.g={},this.h=0}Ee.prototype.add=function(u,y,_,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const re=fe(u,y,T,U);return re>-1?(y=u[re],_||(y.fa=!1)):(y=new Qe(y,this.src,q,!!T,U),y.fa=_,u.push(y)),y};function De(u,y){const _=y.type;if(_ in u.g){var T=u.g[_],U=Array.prototype.indexOf.call(T,y,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(se(y),u.g[_].length==0&&(delete u.g[_],u.h--))}}function fe(u,y,_,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==y&&q.capture==!!_&&q.ha==T)return U}return-1}var Ce="closure_lm_"+(Math.random()*1e6|0),Ve={};function Ke(u,y,_,T,U){if(Array.isArray(y)){for(let q=0;q<y.length;q++)Ke(u,y[q],_,T,U);return null}return _=le(_),u&&u[dt]?u.J(y,_,f(T)?!!T.capture:!1,U):At(u,y,_,!1,T,U)}function At(u,y,_,T,U,q){if(!y)throw Error("Invalid event type");const re=f(U)?!!U.capture:!!U;let Re=ge(u);if(Re||(u[Ce]=Re=new Ee(u)),_=Re.add(y,_,T,re,q),_.proxy)return _;if(T=Yr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)V||(U=re),U===void 0&&(U=!1),u.addEventListener(y.toString(),T,U);else if(u.attachEvent)u.attachEvent(Xr(y.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yr(){function u(_){return y.call(u.src,u.listener,_)}const y=oe;return u}function Qs(u,y,_,T,U){if(Array.isArray(y))for(var q=0;q<y.length;q++)Qs(u,y[q],_,T,U);else T=f(T)?!!T.capture:!!T,_=le(_),u&&u[dt]?(u=u.i,q=String(y).toString(),q in u.g&&(y=u.g[q],_=fe(y,_,T,U),_>-1&&(se(y[_]),Array.prototype.splice.call(y,_,1),y.length==0&&(delete u.g[q],u.h--)))):u&&(u=ge(u))&&(y=u.g[y.toString()],u=-1,y&&(u=fe(y,_,T,U)),(_=u>-1?y[u]:null)&&$n(_))}function $n(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[dt])De(y.i,u);else{var _=u.type,T=u.proxy;y.removeEventListener?y.removeEventListener(_,T,u.capture):y.detachEvent?y.detachEvent(Xr(_),T):y.addListener&&y.removeListener&&y.removeListener(T),(_=ge(y))?(De(_,u),_.h==0&&(_.src=null,y[Ce]=null)):se(u)}}}function Xr(u){return u in Ve?Ve[u]:Ve[u]="on"+u}function oe(u,y){if(u.da)u=!0;else{y=new qe(y,this);const _=u.listener,T=u.ha||u.src;u.fa&&$n(u),u=_.call(T,y)}return u}function ge(u){return u=u[Ce],u instanceof Ee?u:null}var ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function le(u){return typeof u=="function"?u:(u[ke]||(u[ke]=function(y){return u.handleEvent(y)}),u[ke])}function Xe(){D.call(this),this.i=new Ee(this),this.M=this,this.G=null}E(Xe,D),Xe.prototype[dt]=!0,Xe.prototype.removeEventListener=function(u,y,_,T){Qs(this,u,y,_,T)};function rt(u,y){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=y.type||y,typeof y=="string")y=new R(y,u);else if(y instanceof R)y.target=y.target||u;else{var U=y;y=new R(T,u),Ae(y,U)}U=!0;let q,re;if(_)for(re=_.length-1;re>=0;re--)q=y.g=_[re],U=Yt(q,T,!0,y)&&U;if(q=y.g=u,U=Yt(q,T,!0,y)&&U,U=Yt(q,T,!1,y)&&U,_)for(re=0;re<_.length;re++)q=y.g=_[re],U=Yt(q,T,!1,y)&&U}Xe.prototype.N=function(){if(Xe.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const _=u.g[y];for(let T=0;T<_.length;T++)se(_[T]);delete u.g[y],u.h--}}this.G=null},Xe.prototype.J=function(u,y,_,T){return this.i.add(String(u),y,!1,_,T)},Xe.prototype.K=function(u,y,_,T){return this.i.add(String(u),y,!0,_,T)};function Yt(u,y,_,T){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let q=0;q<y.length;++q){const re=y[q];if(re&&!re.da&&re.capture==_){const Re=re.listener,ht=re.ha||re.src;re.fa&&De(u.i,re),U=Re.call(ht,T)!==!1&&U}}return U&&!T.defaultPrevented}function ia(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:d.setTimeout(u,y||0)}function oa(u){u.g=ia(()=>{u.g=null,u.i&&(u.i=!1,oa(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class Ll extends D{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jr(u){D.call(this),this.h=u,this.g={}}E(Jr,D);var aa=[];function Bi(u){ye(u.g,function(y,_){this.g.hasOwnProperty(_)&&$n(y)},u),u.g={}}Jr.prototype.N=function(){Jr.Z.N.call(this),Bi(this)},Jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zr=d.JSON.stringify,Ml=d.JSON.parse,Ys=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function es(){}function Vl(){}var ts={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zi(){R.call(this,"d")}E(zi,R);function la(){R.call(this,"c")}E(la,R);var bn={},$i=null;function ns(){return $i=$i||new Xe}bn.Ia="serverreachability";function Hi(u){R.call(this,bn.Ia,u)}E(Hi,R);function wr(u){const y=ns();rt(y,new Hi(y))}bn.STAT_EVENT="statevent";function xr(u,y){R.call(this,bn.STAT_EVENT,u),this.stat=y}E(xr,R);function ut(u){const y=ns();rt(y,new xr(y,u))}bn.Ja="timingevent";function ua(u,y){R.call(this,bn.Ja,u),this.size=y}E(ua,R);function rs(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},y)}function ss(){this.g=!0}ss.prototype.ua=function(){this.g=!1};function Fl(u,y,_,T,U,q){u.info(function(){if(u.g)if(q){var re="",Re=q.split("&");for(let Ge=0;Ge<Re.length;Ge++){var ht=Re[Ge].split("=");if(ht.length>1){const yt=ht[0];ht=ht[1];const dn=yt.split("_");re=dn.length>=2&&dn[1]=="type"?re+(yt+"="+ht+"&"):re+(yt+"=redacted&")}}}else re=null;else re=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+y+`
`+_+`
`+re})}function Ul(u,y,_,T,U,q,re){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+y+`
`+_+`
`+q+" "+re})}function Hn(u,y,_,T){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Xs(u,_)+(T?" "+T:"")})}function Bl(u,y){u.info(function(){return"TIMEOUT: "+y})}ss.prototype.info=function(){};function Xs(u,y){if(!u.g)return y;if(!y)return null;try{const q=JSON.parse(y);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<T.length;re++)T[re]=""}}}}return Zr(q)}catch{return y}}var is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},os={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zl;function Er(){}E(Er,es),Er.prototype.g=function(){return new XMLHttpRequest},zl=new Er;function qn(u){return encodeURIComponent(String(u))}function qi(u){var y=1;u=u.split(":");const _=[];for(;y>0&&u.length;)_.push(u.shift()),y--;return u.length&&_.push(u.join(":")),_}function gn(u,y,_,T){this.j=u,this.i=y,this.l=_,this.S=T||1,this.V=new Jr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $l}function $l(){this.i=null,this.g="",this.h=!1}var Hl={},ca={};function Sn(u,y,_){u.M=1,u.A=kr(yn(y)),u.u=_,u.R=!0,da(u,null)}function da(u,y){u.F=Date.now(),Js(u),u.B=yn(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),xa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new $l,u.g=eu(u.j,_?y:null,!u.u),u.P>0&&(u.O=new Ll(v(u.Y,u,u.g),u.P)),y=u.V,_=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(aa[0]=U.toString()),U=aa);for(let q=0;q<U.length;q++){const re=Ke(_,U[q],T||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),wr(),Fl(u.i,u.v,u.B,u.l,u.S,u.u)}gn.prototype.ba=function(u){u=u.target;const y=this.O;y&&Jn(u)==3?y.j():this.Y(u)},gn.prototype.Y=function(u){try{if(u==this.g)e:{const Re=Jn(this.g),ht=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Jl(this.g)))){this.K||Re!=4||ht==7||(ht==8||Ge<=0?wr(3):wr(2)),Wi(this);var y=this.g.ca();this.X=y;var _=ql(this);if(this.o=y==200,Ul(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var q=T;break t}}q=null}if(u=q)Hn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ze(this,u);else{this.o=!1,this.m=3,ut(12),Tr(this),Zs(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<_.length;)if(yt=Kl(this,_),yt==ca){Re==4&&(this.m=4,ut(14),u=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Hl){this.m=4,ut(15),Hn(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Hn(this.i,this.l,yt,null),Ze(this,yt);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||_.length!=0||this.h.h||(this.m=1,ut(16),u=!1),this.o=this.o&&u,!u)Hn(this.i,this.l,_,"[Invalid Chunked Response]"),Tr(this),Zs(this);else if(_.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),li(re),re.P=!0,ut(11))}}else Hn(this.i,this.l,_,null),Ze(this,_);Re==4&&Tr(this),this.o&&!this.K&&(Re==4?no(this.j,this):(this.o=!1,Js(this)))}else Ta(this.g),y==400&&_.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),Tr(this),Zs(this)}}}catch{}finally{}};function ql(u){if(!Wl(u))return u.g.la();const y=Jl(u.g);if(y==="")return"";let _="";const T=y.length,U=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tr(u),Zs(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,_+=u.h.i.decode(y[q],{stream:!(U&&q==T-1)});return y.length=0,u.h.g+=_,u.C=0,u.h.g}function Wl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Kl(u,y){var _=u.C,T=y.indexOf(`
`,_);return T==-1?ca:(_=Number(y.substring(_,T)),isNaN(_)?Hl:(T+=1,T+_>y.length?ca:(y=y.slice(T,T+_),u.C=T+_,y)))}gn.prototype.cancel=function(){this.K=!0,Tr(this)};function Js(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=rs(v(u.aa,u),y)}function Wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Bl(this.i,this.B),this.M!=2&&(wr(),ut(17)),Tr(this),this.m=2,Zs(this)):ha(this,this.T-u)};function Zs(u){u.j.I==0||u.K||no(u.j,u)}function Tr(u){Wi(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,Bi(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function Ze(u,y){try{var _=u.j;if(_.I!=0&&(_.g==u||pa(_.h,u))){if(!u.L&&pa(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)to(_),un(_);else break e;tr(_),ut(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=rs(v(_.Va,_),6e3));ei(_.h)<=1&&_.ta&&(_.ta=void 0)}else cn(_,11)}else if((u.L||_.g==u)&&to(_),!C(y))for(U=_.Ba.g.parse(y),y=0;y<U.length;y++){let Ge=U[y];const yt=Ge[0];if(!(yt<=_.K))if(_.K=yt,Ge=Ge[1],_.I==2)if(Ge[0]=="c"){_.M=Ge[1],_.ba=Ge[2];const dn=Ge[3];dn!=null&&(_.ka=dn,_.j.info("VER="+_.ka));const Ar=Ge[4];Ar!=null&&(_.za=Ar,_.j.info("SVER="+_.za));const nr=Ge[5];nr!=null&&typeof nr=="number"&&nr>0&&(T=1.5*nr,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const rr=u.g;if(rr){const io=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var q=T.h;q.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Gi(q,q.h),q.h=null))}if(T.G){const ba=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,He(T.J,T.G,ba))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var re=u;if(T.na=Ia(T,T.L?T.ba:null,T.W),re.L){ti(T.h,re);var Re=re,ht=T.O;ht&&(Re.H=ht),Re.D&&(Wi(Re),Js(Re)),T.g=re}else Lt(T);_.i.length>0&&Cr(_)}else Ge[0]!="stop"&&Ge[0]!="close"||cn(_,7);else _.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?cn(_,7):Zi(_):Ge[0]!="noop"&&_.l&&_.l.qa(Ge),_.A=0)}}wr(4)}catch{}}var cd=class{constructor(u,y){this.g=u,this.map=y}};function Ki(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ei(u){return u.h?1:u.g?u.g.size:0}function pa(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function Gi(u,y){u.g?u.g.add(y):u.h=y}function ti(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}Ki.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function on(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const _ of u.g.values())y=y.concat(_.G);return y}return P(u.i)}var Gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function an(u,y){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let U,q=null;T>=0?(U=u[_].substring(0,T),q=u[_].substring(T+1)):U=u[_],y(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Wn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Wn?(this.l=u.l,ni(this,u.j),this.o=u.o,this.g=u.g,Kn(this,u.u),this.h=u.h,as(this,Ea(u.i)),this.m=u.m):u&&(y=String(u).match(Gl))?(this.l=!1,ni(this,y[1]||"",!0),this.o=ri(y[2]||""),this.g=ri(y[3]||"",!0),Kn(this,y[4]),this.h=ri(y[5]||"",!0),as(this,y[6]||"",!0),this.m=ri(y[7]||"")):(this.l=!1,this.i=new Fe(null,this.l))}Wn.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(si(y,ga,!0),":");var _=this.g;return(_||y=="file")&&(u.push("//"),(y=this.o)&&u.push(si(y,ga,!0),"@"),u.push(qn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(si(_,_.charAt(0)=="/"?ii:ya,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",si(_,va)),u.join("")},Wn.prototype.resolve=function(u){const y=yn(this);let _=!!u.j;_?ni(y,u.j):_=!!u.o,_?y.o=u.o:_=!!u.g,_?y.g=u.g:_=u.u!=null;var T=u.h;if(_)Kn(y,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=y.h.lastIndexOf("/");U!=-1&&(T=y.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let re=0;re<U.length;){const Re=U[re++];Re=="."?T&&re==U.length&&q.push(""):Re==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&re==U.length&&q.push("")):(q.push(Re),T=!0)}T=q.join("/")}else T=U}return _?y.h=T:_=u.i.toString()!=="",_?as(y,Ea(u.i)):_=!!u.m,_&&(y.m=u.m),y};function yn(u){return new Wn(u)}function ni(u,y,_){u.j=_?ri(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Kn(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function as(u,y,_){y instanceof Fe?(u.i=y,Yi(u.i,u.l)):(_||(y=si(y,dd)),u.i=new Fe(y,u.l))}function He(u,y,_){u.i.set(y,_)}function kr(u){return He(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ri(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function si(u,y,_){return typeof u=="string"?(u=encodeURI(u).replace(y,ma),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ma(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,ya=/[#\?:]/g,ii=/[#\?]/g,dd=/[#\?@]/g,va=/#/g;function Fe(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function Gn(u){u.g||(u.g=new Map,u.h=0,u.i&&an(u.i,function(y,_){u.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=Fe.prototype,n.add=function(u,y){Gn(this),this.i=null,u=Qn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(y),this.h+=1,this};function _a(u,y){Gn(u),y=Qn(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function Qi(u,y){return Gn(u),y=Qn(u,y),u.g.has(y)}n.forEach=function(u,y){Gn(this),this.g.forEach(function(_,T){_.forEach(function(U){u.call(y,U,T,this)},this)},this)};function wa(u,y){Gn(u);let _=[];if(typeof y=="string")Qi(u,y)&&(_=_.concat(u.g.get(Qn(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)_=_.concat(u[y]);return _}n.set=function(u,y){return Gn(this),this.i=null,u=Qn(this,u),Qi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},n.get=function(u,y){return u?(u=wa(this,u),u.length>0?String(u[0]):y):y};function xa(u,y,_){_a(u,y),_.length>0&&(u.i=null,u.g.set(Qn(u,y),P(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let T=0;T<y.length;T++){var _=y[T];const U=qn(_);_=wa(this,_);for(let q=0;q<_.length;q++){let re=U;_[q]!==""&&(re+="="+qn(_[q])),u.push(re)}}return this.i=u.join("&")};function Ea(u){const y=new Fe;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function Qn(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function Yi(u,y){y&&!u.j&&(Gn(u),u.i=null,u.g.forEach(function(_,T){const U=T.toLowerCase();T!=U&&(_a(this,T),xa(this,U,_))},u)),u.j=y}function Yn(u,y){const _=new ss;if(d.Image){const T=new Image;T.onload=w(Nt,_,"TestLoadImage: loaded",!0,y,T),T.onerror=w(Nt,_,"TestLoadImage: error",!1,y,T),T.onabort=w(Nt,_,"TestLoadImage: abort",!1,y,T),T.ontimeout=w(Nt,_,"TestLoadImage: timeout",!1,y,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else y(!1)}function Xn(u,y){const _=new ss,T=new AbortController,U=setTimeout(()=>{T.abort(),Nt(_,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Nt(_,"TestPingServer: ok",!0,y):Nt(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Nt(_,"TestPingServer: error",!1,y)})}function Nt(u,y,_,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(_)}catch{}}function oi(){this.g=new Ys}function Ir(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Ir,es),Ir.prototype.g=function(){return new ln(this.i,this.h)};function ln(u,y){Xe.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ln,Xe),n=ln.prototype,n.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Cn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||d).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ls(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ql(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ql(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?ls(this):Cn(this),this.readyState==3&&Ql(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,ls(this))},n.Na=function(u){this.g&&(this.response=u,ls(this))},n.ga=function(){this.g&&ls(this)};function ls(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Cn(u)}n.setRequestHeader=function(u,y){this.A.append(u,y)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=y.next();return u.join(`\r
`)};function Cn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yl(u){let y="";return ye(u,function(_,T){y+=T,y+=":",y+=_,y+=`\r
`}),y}function Xi(u,y,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=Yl(_),typeof u=="string"?_!=null&&qn(_):He(u,y,_))}function Ye(u){Xe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Ye,Xe);var Xl=/^https?$/i,hd=["POST","PUT"];n=Ye.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,y,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zl.g(),this.g.onreadystatechange=I(v(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch(q){us(this,q);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)_.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())_.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(hd,y,void 0)>=0)||T||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,re]of _)this.g.setRequestHeader(q,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){us(this,q)}};function us(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,cs(u),Sr(u)}function cs(u){u.A||(u.A=!0,rt(u,"complete"),rt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,rt(this,"complete"),rt(this,"abort"),Sr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),Ye.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},n.Xa=function(){br(this)};function br(u){if(u.h&&typeof l<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(rt(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var T;if(T=q===0){let re=String(u.D).match(Gl)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),T=!Xl.test(re?re.toLowerCase():"")}_=T}if(_)rt(u,"complete"),rt(u,"success");else{u.o=6;try{var U=Jn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",cs(u)}}finally{Sr(u)}}}}function Sr(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,y||rt(u,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}n.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),Ml(y)}};function Jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(u){const y={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var _=qi(u[T]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=y[U]||[];y[U]=q,q.push(_)}ae(y,function(T){return T.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(u,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||y}function Ji(u){this.za=0,this.i=[],this.j=new ss,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zn("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zn("baseRetryDelayMs",5e3,u),this.Za=Zn("retryDelaySeedMs",1e4,u),this.Ta=Zn("forwardChannelMaxRetries",2,u),this.va=Zn("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ki(u&&u.concurrentRequestLimit),this.Ba=new oi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ji.prototype,n.ka=8,n.I=1,n.connect=function(u,y,_,T){ut(0),this.W=u,this.H=y||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Ia(this,null,this.W),Cr(this)};function Zi(u){if(eo(u),u.I==3){var y=u.V++,_=yn(u.J);if(He(_,"SID",u.M),He(_,"RID",y),He(_,"TYPE","terminate"),er(u,_),y=new gn(u,u.j,y),y.M=2,y.A=kr(yn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.A,_=!0),_||(y.g=eu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Js(y)}ui(u)}function un(u){u.g&&(li(u),u.g.cancel(),u.g=null)}function eo(u){un(u),u.v&&(d.clearTimeout(u.v),u.v=null),to(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Cr(u){if(!fa(u.h)&&!u.m){u.m=!0;var y=u.Ea;be||k(),H||(be(),H=!0),A.add(y,u),u.D=0}}function Zl(u,y){return ei(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=rs(v(u.Ea,u,y),ro(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new gn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),Ae(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,y>4096){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ka(this,U,y),_=yn(this.J),He(_,"RID",u),He(_,"CVER",22),this.G&&He(_,"X-HTTP-Session-Id",this.G),er(this,_),q&&(this.R?y="headers="+qn(Yl(q))+"&"+y:this.u&&Xi(_,this.u,q)),Gi(this.h,U),this.Ra&&He(_,"TYPE","init"),this.S?(He(_,"$req",y),He(_,"SID","null"),U.U=!0,Sn(U,_,null)):Sn(U,_,y),this.I=2}}else this.I==3&&(u?ai(this,u):this.i.length==0||fa(this.h)||ai(this))};function ai(u,y){var _;y?_=y.l:_=u.V++;const T=yn(u.J);He(T,"SID",u.M),He(T,"RID",_),He(T,"AID",u.K),er(u,T),u.u&&u.o&&Xi(T,u.u,u.o),_=new gn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),y&&(u.i=y.G.concat(u.i)),y=ka(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Gi(u.h,_),Sn(_,T,y)}function er(u,y){u.H&&ye(u.H,function(_,T){He(y,T,_)}),u.l&&ye({},function(_,T){He(y,T,_)})}function ka(u,y,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Re=-1;for(;;){const ht=["count="+_];Re==-1?_>0?(Re=U[0].g,ht.push("ofs="+Re)):Re=0:ht.push("ofs="+Re);let Ge=!0;for(let yt=0;yt<_;yt++){var q=U[yt].g;const dn=U[yt].map;if(q-=Re,q<0)Re=Math.max(0,U[yt].g-100),Ge=!1;else try{q="req"+q+"_"||"";try{var re=dn instanceof Map?dn:Object.entries(dn);for(const[Ar,nr]of re){let rr=nr;f(nr)&&(rr=Zr(nr)),ht.push(q+Ar+"="+encodeURIComponent(rr))}}catch(Ar){throw ht.push(q+"type="+encodeURIComponent("_badmap")),Ar}}catch{T&&T(dn)}}if(Ge){re=ht.join("&");break e}}re=void 0}return u=u.i.splice(0,_),y.G=u,re}function Lt(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;be||k(),H||(be(),H=!0),A.add(y,u),u.A=0}}function tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=rs(v(u.Da,u),ro(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,ds(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=rs(v(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),un(this),ds(this))};function li(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ds(u){u.g=new gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=yn(u.na);He(y,"RID","rpc"),He(y,"SID",u.M),He(y,"AID",u.K),He(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&He(y,"TO",u.ia),He(y,"TYPE","xmlhttp"),er(u,y),u.u&&u.o&&Xi(y,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=kr(yn(y)),_.u=null,_.R=!0,da(_,u)}n.Va=function(){this.C!=null&&(this.C=null,un(this),tr(this),ut(19))};function to(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function no(u,y){var _=null;if(u.g==y){to(u),li(u),u.g=null;var T=2}else if(pa(u.h,y))_=y.G,ti(u.h,y),T=1;else return;if(u.I!=0){if(y.o)if(T==1){_=y.u?y.u.length:0,y=Date.now()-y.F;var U=u.D;T=ns(),rt(T,new ua(T,_)),Cr(u)}else Lt(u);else if(U=y.m,U==3||U==0&&y.X>0||!(T==1&&Zl(u,y)||T==2&&tr(u)))switch(_&&_.length>0&&(y=u.h,y.i=y.i.concat(_)),U){case 1:cn(u,5);break;case 4:cn(u,10);break;case 3:cn(u,6);break;default:cn(u,2)}}}function ro(u,y){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*y}function cn(u,y){if(u.j.info("Error code "+y),y==2){var _=v(u.bb,u),T=u.Ua;const U=!T;T=new Wn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ni(T,"https"),kr(T),U?Yn(T.toString(),_):Xn(T.toString(),_)}else ut(2);u.I=0,u.l&&u.l.pa(y),ui(u),eo(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function ui(u){if(u.I=0,u.ja=[],u.l){const y=on(u.h);(y.length!=0||u.i.length!=0)&&(W(u.ja,y),W(u.ja,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.oa()}}function Ia(u,y,_){var T=_ instanceof Wn?yn(_):new Wn(_);if(T.g!="")y&&(T.g=y+"."+T.g),Kn(T,T.u);else{var U=d.location;T=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const q=new Wn(null);T&&ni(q,T),y&&(q.g=y),U&&Kn(q,U),_&&(q.h=_),T=q}return _=u.G,y=u.wa,_&&y&&He(T,_,y),He(T,"VER",u.ka),er(u,T),T}function eu(u,y,_){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new Ye(new Ir({ab:_})):new Ye(u.ma),y.Fa(u.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}n=tu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function so(){}so.prototype.g=function(u,y){return new Rt(u,y)};function Rt(u,y){Xe.call(this),this.g=new Ji(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!C(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new hs(this)}E(Rt,Xe),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){Zi(this.g)},Rt.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Zr(u),u=_);y.i.push(new cd(y.Ya++,u)),y.I==3&&Cr(y)},Rt.prototype.N=function(){this.g.l=null,delete this.j,Zi(this.g),delete this.g,Rt.Z.N.call(this)};function nu(u){zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const _ in y){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}E(nu,zi);function ru(){la.call(this),this.status=1}E(ru,la);function hs(u){this.g=u}E(hs,tu),hs.prototype.ra=function(){rt(this.g,"a")},hs.prototype.qa=function(u){rt(this.g,new nu(u))},hs.prototype.pa=function(u){rt(this.g,new ru)},hs.prototype.oa=function(){rt(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,M_=function(){return new so},L_=function(){return ns()},j_=bn,_f={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,hc=is,os.COMPLETE="complete",O_=os,Vl.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",Xe.prototype.listen=Xe.prototype.J,nl=Vl,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,D_=Ye}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const Q0="@firebase/firestore",Y0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new $c("@firebase/firestore");function So(){return Di.logLevel}function ce(n,...e){if(Di.logLevel<=je.DEBUG){const t=e.map(up);Di.debug(`Firestore (${Zo}): ${n}`,...t)}}function Gr(n,...e){if(Di.logLevel<=je.ERROR){const t=e.map(up);Di.error(`Firestore (${Zo}): ${n}`,...t)}}function Uo(n,...e){if(Di.logLevel<=je.WARN){const t=e.map(up);Di.warn(`Firestore (${Zo}): ${n}`,...t)}}function up(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,V_(n,s,t)}function V_(n,e,t){let s=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Gr(s),new Error(s)}function We(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||V_(e,o,s)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class aA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lA{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ii,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},f=m=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ii)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new F_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class uA{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cA{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new uA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class X0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const s=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new X0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new X0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hA(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Le(n,e){return n<e?-1:n>e?1:0}function wf(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const o=n.charAt(s),l=e.charAt(s);if(o!==l)return Jh(o)===Jh(l)?Le(o,l):Jh(o)?1:-1}return Le(n.length,e.length)}const fA=55296,pA=57343;function Jh(n){const e=n.charCodeAt(0);return e>=fA&&e<=pA}function Bo(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="__name__";class ur{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ie(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ur.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ur?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=ur.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Le(e.length,t.length)}static compareSegments(e,t){const s=ur.isNumericId(e),o=ur.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?ur.extractNumericId(e).compare(ur.extractNumericId(t)):wf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class nt extends ur{construct(e,t,s){return new nt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new nt(t)}static emptyPath(){return new nt([])}}const mA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends ur{construct(e,t,s){return new Ht(e,t,s)}static isValidIdentifier(e){return mA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0}static keyField(){return new Ht([J0])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ve(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ve(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ve(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else f==="`"?(d=!d,o++):f!=="."||d?(s+=f,o++):(l(),o++)}if(l(),d)throw new ve(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(t)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(nt.fromString(e))}static fromName(e){return new _e(nt.fromString(e).popFirst(5))}static empty(){return new _e(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(n,e,t){if(!t)throw new ve(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gA(n,e,t,s){if(e===!0&&s===!0)throw new ve(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z0(n){if(!_e.isDocumentKey(n))throw new ve(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ey(n){if(_e.isDocumentKey(n))throw new ve(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function vA(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function ll(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vA(n);throw new ve(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Pl(n,e){if(!yA(n))throw new ve(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const d=n[s];if(o&&typeof d!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&d!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ve(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=-62135596800,ny=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*ny);return new mt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ty)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ny}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pl(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:wt("string",mt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new mt(0,0))}static max(){return new Ne(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function _A(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new mt(t+1,0):new mt(t,s));return new Bs(o,_e.empty(),e)}function wA(n){return new Bs(n.readTime,n.key,wl)}class Bs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Bs(Ne.min(),_e.empty(),wl)}static max(){return new Bs(Ne.max(),_e.empty(),wl)}}function xA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==EA)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):K.reject(t)}static resolve(e){return new K(((t,s)=>{t(e)}))}static reject(e){return new K(((t,s)=>{s(e)}))}static waitFor(e){return new K(((t,s)=>{let o=0,l=0,d=!1;e.forEach((f=>{++o,f.next((()=>{++l,d&&l===o&&t()}),(m=>s(m)))})),d=!0,l===o&&t()}))}static or(e){let t=K.resolve(!1);for(const s of e)t=t.next((o=>o?K.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new K(((s,o)=>{const l=e.length,d=new Array(l);let f=0;for(let m=0;m<l;m++){const v=m;t(e[v]).next((w=>{d[v]=w,++f,f===l&&s(d)}),(w=>o(w)))}}))}static doWhile(e,t){return new K(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function kA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=-1;function Xc(n){return n==null}function xf(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="";function IA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ry(e)),e=bA(n.get(t),e);return ry(e)}function bA(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case B_:t+="";break;default:t+=l}}return t}function ry(n){return n+B_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function na(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Ot(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new iy(this.data.getIterator())}getIteratorFrom(e){return new iy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class iy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Br([])}unionWith(e){let t=new kt(Ht.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new z_("Invalid base64 string: "+l):l}})(e);return new jt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l})(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const CA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=CA.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $s(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="server_timestamp",H_="__type__",q_="__previous_value__",W_="__local_write_time__";function hp(n){return(n?.mapValue?.fields||{})[H_]?.stringValue===$_}function Jc(n){const e=n.mapValue.fields[q_];return hp(e)?Jc(e):e}function xl(n){const e=zs(n.mapValue.fields[W_].timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,s,o,l,d,f,m,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v,this.isUsingEmulator=w}}const Rc="(default)";class El{constructor(e,t){this.projectId=e,this.database=t||Rc}static empty(){return new El("","")}get isDefaultDatabase(){return this.database===Rc}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="__type__",RA="__max__",nc={mapValue:{}},PA="__vector__",Ef="value";function Hs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hp(n)?4:OA(n)?9007199254740991:DA(n)?10:11:Ie(28295,{value:n})}function yr(n,e){if(n===e)return!0;const t=Hs(n);if(t!==Hs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return xl(n).isEqual(xl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=zs(o.timestampValue),f=zs(l.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return $s(o.bytesValue).isEqual($s(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return pt(o.geoPointValue.latitude)===pt(l.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return pt(o.integerValue)===pt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=pt(o.doubleValue),f=pt(l.doubleValue);return d===f?xf(d)===xf(f):isNaN(d)&&isNaN(f)}return!1})(n,e);case 9:return Bo(n.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return(function(o,l){const d=o.mapValue.fields||{},f=l.mapValue.fields||{};if(sy(d)!==sy(f))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(f[m]===void 0||!yr(d[m],f[m])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function Tl(n,e){return(n.values||[]).find((t=>yr(t,e)))!==void 0}function zo(n,e){if(n===e)return 0;const t=Hs(n),s=Hs(e);if(t!==s)return Le(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(l,d){const f=pt(l.integerValue||l.doubleValue),m=pt(d.integerValue||d.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,e);case 3:return oy(n.timestampValue,e.timestampValue);case 4:return oy(xl(n),xl(e));case 5:return wf(n.stringValue,e.stringValue);case 6:return(function(l,d){const f=$s(l),m=$s(d);return f.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,d){const f=l.split("/"),m=d.split("/");for(let v=0;v<f.length&&v<m.length;v++){const w=Le(f[v],m[v]);if(w!==0)return w}return Le(f.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,d){const f=Le(pt(l.latitude),pt(d.latitude));return f!==0?f:Le(pt(l.longitude),pt(d.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ay(n.arrayValue,e.arrayValue);case 10:return(function(l,d){const f=l.fields||{},m=d.fields||{},v=f[Ef]?.arrayValue,w=m[Ef]?.arrayValue,E=Le(v?.values?.length||0,w?.values?.length||0);return E!==0?E:ay(v,w)})(n.mapValue,e.mapValue);case 11:return(function(l,d){if(l===nc.mapValue&&d===nc.mapValue)return 0;if(l===nc.mapValue)return 1;if(d===nc.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),v=d.fields||{},w=Object.keys(v);m.sort(),w.sort();for(let E=0;E<m.length&&E<w.length;++E){const I=wf(m[E],w[E]);if(I!==0)return I;const P=zo(f[m[E]],v[w[E]]);if(P!==0)return P}return Le(m.length,w.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function oy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=zs(n),s=zs(e),o=Le(t.seconds,s.seconds);return o!==0?o:Le(t.nanos,s.nanos)}function ay(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=zo(t[o],s[o]);if(l)return l}return Le(t.length,s.length)}function $o(n){return Tf(n)}function Tf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=zs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return $s(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Tf(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of s)l?l=!1:o+=",",o+=`${d}:${Tf(t.fields[d])}`;return o+"}"})(n.mapValue):Ie(61005,{value:n})}function fc(n){switch(Hs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jc(n);return e?16+fc(e):16;case 5:return 2*n.stringValue.length;case 6:return $s(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+fc(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return na(s.fields,((l,d)=>{o+=l.length+fc(d)})),o})(n.mapValue);default:throw Ie(13486,{value:n})}}function kf(n){return!!n&&"integerValue"in n}function fp(n){return!!n&&"arrayValue"in n}function ly(n){return!!n&&"nullValue"in n}function uy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pc(n){return!!n&&"mapValue"in n}function DA(n){return(n?.mapValue?.fields||{})[NA]?.stringValue===PA}function ul(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return na(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=ul(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ul(n.arrayValue.values[t]);return e}return{...n}}function OA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ul(t)}setAll(e){let t=Ht.emptyPath(),s={},o=[];e.forEach(((d,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,s,o),s={},o=[],t=f.popLast()}d?s[f.lastSegment()]=ul(d):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){na(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new Mn(ul(this.value))}}function K_(n){const e=[];return na(n.fields,((t,s)=>{const o=new Ht([t]);if(pc(s)){const l=K_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)})),new Br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,s,o,l,d,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=d,this.documentState=f}static newInvalidDocument(e){return new $t(e,0,Ne.min(),Ne.min(),Ne.min(),Mn.empty(),0)}static newFoundDocument(e,t,s,o){return new $t(e,1,t,Ne.min(),s,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Ne.min(),Ne.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Ne.min(),Ne.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.position=e,this.inclusive=t}}function cy(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(d.referenceValue),t.key):s=zo(d,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function dy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t="asc"){this.field=e,this.dir=t}}function jA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{}class Tt extends G_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new MA(e,t,s):t==="array-contains"?new UA(e,s):t==="in"?new BA(e,s):t==="not-in"?new zA(e,s):t==="array-contains-any"?new $A(e,s):new Tt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new VA(e,s):new FA(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zo(t,this.value)):t!==null&&Hs(this.value)===Hs(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends G_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vr(e,t)}matches(e){return Q_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q_(n){return n.op==="and"}function Y_(n){return LA(n)&&Q_(n)}function LA(n){for(const e of n.filters)if(e instanceof vr)return!1;return!0}function If(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(Y_(n))return n.filters.map((e=>If(e))).join(",");{const e=n.filters.map((t=>If(t))).join(",");return`${n.op}(${e})`}}function X_(n,e){return n instanceof Tt?(function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&yr(s.value,o.value)})(n,e):n instanceof vr?(function(s,o){return o instanceof vr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,d,f)=>l&&X_(d,o.filters[f])),!0):!1})(n,e):void Ie(19439)}function J_(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`})(n):n instanceof vr?(function(t){return t.op.toString()+" {"+t.getFilters().map(J_).join(" ,")+"}"})(n):"Filter"}class MA extends Tt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class VA extends Tt{constructor(e,t){super(e,"in",t),this.keys=Z_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class FA extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=Z_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Z_(n,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class UA extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fp(t)&&Tl(t.arrayValue,this.value)}}class BA extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tl(this.value.arrayValue,t)}}class zA extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tl(this.value.arrayValue,t)}}class $A extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Tl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t=null,s=[],o=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=d,this.endAt=f,this.Te=null}}function hy(n,e=null,t=[],s=[],o=null,l=null,d=null){return new HA(n,e,t,s,o,l,d)}function pp(n){const e=Pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>If(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>$o(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>$o(s))).join(",")),e.Te=t}return e.Te}function mp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!jA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!X_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dy(n.startAt,e.startAt)&&dy(n.endAt,e.endAt)}function bf(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t=null,s=[],o=[],l=null,d="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qA(n,e,t,s,o,l,d,f){return new Zc(n,e,t,s,o,l,d,f)}function gp(n){return new Zc(n)}function fy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WA(n){return n.collectionGroup!==null}function cl(n){const e=Pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new kt(Ht.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((v=>{v.isInequality()&&(f=f.add(v.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Dc(l,s))})),t.has(Ht.keyField().canonicalString())||e.Ie.push(new Dc(Ht.keyField(),s))}return e.Ie}function pr(n){const e=Pe(n);return e.Ee||(e.Ee=KA(e,cl(n))),e.Ee}function KA(n,e){if(n.limitType==="F")return hy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Dc(o.field,l)}));const t=n.endAt?new Pc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Pc(n.startAt.position,n.startAt.inclusive):null;return hy(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Sf(n,e,t){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ed(n,e){return mp(pr(n),pr(e))&&n.limitType===e.limitType}function ew(n){return`${pp(pr(n))}|lt:${n.limitType}`}function Co(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>J_(o))).join(", ")}]`),Xc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>$o(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>$o(o))).join(",")),`Target(${s})`})(pr(n))}; limitType=${n.limitType})`}function td(n,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,o){for(const l of cl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(d,f,m){const v=cy(d,f,m);return d.inclusive?v<=0:v<0})(s.startAt,cl(s),o)||s.endAt&&!(function(d,f,m){const v=cy(d,f,m);return d.inclusive?v>=0:v>0})(s.endAt,cl(s),o))})(n,e)}function GA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tw(n){return(e,t)=>{let s=!1;for(const o of cl(n)){const l=QA(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function QA(n,e,t){const s=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,d,f){const m=d.data.field(l),v=f.data.field(l);return m!==null&&v!==null?zo(m,v):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return SA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new lt(_e.comparator);function Qr(){return YA}const nw=new lt(_e.comparator);function rl(...n){let e=nw;for(const t of n)e=e.insert(t.key,t);return e}function rw(n){let e=nw;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ki(){return dl()}function sw(){return dl()}function dl(){return new Fi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const XA=new lt(_e.comparator),JA=new kt(_e.comparator);function Me(...n){let e=JA;for(const t of n)e=e.add(t);return e}const ZA=new kt(Le);function eN(){return ZA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(e)?"-0":e}}function nN(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function rN(n,e,t){return n instanceof Oc?(function(o,l){const d={fields:{[H_]:{stringValue:$_},[W_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&hp(l)&&(l=Jc(l)),l&&(d.fields[q_]=l),{mapValue:d}})(t,e):n instanceof kl?ow(n,e):n instanceof Il?aw(n,e):(function(o,l){const d=iw(o,l),f=py(d)+py(o.Ae);return kf(d)&&kf(o.Ae)?nN(f):tN(o.serializer,f)})(n,e)}function sN(n,e,t){return n instanceof kl?ow(n,e):n instanceof Il?aw(n,e):t}function iw(n,e){return n instanceof jc?(function(s){return kf(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Oc extends nd{}class kl extends nd{constructor(e){super(),this.elements=e}}function ow(n,e){const t=lw(e);for(const s of n.elements)t.some((o=>yr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Il extends nd{constructor(e){super(),this.elements=e}}function aw(n,e){let t=lw(e);for(const s of n.elements)t=t.filter((o=>!yr(o,s)));return{arrayValue:{values:t}}}class jc extends nd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function py(n){return pt(n.integerValue||n.doubleValue)}function lw(n){return fp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function iN(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof kl&&o instanceof kl||s instanceof Il&&o instanceof Il?Bo(s.elements,o.elements,yr):s instanceof jc&&o instanceof jc?yr(s.Ae,o.Ae):s instanceof Oc&&o instanceof Oc})(n.transform,e.transform)}class oN{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class rd{}function uw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yp(n.key,Hr.none()):new sd(n.key,n.data,Hr.none());{const t=n.data,s=Mn.empty();let o=new kt(Ht.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?s.delete(l):s.set(l,d),o=o.add(l)}return new ra(n.key,s,new Br(o.toArray()),Hr.none())}}function aN(n,e,t){n instanceof sd?(function(o,l,d){const f=o.value.clone(),m=gy(o.fieldTransforms,l,d.transformResults);f.setAll(m),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()})(n,e,t):n instanceof ra?(function(o,l,d){if(!mc(o.precondition,l))return void l.convertToUnknownDocument(d.version);const f=gy(o.fieldTransforms,l,d.transformResults),m=l.data;m.setAll(cw(o)),m.setAll(f),l.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(n,e,t):(function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function hl(n,e,t,s){return n instanceof sd?(function(l,d,f,m){if(!mc(l.precondition,d))return f;const v=l.value.clone(),w=yy(l.fieldTransforms,m,d);return v.setAll(w),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof ra?(function(l,d,f,m){if(!mc(l.precondition,d))return f;const v=yy(l.fieldTransforms,m,d),w=d.data;return w.setAll(cw(l)),w.setAll(v),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,s):(function(l,d,f){return mc(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f})(n,e,t)}function lN(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=iw(s.transform,o||null);l!=null&&(t===null&&(t=Mn.empty()),t.set(s.field,l))}return t||null}function my(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bo(s,o,((l,d)=>iN(l,d)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sd extends rd{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends rd{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function gy(n,e,t){const s=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,f=e.data.field(l.field);s.set(l.field,sN(d,f,t[o]))}return s}function yy(n,e,t){const s=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);s.set(o.field,rN(l,d,e))}return s}class yp extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uN extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&aN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=hl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=hl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=sw();return this.mutations.forEach((o=>{const l=e.get(o.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=t.has(o.key)?null:f;const m=uw(d,f);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((t,s)=>my(t,s)))&&Bo(this.baseMutations,e.baseMutations,((t,s)=>my(t,s)))}}class vp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return XA})();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,s[d].version);return new vp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Be;function fN(n){switch(n){case ee.OK:return Ie(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function dw(n){if(n===void 0)return Gr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case _t.OK:return ee.OK;case _t.CANCELLED:return ee.CANCELLED;case _t.UNKNOWN:return ee.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ee.INTERNAL;case _t.UNAVAILABLE:return ee.UNAVAILABLE;case _t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case _t.NOT_FOUND:return ee.NOT_FOUND;case _t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case _t.ABORTED:return ee.ABORTED;case _t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case _t.DATA_LOSS:return ee.DATA_LOSS;default:return Ie(39323,{code:n})}}(Be=_t||(_t={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Ls([4294967295,4294967295],0);function vy(n){const e=pN().encode(n),t=new P_;return t.update(e),new Uint8Array(t.digest())}function _y(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ls([t,s],0),new Ls([o,l],0)]}class _p{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new sl(`Invalid padding: ${t}`);if(s<0)throw new sl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new sl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new sl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ls.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Ls.fromNumber(s)));return o.compare(mN)===1&&(o=new Ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=vy(e),[s,o]=_y(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(s,o,l);if(!this.we(d))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new _p(l,o,t);return s.forEach((f=>d.insert(f))),d}insert(e){if(this.ge===0)return;const t=vy(e),[s,o]=_y(t);for(let l=0;l<this.hashCount;l++){const d=this.ye(s,o,l);this.Se(d)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new id(Ne.min(),o,new lt(Le),Qr(),Me())}}class Dl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Dl(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class hw{constructor(e,t){this.targetId=e,this.Ce=t}}class fw{constructor(e,t,s=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class wy{constructor(){this.ve=0,this.Fe=xy(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),t=Me(),s=Me();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:l})}})),new Dl(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=xy()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gN{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.Je=rc(),this.He=rc(),this.Ye=new lt(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(bf(l))if(s===0){const d=new _e(l.path);this.et(t,d,$t.newNoDocument(d,Ne.min()))}else We(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const f=this.ut(e),m=f?this.ct(f,e,d):1;if(m!==0){this.it(t);const v=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,v)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let d,f;try{d=$s(s).toUint8Array()}catch(m){if(m instanceof z_)return Uo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new _p(d,o,l)}catch(m){return Uo(m instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const d=this.Ge.ht(),f=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,d)=>{const f=this.ot(d);if(f){if(l.current&&bf(f.target)){const m=new _e(f.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,$t.newNoDocument(m,e))}l.Be&&(t.set(d,l.ke()),l.qe())}}));let s=Me();this.He.forEach(((l,d)=>{let f=!0;d.forEachWhile((m=>{const v=this.ot(m);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,d)=>d.setReadTime(e)));const o=new id(e,t,this.Ye,this.je,s);return this.je=Qr(),this.Je=rc(),this.He=rc(),this.Ye=new lt(Le),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new wy,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wy),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rc(){return new lt(_e.comparator)}function xy(){return new lt(_e.comparator)}const yN={asc:"ASCENDING",desc:"DESCENDING"},vN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_N={and:"AND",or:"OR"};class wN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cf(n,e){return n.useProto3Json||Xc(e)?e:{value:e}}function pw(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EN(n,e){return pw(n,e.toTimestamp())}function mr(n){return We(!!n,49232),Ne.fromTimestamp((function(t){const s=zs(t);return new mt(s.seconds,s.nanos)})(n))}function mw(n,e){return Af(n,e).canonicalString()}function Af(n,e){const t=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function gw(n){const e=nt.fromString(n);return We(xw(e),10190,{key:e.toString()}),e}function Nf(n,e){return mw(n.databaseId,e.path)}function Zh(n,e){const t=gw(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(vw(t))}function yw(n,e){return mw(n.databaseId,e)}function TN(n){const e=gw(n);return e.length===4?nt.emptyPath():vw(e)}function Rf(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vw(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ey(n,e,t){return{name:Nf(n,e),fields:t.value.mapValue.fields}}function kN(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ie(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,w){return v.useProto3Json?(We(w===void 0||typeof w=="string",58123),jt.fromBase64String(w||"")):(We(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),jt.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&(function(v){const w=v.code===void 0?ee.UNKNOWN:dw(v.code);return new ve(w,v.message||"")})(d);t=new fw(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zh(n,s.document.name),l=mr(s.document.updateTime),d=s.document.createTime?mr(s.document.createTime):Ne.min(),f=new Mn({mapValue:{fields:s.document.fields}}),m=$t.newFoundDocument(o,l,d,f),v=s.targetIds||[],w=s.removedTargetIds||[];t=new gc(v,w,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zh(n,s.document),l=s.readTime?mr(s.readTime):Ne.min(),d=$t.newNoDocument(o,l),f=s.removedTargetIds||[];t=new gc([],f,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zh(n,s.document),l=s.removedTargetIds||[];t=new gc([],l,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,d=new hN(o,l),f=s.targetId;t=new hw(f,d)}}return t}function IN(n,e){let t;if(e instanceof sd)t={update:Ey(n,e.key,e.value)};else if(e instanceof yp)t={delete:Nf(n,e.key)};else if(e instanceof ra)t={update:Ey(n,e.key,e.data),updateMask:ON(e.fieldMask)};else{if(!(e instanceof uN))return Ie(16599,{Vt:e.type});t={verify:Nf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,d){const f=d.transform;if(f instanceof Oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Il)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof jc)return{fieldPath:d.field.canonicalString(),increment:f.Ae};throw Ie(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:EN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(n,e.precondition)),t}function bN(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map((t=>(function(o,l){let d=o.updateTime?mr(o.updateTime):mr(l);return d.isEqual(Ne.min())&&(d=mr(l)),new oN(d,o.transformResults||[])})(t,e)))):[]}function SN(n,e){return{documents:[yw(n,e.path)]}}function CN(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=yw(n,o);const l=(function(v){if(v.length!==0)return ww(vr.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const d=(function(v){if(v.length!==0)return v.map((w=>(function(I){return{field:Ao(I.field),direction:RN(I.dir)}})(w)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const f=Cf(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:t,parent:o}}function AN(n){let e=TN(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(E){const I=_w(E);return I instanceof vr&&Y_(I)?I.getFilters():[I]})(t.where));let d=[];t.orderBy&&(d=(function(E){return E.map((I=>(function(W){return new Dc(No(W.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(I)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let I;return I=typeof E=="object"?E.value:E,Xc(I)?null:I})(t.limit));let m=null;t.startAt&&(m=(function(E){const I=!!E.before,P=E.values||[];return new Pc(P,I)})(t.startAt));let v=null;return t.endAt&&(v=(function(E){const I=!E.before,P=E.values||[];return new Pc(P,I)})(t.endAt)),qA(e,o,d,l,f,"F",m,v)}function NN(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _w(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=No(t.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(t.unaryFilter.field);return Tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=No(t.unaryFilter.field);return Tt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(No(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return vr.create(t.compositeFilter.filters.map((s=>_w(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function RN(n){return yN[n]}function PN(n){return vN[n]}function DN(n){return _N[n]}function Ao(n){return{fieldPath:n.canonicalString()}}function No(n){return Ht.fromServerFormat(n.fieldPath)}function ww(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(uy(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NAN"}};if(ly(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uy(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NAN"}};if(ly(t.value))return{unaryFilter:{field:Ao(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(t.field),op:PN(t.op),value:t.value}}})(n):n instanceof vr?(function(t){const s=t.getFilters().map((o=>ww(o)));return s.length===1?s[0]:{compositeFilter:{op:DN(t.op),filters:s}}})(n):Ie(54877,{filter:n})}function ON(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function xw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t,s,o,l=Ne.min(),d=Ne.min(),f=jt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.yt=e}}function LN(n){const e=AN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.Cn=new VN}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Bs.min())}updateCollectionGroup(e,t,s){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class VN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(nt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ew=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Ew,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LruGarbageCollector",FN=1048576;function Iy([n,e],[t,s]){const o=Le(n,t);return o===0?Le(e,s):o}class UN{constructor(e){this.Ir=e,this.buffer=new kt(Iy),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Iy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(ky,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?ce(ky,"Ignoring IndexedDB error during garbage collection: ",t):await ea(t)}await this.Vr(3e5)}))}}class zN{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Yc.ce);const s=new UN(t);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Ty)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ty):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,l,d,f,m,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,d=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,f=Date.now(),this.removeTargets(e,s,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(v=Date.now(),So()<=je.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-w}ms
	Determined least recently used ${o} in `+(f-d)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(v-m)+`ms
Total Duration: ${v-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function $N(n,e){return new zN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.changes=new Fi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?K.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&hl(s.mutation,o,Br.empty(),mt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Me()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Me()){const o=ki();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let d=rl();return l.forEach(((f,m)=>{d=d.insert(f,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=ki();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Me())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((d,f)=>{t.set(d,f)}))}))}computeViews(e,t,s,o){let l=Qr();const d=dl(),f=(function(){return dl()})();return t.forEach(((m,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof ra)?l=l.insert(v.key,v):w!==void 0?(d.set(v.key,w.mutation.getFieldMask()),hl(w.mutation,v,w.mutation.getFieldMask(),mt.now())):d.set(v.key,Br.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((v,w)=>d.set(v,w))),t.forEach(((v,w)=>f.set(v,new qN(w,d.get(v)??null)))),f)))}recalculateAndSaveOverlays(e,t){const s=dl();let o=new lt(((d,f)=>d-f)),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const f of d)f.keys().forEach((m=>{const v=t.get(m);if(v===null)return;let w=s.get(m)||Br.empty();w=f.applyToLocalView(v,w),s.set(m,w);const E=(o.get(f.batchId)||Me()).add(m);o=o.insert(f.batchId,E)}))})).next((()=>{const d=[],f=o.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,w=m.value,E=sw();w.forEach((I=>{if(!l.has(I)){const P=uw(t.get(I),s.get(I));P!==null&&E.set(I,P),l=l.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,E))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):K.resolve(ki());let f=wl,m=l;return d.next((v=>K.forEach(v,((w,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next((I=>{m=m.insert(w,I)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,m,v,Me()))).next((w=>({batchId:f,changes:rw(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((s=>{let o=rl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let d=rl();return this.indexManager.getCollectionParents(e,l).next((f=>K.forEach(f,(m=>{const v=(function(E,I){return new Zc(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((E,I)=>{d=d.insert(E,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((d=>{l.forEach(((m,v)=>{const w=v.getKey();d.get(w)===null&&(d=d.insert(w,$t.newInvalidDocument(w)))}));let f=rl();return d.forEach(((m,v)=>{const w=l.get(m);w!==void 0&&hl(w.mutation,v,Br.empty(),mt.now()),td(t,v)&&(f=f.insert(m,v))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}})(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:LN(o.bundledQuery),readTime:mr(o.readTime)}})(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(){this.overlays=new lt(_e.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ki();return K.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.St(e,t,l)})),K.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,t,s){const o=ki(),l=t.length+1,d=new _e(t.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&m.largestBatchId>s&&o.set(m.getKey(),m)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new lt(((v,w)=>v-w));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=l.get(v.largestBatchId);w===null&&(w=ki(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=ki(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((v,w)=>f.set(v,w))),!(f.size()>=o)););return K.resolve(f)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new dN(t,s));let l=this.qr.get(t);l===void 0&&(l=Me(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Qr=new kt(Ct.$r),this.Ur=new kt(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ct(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Ct(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new _e(new nt([])),s=new Ct(t,e),o=new Ct(t,e+1),l=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),l.push(d.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new nt([])),s=new Ct(t,e),o=new Ct(t,e+1);let l=Me();return this.Ur.forEachInRange([s,o],(d=>{l=l.add(d.key)})),l}containsKey(e){const t=new Ct(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ct{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Ct.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cN(l,t,s,o);this.mutationQueue.push(d);for(const f of o)this.Zr=this.Zr.add(new Ct(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?dp:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,o],(d=>{const f=this.Xr(d.Yr);l.push(f)})),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(Le);return t.forEach((o=>{const l=new Ct(o,0),d=new Ct(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,d],(f=>{s=s.add(f.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const d=new Ct(new _e(l),0);let f=new kt(Le);return this.Zr.forEachWhile((m=>{const v=m.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(m.Yr)),!0)}),d),K.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(t.mutations,(o=>{const l=new Ct(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Ct(t,0),o=this.Zr.firstAfterOrEqual(s);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.ri=e,this.docs=(function(){return new lt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,d=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return K.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let s=Qr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():$t.newInvalidDocument(o))})),K.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Qr();const d=t.path,f=new _e(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:w}}=m.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||xA(wA(w),s)<=0||(o.has(w.key)||td(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ie(9500)}ii(e,t){return K.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new JN(this)}getSize(e){return K.resolve(this.size)}}class JN extends HN{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.persistence=e,this.si=new Fi((t=>pp(t)),mp),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.oi=0,this._i=new wp,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(e,t){return this.si.forEach(((s,o)=>t(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.si.forEach(((d,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.si.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),K.waitFor(l).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return K.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),K.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((d=>{l.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return K.resolve(s)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Yc(0),this.li=!1,this.li=!0,this.hi=new QN,this.referenceDelegate=e(this),this.Pi=new ZN(this),this.indexManager=new MN,this.remoteDocumentCache=(function(o){return new XN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new jN(t),this.Ii=new KN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new YN(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new e2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class e2 extends TA{constructor(e){super(),this.currentSequenceNumber=e}}class xp{constructor(e){this.persistence=e,this.Ri=new wp,this.Vi=null}static mi(e){return new xp(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),K.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Ne.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Lc{constructor(e,t){this.persistence=e,this.pi=new Fi((s=>IA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=$N(this,t)}static mi(e,t){return new Lc(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return K.forEach(this.pi,((s,o)=>this.br(e,s,o).next((l=>l?K.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,t).next((f=>{f||(s++,l.removeEntry(d,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=fc(e.data.value)),t}br(e,t,s){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Me(),o=Me();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Ep(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nT()?8:kA(Wt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ys(e,t).next((d=>{l.result=d})).next((()=>{if(!l.result)return this.ws(e,t,o,s).next((d=>{l.result=d}))})).next((()=>{if(l.result)return;const d=new t2;return this.Ss(e,t,d).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,d,f.size)}))})).next((()=>l.result))}bs(e,t,s,o){return s.documentReadCount<this.fs?(So()<=je.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(So()<=je.DEBUG&&ce("QueryEngine","Query:",Co(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(So()<=je.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):K.resolve())}ys(e,t){if(fy(t))return K.resolve(null);let s=pr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Sf(t,null,"F"),s=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const d=Me(...l);return this.ps.getDocuments(e,d).next((f=>this.indexManager.getMinOffset(e,s).next((m=>{const v=this.Ds(t,f);return this.Cs(t,v,d,m.readTime)?this.ys(e,Sf(t,null,"F")):this.vs(e,v,t,m)}))))})))))}ws(e,t,s,o){return fy(t)||o.isEqual(Ne.min())?K.resolve(null):this.ps.getDocuments(e,s).next((l=>{const d=this.Ds(t,l);return this.Cs(t,d,s,o)?K.resolve(null):(So()<=je.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(t)),this.vs(e,d,t,_A(o,wl)).next((f=>f)))}))}Ds(e,t){let s=new kt(tw(e));return t.forEach(((o,l)=>{td(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,s){return So()<=je.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Co(t)),this.ps.getDocumentsMatchingQuery(e,t,Bs.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((d=>{l=l.insert(d.key,d)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="LocalStore",r2=3e8;class s2{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new lt(Le),this.xs=new Fi((l=>pp(l)),mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function i2(n,e,t,s){return new s2(n,e,t,s)}async function kw(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const d=[],f=[];let m=Me();for(const v of o){d.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}for(const v of l){f.push(v.batchId);for(const w of v.mutations)m=m.add(w.key)}return t.localDocuments.getDocuments(s,m).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:f})))}))}))}function o2(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,m,v,w){const E=v.batch,I=E.keys();let P=K.resolve();return I.forEach((W=>{P=P.next((()=>w.getEntry(m,W))).next((B=>{const L=v.docVersions.get(W);We(L!==null,48541),B.version.compareTo(L)<0&&(E.applyToRemoteDocument(B,v),B.isValidDocument()&&(B.setReadTime(v.commitVersion),w.addEntry(B)))}))})),P.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let m=Me();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(m=m.add(f.batch.mutations[v].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function Iw(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function a2(n,e){const t=Pe(n),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const d=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((w,E)=>{const I=o.get(E);if(!I)return;f.push(t.Pi.removeMatchingKeys(l,w.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,w.addedDocuments,E))));let P=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?P=P.withResumeToken(jt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):w.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(w.resumeToken,s)),o=o.insert(E,P),(function(B,L,Q){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=r2?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(I,P,w)&&f.push(t.Pi.updateTargetData(l,P))}));let m=Qr(),v=Me();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(l2(l,d,e.documentUpdates).next((w=>{m=w.ks,v=w.qs}))),!s.isEqual(Ne.min())){const w=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(w)}return K.waitFor(f).next((()=>d.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,v))).next((()=>m))})).then((l=>(t.Ms=o,l)))}function l2(n,e,t){let s=Me(),o=Me();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let d=Qr();return t.forEach(((f,m)=>{const v=l.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),m.isNoDocument()&&m.version.isEqual(Ne.min())?(e.removeEntry(f,m.readTime),d=d.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||m.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(m),d=d.insert(f,m)):ce(Tp,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)})),{ks:d,qs:o}}))}function u2(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=dp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function c2(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Pi.getTargetData(s,e).next((l=>l?(o=l,K.resolve(o)):t.Pi.allocateTargetId(s).next((d=>(o=new Ps(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Pf(n,e,t){const s=Pe(n),o=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ta(d))throw d;ce(Tp,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function by(n,e,t){const s=Pe(n);let o=Ne.min(),l=Me();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,v,w){const E=Pe(m),I=E.xs.get(w);return I!==void 0?K.resolve(E.Ms.get(I)):E.Pi.getTargetData(v,w)})(s,d,pr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,f.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,t?o:Ne.min(),t?l:Me()))).next((f=>(d2(s,GA(e),f),{documents:f,Qs:l})))))}function d2(n,e,t){let s=n.Os.get(e)||Ne.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class Sy{constructor(){this.activeTargetIds=eN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h2{constructor(){this.Mo=new Sy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="ConnectivityMonitor";class Ay{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Cy,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Cy,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Df(){return sc===null?sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="RestConnection",p2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,l){const d=Df(),f=this.zo(e,t.toUriEncodedString());ce(ef,`Sending RPC '${e}' ${d}:`,f,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,l);const{host:v}=new URL(f),w=Qo(v);return this.Jo(e,f,m,s,w).then((E=>(ce(ef,`Received RPC '${e}' ${d}: `,E),E)),(E=>{throw Uo(ef,`RPC '${e}' ${d} failed with error: `,E,"url: ",f,"request:",s),E}))}Ho(e,t,s,o,l,d){return this.Go(e,t,s,o,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const s=p2[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class y2 extends m2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const d=Df();return new Promise(((f,m)=>{const v=new D_;v.setWithCredentials(!0),v.listenOnce(O_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case hc.NO_ERROR:const E=v.getResponseJson();ce(Bt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(E)),f(E);break;case hc.TIMEOUT:ce(Bt,`RPC '${e}' ${d} timed out`),m(new ve(ee.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const I=v.getStatus();if(ce(Bt,`RPC '${e}' ${d} failed with status:`,I,"response text:",v.getResponseText()),I>0){let P=v.getResponseJson();Array.isArray(P)&&(P=P[0]);const W=P?.error;if(W&&W.status&&W.message){const B=(function(Q){const X=Q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(X)>=0?X:ee.UNKNOWN})(W.status);m(new ve(B,W.message))}else m(new ve(ee.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new ve(ee.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce(Bt,`RPC '${e}' ${d} completed.`)}}));const w=JSON.stringify(o);ce(Bt,`RPC '${e}' ${d} sending request:`,o),v.send(t,"POST",w,s,15)}))}T_(e,t,s){const o=Df(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=M_(),f=L_(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,s),m.encodeInitMessageHeaders=!0;const w=l.join("");ce(Bt,`Creating RPC '${e}' stream ${o}: ${w}`,m);const E=d.createWebChannel(w,m);this.I_(E);let I=!1,P=!1;const W=new g2({Yo:L=>{P?ce(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(I||(ce(Bt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),ce(Bt,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),B=(L,Q,X)=>{L.listen(Q,(Y=>{try{X(Y)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return B(E,nl.EventType.OPEN,(()=>{P||(ce(Bt,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),B(E,nl.EventType.CLOSE,(()=>{P||(P=!0,ce(Bt,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(E))})),B(E,nl.EventType.ERROR,(L=>{P||(P=!0,Uo(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),W.a_(new ve(ee.UNAVAILABLE,"The operation could not be completed")))})),B(E,nl.EventType.MESSAGE,(L=>{if(!P){const Q=L.data[0];We(!!Q,16349);const X=Q,Y=X?.error||X[0]?.error;if(Y){ce(Bt,`RPC '${e}' stream ${o} received error:`,Y);const ie=Y.status;let be=(function(k){const S=_t[k];if(S!==void 0)return dw(S)})(ie),H=Y.message;be===void 0&&(be=ee.INTERNAL,H="Unknown error status: "+ie+" with message "+Y.message),P=!0,W.a_(new ve(be,H)),E.close()}else ce(Bt,`RPC '${e}' stream ${o} received:`,Q),W.u_(Q)}})),B(f,j_.STAT_EVENT,(L=>{L.stat===_f.PROXY?ce(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===_f.NOPROXY&&ce(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n){return new wN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="PersistentStream";class Cw{constructor(e,t,s,o,l,d,f,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===t&&this.G_(s,o)}),(s=>{e((()=>{const o=new ve(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(Ny,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ce(Ny,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class v2 extends Cw{constructor(e,t,s,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,d),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=kN(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ne.min():d.readTime?mr(d.readTime):Ne.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Rf(this.serializer),t.addTarget=(function(l,d){let f;const m=d.target;if(f=bf(m)?{documents:SN(l,m)}:{query:CN(l,m).ft},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=xN(l,d.resumeToken);const v=Cf(l,d.expectedCount);v!==null&&(f.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ne.min())>0){f.readTime=pw(l,d.snapshotVersion.toTimestamp());const v=Cf(l,d.expectedCount);v!==null&&(f.expectedCount=v)}return f})(this.serializer,e);const s=NN(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Rf(this.serializer),t.removeTarget=e,this.q_(t)}}class _2 extends Cw{constructor(e,t,s,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,d),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=bN(e.writeResults,e.commitTime),s=mr(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Rf(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>IN(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{}class x2 extends w2{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Go(e,Af(t,s),o,l,d))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ee.UNKNOWN,l.toString())}))}Ho(e,t,s,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,f])=>this.connection.Ho(e,Af(t,s),o,d,f,l))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ve(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class E2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gr(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="RemoteStore";class T2{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Ui(this)&&(ce(Oi,"Restarting streams for network reachability change."),await(async function(m){const v=Pe(m);v.Ea.add(4),await Ol(v),v.Ra.set("Unknown"),v.Ea.delete(4),await od(v)})(this))}))})),this.Ra=new E2(s,o)}}async function od(n){if(Ui(n))for(const e of n.da)await e(!0)}async function Ol(n){for(const e of n.da)await e(!1)}function Aw(n,e){const t=Pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Sp(t)?bp(t):sa(t).O_()&&Ip(t,e))}function kp(n,e){const t=Pe(n),s=sa(t);t.Ia.delete(e),s.O_()&&Nw(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ui(t)&&t.Ra.set("Unknown"))}function Ip(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sa(n).Y_(e)}function Nw(n,e){n.Va.Ue(e),sa(n).Z_(e)}function bp(n){n.Va=new gN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),sa(n).start(),n.Ra.ua()}function Sp(n){return Ui(n)&&!sa(n).x_()&&n.Ia.size>0}function Ui(n){return Pe(n).Ea.size===0}function Rw(n){n.Va=void 0}async function k2(n){n.Ra.set("Online")}async function I2(n){n.Ia.forEach(((e,t)=>{Ip(n,e)}))}async function b2(n,e){Rw(n),Sp(n)?(n.Ra.ha(e),bp(n)):n.Ra.set("Unknown")}async function S2(n,e,t){if(n.Ra.set("Online"),e instanceof fw&&e.state===2&&e.cause)try{await(async function(o,l){const d=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,d),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(s){ce(Oi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mc(n,s)}else if(e instanceof gc?n.Va.Ze(e):e instanceof hw?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ne.min()))try{const s=await Iw(n.localStore);t.compareTo(s)>=0&&await(function(l,d){const f=l.Va.Tt(d);return f.targetChanges.forEach(((m,v)=>{if(m.resumeToken.approximateByteSize()>0){const w=l.Ia.get(v);w&&l.Ia.set(v,w.withResumeToken(m.resumeToken,d))}})),f.targetMismatches.forEach(((m,v)=>{const w=l.Ia.get(m);if(!w)return;l.Ia.set(m,w.withResumeToken(jt.EMPTY_BYTE_STRING,w.snapshotVersion)),Nw(l,m);const E=new Ps(w.target,m,v,w.sequenceNumber);Ip(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(s){ce(Oi,"Failed to raise snapshot:",s),await Mc(n,s)}}async function Mc(n,e,t){if(!ta(e))throw e;n.Ea.add(1),await Ol(n),n.Ra.set("Offline"),t||(t=()=>Iw(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ce(Oi,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await od(n)}))}function Pw(n,e){return e().catch((t=>Mc(n,t,e)))}async function ad(n){const e=Pe(n),t=qs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dp;for(;C2(e);)try{const o=await u2(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,A2(e,o)}catch(o){await Mc(e,o)}Dw(e)&&Ow(e)}function C2(n){return Ui(n)&&n.Ta.length<10}function A2(n,e){n.Ta.push(e);const t=qs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Dw(n){return Ui(n)&&!qs(n).x_()&&n.Ta.length>0}function Ow(n){qs(n).start()}async function N2(n){qs(n).ra()}async function R2(n){const e=qs(n);for(const t of n.Ta)e.ea(t.mutations)}async function P2(n,e,t){const s=n.Ta.shift(),o=vp.from(s,e,t);await Pw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await ad(n)}async function D2(n,e){e&&qs(n).X_&&await(async function(s,o){if((function(d){return fN(d)&&d!==ee.ABORTED})(o.code)){const l=s.Ta.shift();qs(s).B_(),await Pw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await ad(s)}})(n,e),Dw(n)&&Ow(n)}async function Ry(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),ce(Oi,"RemoteStore received new credentials");const s=Ui(t);t.Ea.add(3),await Ol(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await od(t)}async function O2(n,e){const t=Pe(n);e?(t.Ea.delete(2),await od(t)):e||(t.Ea.add(2),await Ol(t),t.Ra.set("Unknown"))}function sa(n){return n.ma||(n.ma=(function(t,s,o){const l=Pe(t);return l.sa(),new v2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:k2.bind(null,n),t_:I2.bind(null,n),r_:b2.bind(null,n),H_:S2.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Sp(n)?bp(n):n.Ra.set("Unknown")):(await n.ma.stop(),Rw(n))}))),n.ma}function qs(n){return n.fa||(n.fa=(function(t,s,o){const l=Pe(t);return l.sa(),new _2(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:N2.bind(null,n),r_:D2.bind(null,n),ta:R2.bind(null,n),na:P2.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ad(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(Oi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const d=Date.now()+s,f=new Cp(e,t,d,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),ta(n))return new ve(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=rl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.ga=new lt(_e.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class qo{constructor(e,t,s,o,l,d,f,m,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const d=[];return t.forEach((f=>{d.push({type:0,doc:f})})),new qo(e,t,Lo.emptySet(t),d,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class L2{constructor(){this.queries=Dy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=Pe(t),l=o.queries;o.queries=Dy(),l.forEach(((d,f)=>{for(const m of f.Sa)m.onError(s)}))})(this,new ve(ee.ABORTED,"Firestore shutting down"))}}function Dy(){return new Fi((n=>ew(n)),ed)}async function M2(n,e){const t=Pe(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(s=2):(l=new j2,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const f=Ap(d,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Np(t)}async function V2(n,e){const t=Pe(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const d=l.Sa.indexOf(e);d>=0&&(l.Sa.splice(d,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function F2(n,e){const t=Pe(n);let s=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const f of d.Sa)f.Fa(o)&&(s=!0);d.wa=o}}s&&Np(t)}function U2(n,e,t){const s=Pe(n),o=s.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);s.queries.delete(e)}function Np(n){n.Ca.forEach((e=>{e.next()}))}var Of,Oy;(Oy=Of||(Of={})).Ma="default",Oy.Cache="cache";class B2{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.key=e}}class Lw{constructor(e){this.key=e}}class z2{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=tw(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Py,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,f=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,E)=>{const I=o.get(w),P=td(this.query,E)?E:null,W=!!I&&this.mutatedKeys.has(I.key),B=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let L=!1;I&&P?I.data.isEqual(P.data)?W!==B&&(s.track({type:3,doc:P}),L=!0):this.su(I,P)||(s.track({type:2,doc:P}),L=!0,(m&&this.eu(P,m)>0||v&&this.eu(P,v)<0)&&(f=!0)):!I&&P?(s.track({type:0,doc:P}),L=!0):I&&!P&&(s.track({type:1,doc:I}),L=!0,(m||v)&&(f=!0)),L&&(P?(d=d.add(P),l=B?l.add(w):l.delete(w)):(d=d.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const w=this.query.limitType==="F"?d.last():d.first();d=d.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{tu:d,iu:s,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((w,E)=>(function(P,W){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:L})}};return B(P)-B(W)})(w.type,E.type)||this.eu(w.doc,E.doc))),this.ou(s),o=o??!1;const f=t&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,v=m!==this.Za;return this.Za=m,d.length!==0||v?{snapshot:new qo(this.query,e.tu,l,d,e.mutatedKeys,m===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Py,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new Lw(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new jw(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=Me();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rp="SyncEngine";class $2{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class H2{constructor(e){this.key=e,this.hu=!1}}class q2{constructor(e,t,s,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fi((f=>ew(f)),ed),this.Iu=new Map,this.Eu=new Set,this.du=new lt(_e.comparator),this.Au=new Map,this.Ru=new wp,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W2(n,e,t=!0){const s=zw(n);let o;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Mw(s,e,t,!0),o}async function K2(n,e){const t=zw(n);await Mw(t,e,!0,!1)}async function Mw(n,e,t,s){const o=await c2(n.localStore,pr(e)),l=o.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await G2(n,e,l,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&Aw(n.remoteStore,o),f}async function G2(n,e,t,s,o){n.pu=(E,I,P)=>(async function(B,L,Q,X){let Y=L.view.ru(Q);Y.Cs&&(Y=await by(B.localStore,L.query,!1).then((({documents:A})=>L.view.ru(A,Y))));const ie=X&&X.targetChanges.get(L.targetId),be=X&&X.targetMismatches.get(L.targetId)!=null,H=L.view.applyChanges(Y,B.isPrimaryClient,ie,be);return Ly(B,L.targetId,H.au),H.snapshot})(n,E,I,P);const l=await by(n.localStore,e,!0),d=new z2(e,l.Qs),f=d.ru(l.documents),m=Dl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=d.applyChanges(f,n.isPrimaryClient,m);Ly(n,t,v.au);const w=new $2(e,t,d);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),v.snapshot}async function Q2(n,e,t){const s=Pe(n),o=s.Tu.get(e),l=s.Iu.get(o.targetId);if(l.length>1)return s.Iu.set(o.targetId,l.filter((d=>!ed(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Pf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&kp(s.remoteStore,o.targetId),jf(s,o.targetId)})).catch(ea)):(jf(s,o.targetId),await Pf(s.localStore,o.targetId,!0))}async function Y2(n,e){const t=Pe(n),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),kp(t.remoteStore,s.targetId))}async function X2(n,e,t){const s=sR(n);try{const o=await(function(d,f){const m=Pe(d),v=mt.now(),w=f.reduce(((P,W)=>P.add(W.key)),Me());let E,I;return m.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let W=Qr(),B=Me();return m.Ns.getEntries(P,w).next((L=>{W=L,W.forEach(((Q,X)=>{X.isValidDocument()||(B=B.add(Q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(P,W))).next((L=>{E=L;const Q=[];for(const X of f){const Y=lN(X,E.get(X.key).overlayedDocument);Y!=null&&Q.push(new ra(X.key,Y,K_(Y.value.mapValue),Hr.exists(!0)))}return m.mutationQueue.addMutationBatch(P,v,Q,f)})).next((L=>{I=L;const Q=L.applyToLocalDocumentSet(E,B);return m.documentOverlayCache.saveOverlays(P,L.batchId,Q)}))})).then((()=>({batchId:I.batchId,changes:rw(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,f,m){let v=d.Vu[d.currentUser.toKey()];v||(v=new lt(Le)),v=v.insert(f,m),d.Vu[d.currentUser.toKey()]=v})(s,o.batchId,t),await jl(s,o.changes),await ad(s.remoteStore)}catch(o){const l=Ap(o,"Failed to persist write");t.reject(l)}}async function Vw(n,e){const t=Pe(n);try{const s=await a2(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const d=t.Au.get(l);d&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?We(d.hu,14607):o.removedDocuments.size>0&&(We(d.hu,42227),d.hu=!1))})),await jl(t,s,e)}catch(s){await ea(s)}}function jy(n,e,t){const s=Pe(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach(((l,d)=>{const f=d.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(d,f){const m=Pe(d);m.onlineState=f;let v=!1;m.queries.forEach(((w,E)=>{for(const I of E.Sa)I.va(f)&&(v=!0)})),v&&Np(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function J2(n,e,t){const s=Pe(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),l=o&&o.key;if(l){let d=new lt(_e.comparator);d=d.insert(l,$t.newNoDocument(l,Ne.min()));const f=Me().add(l),m=new id(Ne.min(),new Map,new lt(Le),d,f);await Vw(s,m),s.du=s.du.remove(l),s.Au.delete(e),Pp(s)}else await Pf(s.localStore,e,!1).then((()=>jf(s,e,t))).catch(ea)}async function Z2(n,e){const t=Pe(n),s=e.batch.batchId;try{const o=await o2(t.localStore,e);Uw(t,s,null),Fw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await jl(t,o)}catch(o){await ea(o)}}async function eR(n,e,t){const s=Pe(n);try{const o=await(function(d,f){const m=Pe(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return m.mutationQueue.lookupMutationBatch(v,f).next((E=>(We(E!==null,37113),w=E.keys(),m.mutationQueue.removeMutationBatch(v,E)))).next((()=>m.mutationQueue.performConsistencyCheck(v))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(v,w,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>m.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);Uw(s,e,t),Fw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await jl(s,o)}catch(o){await ea(o)}}function Fw(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Uw(n,e,t){const s=Pe(n);let o=s.Vu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function jf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||Bw(n,s)}))}function Bw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(kp(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Pp(n))}function Ly(n,e,t){for(const s of t)s instanceof jw?(n.Ru.addReference(s.key,e),tR(n,s)):s instanceof Lw?(ce(Rp,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||Bw(n,s.key)):Ie(19791,{wu:s})}function tR(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ce(Rp,"New document in limbo: "+t),n.Eu.add(s),Pp(n))}function Pp(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(nt.fromString(e)),s=n.fu.next();n.Au.set(s,new H2(t)),n.du=n.du.insert(t,s),Aw(n.remoteStore,new Ps(pr(gp(t.path)),s,"TargetPurposeLimboResolution",Yc.ce))}}async function jl(n,e,t){const s=Pe(n),o=[],l=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,m)=>{d.push(s.pu(m,e,t).then((v=>{if((v||t)&&s.isPrimaryClient){const w=v?!v.fromCache:t?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,w?"current":"not-current")}if(v){o.push(v);const w=Ep.As(m.targetId,v);l.push(w)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(m,v){const w=Pe(m);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>K.forEach(v,(I=>K.forEach(I.Es,(P=>w.persistence.referenceDelegate.addReference(E,I.targetId,P))).next((()=>K.forEach(I.ds,(P=>w.persistence.referenceDelegate.removeReference(E,I.targetId,P)))))))))}catch(E){if(!ta(E))throw E;ce(Tp,"Failed to update sequence numbers: "+E)}for(const E of v){const I=E.targetId;if(!E.fromCache){const P=w.Ms.get(I),W=P.snapshotVersion,B=P.withLastLimboFreeSnapshotVersion(W);w.Ms=w.Ms.insert(I,B)}}})(s.localStore,l))}async function nR(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){ce(Rp,"User change. New user:",e.toKey());const s=await kw(t.localStore,e);t.currentUser=e,(function(l,d){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ve(ee.CANCELLED,d))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jl(t,s.Ls)}}function rR(n,e){const t=Pe(n),s=t.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let o=Me();const l=t.Iu.get(e);if(!l)return o;for(const d of l){const f=t.Tu.get(d);o=o.unionWith(f.view.nu)}return o}}function zw(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J2.bind(null,e),e.Pu.H_=F2.bind(null,e.eventManager),e.Pu.yu=U2.bind(null,e.eventManager),e}function sR(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eR.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return i2(this.persistence,new n2,e.initialUser,this.serializer)}Cu(e){return new Tw(xp.mi,this.serializer)}Du(e){return new h2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class iR extends Vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Lc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new BN(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Tw((s=>Lc.mi(s,t)),this.serializer)}}class Lf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nR.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new L2})()}createDatastore(e){const t=bw(e.databaseInfo.databaseId),s=(function(l){return new y2(l)})(e.databaseInfo);return(function(l,d,f,m){return new x2(l,d,f,m)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,d,f){return new T2(s,o,l,d,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>jy(this.syncEngine,t,0)),(function(){return Ay.v()?new Ay:new f2})())}createSyncEngine(e,t){return(function(o,l,d,f,m,v,w){const E=new q2(o,l,d,f,m,v);return w&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Pe(t);ce(Oi,"RemoteStore shutting down."),s.Ea.add(5),await Ol(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lf.provider={build:()=>new Lf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="FirestoreClient";class aR{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async d=>{ce(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ce(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Ap(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function nf(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await kw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function My(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lR(n);ce(Ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>Ry(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>Ry(e.remoteStore,o))),n._onlineComponents=e}async function lR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Ws,"Using user provided OfflineComponentProvider");try{await nf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await nf(n,new Vc)}}else ce(Ws,"Using default OfflineComponentProvider"),await nf(n,new iR(void 0));return n._offlineComponents}async function $w(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Ws,"Using user provided OnlineComponentProvider"),await My(n,n._uninitializedComponentsProvider._online)):(ce(Ws,"Using default OnlineComponentProvider"),await My(n,new Lf))),n._onlineComponents}function uR(n){return $w(n).then((e=>e.syncEngine))}async function Vy(n){const e=await $w(n),t=e.eventManager;return t.onListen=W2.bind(null,e.syncEngine),t.onUnlisten=Q2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=K2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Y2.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="firestore.googleapis.com",Uy=!0;class By{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qw,this.ssl=Uy}else this.host=e.host,this.ssl=e.ssl??Uy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ew;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FN)throw new ve(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new By({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new By(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new oA;switch(s.type){case"firstParty":return new cA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Fy.get(t);s&&(ce("ComponentProvider","Removing Datastore"),Fy.delete(t),s.terminate())})(this),Promise.resolve()}}function cR(n,e,t,s={}){n=ll(n,ld);const o=Qo(e),l=n._getSettings(),d={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(mv(`https://${f}`),gv("Firestore",!0)),l.host!==qw&&l.host!==f&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:o,emulatorOptions:s};if(!Us(m,d)&&(n._setSettings(m),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=zt.MOCK_USER;else{v=G1(s.mockUserToken,n._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ve(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new zt(E)}n._authCredentials=new aA(new F_(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ud(this.firestore,e,this._query)}}class qt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Pl(t,qt._jsonSchema))return new qt(e,s||null,new _e(nt.fromString(t.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:wt("string",qt._jsonSchemaVersion),referencePath:wt("string")};class Ms extends ud{constructor(e,t,s){super(e,t,gp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new _e(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function bi(n,e,...t){if(n=sn(n),U_("collection","path",e),n instanceof ld){const s=nt.fromString(e,...t);return ey(s),new Ms(n,null,s)}{if(!(n instanceof qt||n instanceof Ms))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(nt.fromString(e,...t));return ey(s),new Ms(n.firestore,null,s)}}function Ww(n,e,...t){if(n=sn(n),arguments.length===1&&(e=cp.newId()),U_("doc","path",e),n instanceof ld){const s=nt.fromString(e,...t);return Z0(s),new qt(n,null,new _e(s))}{if(!(n instanceof qt||n instanceof Ms))throw new ve(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(nt.fromString(e,...t));return Z0(s),new qt(n.firestore,n instanceof Ms?n.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="AsyncQueue";class $y{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sw(this,"async_queue_retry"),this._c=()=>{const s=tf();s&&ce(zy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=tf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=tf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ii;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ta(e))throw e;ce(zy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Gr("INTERNAL UNHANDLED ERROR: ",Hy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Cp.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:Hy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Hy(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Fc extends ld{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new $y,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $y(e),this._firestoreClient=void 0,await e}}}function dR(n,e){const t=typeof n=="object"?n:Wf(),s=typeof n=="string"?n:Rc,o=Li(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=W1("firestore");l&&cR(o,...l)}return o}function Kw(n){if(n._terminated)throw new ve(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hR(n),n._firestoreClient}function hR(n){const e=n._freezeSettings(),t=(function(o,l,d,f){return new AA(o,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Hw(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new aR(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dr(jt.fromBase64String(e))}catch(t){throw new ve(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dr(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pl(e,dr._jsonSchema))return dr.fromBase64String(e.bytes)}}dr._jsonSchemaVersion="firestore/bytes/1.0",dr._jsonSchema={type:wt("string",dr._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vs._jsonSchemaVersion}}static fromJSON(e){if(Pl(e,Vs._jsonSchema))return new Vs(e.latitude,e.longitude)}}Vs._jsonSchemaVersion="firestore/geoPoint/1.0",Vs._jsonSchema={type:wt("string",Vs._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pl(e,Fs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Fs(e.vectorValues);throw new ve(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fs._jsonSchemaVersion="firestore/vectorValue/1.0",Fs._jsonSchema={type:wt("string",Fs._jsonSchemaVersion),vectorValues:wt("object")};const fR=new RegExp("[~\\*/\\[\\]]");function pR(n,e,t){if(e.search(fR)>=0)throw Wy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new Gw(...e.split("."))._internalPath}catch{throw Wy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function Wy(n,e,t,s,o){let l=`Function ${e}() called with invalid data`;l+=". ";let d="";return new ve(ee.INVALID_ARGUMENT,l+n+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mR extends Qw{data(){return super.data()}}function Yw(n,e){return typeof e=="string"?pR(n,e):e instanceof Gw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yR{convertValue(e,t="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return na(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[Ef].arrayValue?.values?.map((s=>pt(s.doubleValue)));return new Fs(t)}convertGeoPoint(e){return new Vs(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Jc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const t=zs(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=nt.fromString(e);We(xw(s),9688,{name:e});const o=new El(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return o.isEqual(t)||Gr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Si extends Qw{constructor(e,t,s,o,l,d){super(e,t,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Yw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Si._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Si._jsonSchemaVersion="firestore/documentSnapshot/1.0",Si._jsonSchema={type:wt("string",Si._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class yc extends Si{data(e={}){return super.data(e)}}class Mo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new il(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new yc(this._firestore,this._userDataWriter,s.key,s,new il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((f=>{const m=new yc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new il(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new yc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new il(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return f.type!==0&&(v=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),f.type!==1&&(d=d.add(f.doc),w=d.indexOf(f.doc.key)),{type:vR(f.type),doc:m,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:wt("string",Mo._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Xw extends yR{constructor(e){super(),this.firestore=e}convertBytes(e){return new dr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}}function Jw(n){return _R(ll(n.firestore,Fc),[new yp(n._key,Hr.none())])}function Ci(n,...e){n=sn(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qy(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(qy(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,d,f;if(n instanceof qt)d=ll(n.firestore,Fc),f=gp(n._key.path),l={next:m=>{e[s]&&e[s](wR(d,n,m))},error:e[s+1],complete:e[s+2]};else{const m=ll(n,ud);d=ll(m.firestore,Fc),f=m._query;const v=new Xw(d);l={next:w=>{e[s]&&e[s](new Mo(d,v,m,w))},error:e[s+1],complete:e[s+2]},gR(n._query)}return(function(v,w,E,I){const P=new oR(I),W=new B2(w,P,E);return v.asyncQueue.enqueueAndForget((async()=>M2(await Vy(v),W))),()=>{P.Nu(),v.asyncQueue.enqueueAndForget((async()=>V2(await Vy(v),W)))}})(Kw(d),f,o,l)}function _R(n,e){return(function(s,o){const l=new Ii;return s.asyncQueue.enqueueAndForget((async()=>X2(await uR(s),o,l))),l.promise})(Kw(n),e)}function wR(n,e,t){const s=t.docs.get(e._key),o=new Xw(n);return new Si(n,o,e._key,s,new il(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Zo=o})(Yo),gr(new Fn("firestore",((s,{instanceIdentifier:o,options:l})=>{const d=s.getProvider("app").getImmediate(),f=new Fc(new lA(s.getProvider("auth-internal")),new dA(d,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ve(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(v.options.projectId,w)})(d,o),d);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),kn(Q0,Y0,e),kn(Q0,Y0,"esm2020")})();const xR={apiKey:"AIzaSyA0SVw1K4_hDWsP7m0P2gZ_5JHAFhVnd2Y",authDomain:"stvimpletacao.firebaseapp.com",projectId:"stvimpletacao",storageBucket:"stvimpletacao.firebasestorage.app",messagingSenderId:"734167486178",appId:"1:734167486178:web:1261730912177d76b498bb",measurementId:"G-M5F9YWBTVP"},Dp=Tv(xR);let ER;try{ER=tA(Dp)}catch{console.log("Firebase Analytics not available")}o_(Dp);const zr=dR(Dp),ic="https://condominiosapi-zqa3bu55yq-uc.a.run.app";function TR(){const[n,e]=j.useState([]),[t,s]=j.useState(""),[o,l]=j.useState("TODAS");j.useEffect(()=>{const v=Ci(bi(zr,"historico"),w=>{const I=w.docs.map(P=>({id:P.id,...P.data()})).sort((P,W)=>new Date(W.dataHora).getTime()-new Date(P.dataHora).getTime());e(I)});return()=>v()},[]);const d=n.filter(v=>{const w=v.condominioNome.toLowerCase().includes(t.toLowerCase())||v.usuario.toLowerCase().includes(t.toLowerCase())||v.campo.toLowerCase().includes(t.toLowerCase()),E=o==="TODAS"||v.acao===o;return w&&E}),f=v=>{switch(v){case"CRIAO":return"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-700";case"EDIO":return"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-700";case"EXCLUSO":return"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-700";default:return"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-700/50 dark:text-gray-400 dark:border-gray-600"}},m=v=>{const w=new Date(v);return{date:w.toLocaleDateString("pt-BR"),time:w.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}};return p.jsx("div",{className:"p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:p.jsx(Cc,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-emerald-900 dark:text-emerald-100",children:"Histrico de Modificaes"}),p.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400",children:[d.length," registro",d.length!==1?"s":""," encontrado",d.length!==1?"s":""]})]})]})}),p.jsxs("div",{className:"mb-6 flex gap-4 flex-wrap",children:[p.jsxs("div",{className:"flex-1 min-w-[300px] relative",children:[p.jsx(Ni,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-[#0a6c45] dark:text-[#7BD955] w-5 h-5"}),p.jsx("input",{type:"text",placeholder:"Buscar no histrico...",value:t,onChange:v=>s(v.target.value),className:"w-full pl-12 pr-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 dark:bg-gray-700 dark:text-gray-100"})]}),p.jsxs("select",{value:o,onChange:v=>l(v.target.value),className:"px-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 bg-white dark:bg-gray-700 dark:text-gray-100",children:[p.jsx("option",{value:"TODAS",children:"Todas as Aes"}),p.jsx("option",{value:"CRIAO",children:"Criao"}),p.jsx("option",{value:"EDIO",children:"Edio"}),p.jsx("option",{value:"EXCLUSO",children:"Excluso"})]})]}),d.length===0?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-12 text-center",children:[p.jsx(Cc,{className:"w-16 h-16 text-emerald-300 dark:text-emerald-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-emerald-900 dark:text-emerald-100 mb-2",children:"Nenhum registro encontrado"}),p.jsx("p",{className:"text-emerald-600 dark:text-emerald-400",children:n.length===0?"O histrico de modificaes aparecer aqui.":"Tente ajustar os filtros de busca."})]}):p.jsx("div",{className:"space-y-4",children:d.map(v=>{const{date:w,time:E}=m(v.dataHora);return p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6 hover:shadow-xl transition-all",children:p.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("span",{className:`inline-block px-3 py-1 rounded-lg text-sm border ${f(v.acao)}`,children:v.acao}),p.jsx("h3",{className:"text-emerald-900 dark:text-emerald-100",children:v.condominioNome})]}),p.jsxs("div",{className:"flex items-center gap-4 text-emerald-600 dark:text-emerald-400 mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(np,{className:"w-4 h-4"}),p.jsx("span",{children:v.usuario})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(yl,{className:"w-4 h-4"}),p.jsxs("span",{children:[w," s ",E]})]})]}),p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(rS,{className:"w-4 h-4 text-emerald-400 dark:text-emerald-500 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 mb-1",children:[p.jsx("strong",{children:"Campo:"})," ",v.campo]}),v.acao==="EDIO"&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[p.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-xl",children:[p.jsx("p",{className:"text-red-700 dark:text-red-400 mb-1",children:"Valor Anterior:"}),p.jsx("p",{className:"text-red-900 dark:text-red-200",children:v.valorAnterior||"(vazio)"})]}),p.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-xl",children:[p.jsx("p",{className:"text-green-700 dark:text-green-400 mb-1",children:"Valor Novo:"}),p.jsx("p",{className:"text-green-900 dark:text-green-200",children:v.valorNovo||"(vazio)"})]})]}),(v.acao==="CRIAO"||v.acao==="EXCLUSO")&&p.jsx("div",{className:`p-3 rounded-xl mt-2 ${v.acao==="CRIAO"?"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700":"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700"}`,children:p.jsx("p",{className:`${v.acao==="CRIAO"?"text-green-900 dark:text-green-200":"text-red-900 dark:text-red-200"}`,children:v.valorNovo})})]})]})]})})},v.id)})})]})})}function kR({onViewBackup:n}){const[e,t]=j.useState([]),[s,o]=j.useState("");j.useEffect(()=>{const v=Ci(bi(zr,"backups"),w=>{const I=w.docs.map(P=>({id:P.id,...P.data()})).sort((P,W)=>new Date(W.atualizadoEm).getTime()-new Date(P.atualizadoEm).getTime());t(I)});return()=>v()},[]);const l=e.filter(v=>v.nomeCondominio.toLowerCase().includes(s.toLowerCase())),d=async(v,w)=>{window.confirm(`Tem certeza que deseja excluir o backup do condomnio "${w}"?`)&&await Jw(Ww(zr,"backups",v))},f=()=>{const v=JSON.stringify(e,null,2),w=new Blob([v],{type:"application/json"}),E=URL.createObjectURL(w),I=document.createElement("a");I.href=E,I.download=`backup-condominios-${new Date().toISOString().split("T")[0]}.json`,I.click(),URL.revokeObjectURL(E)},m=(v="")=>{v=v||"N/A";const w="inline-block px-2 py-1 rounded-lg text-sm border w-full text-center";switch(v){case"CONCLUDA":case"CONCLUDO":return`${w} bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-700`;case"EM ANDAMENTO":return`${w} bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-700`;case"NO INICIADA":case"A FAZER":return`${w} bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-700/50 dark:text-gray-400 dark:border-gray-600`;case"AGUARDANDO TCNICA":return`${w} bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-700`;case"SOLICITADAS":return`${w} bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-700`;default:return`${w} bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-700/50 dark:text-gray-400 dark:border-gray-600`}};return p.jsx("div",{className:"p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:p.jsx(Sc,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-emerald-900 dark:text-emerald-100",children:"Backup de Condomnios"}),p.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400",children:[l.length," condomnio",l.length!==1?"s":""," concludo",l.length!==1?"s":""," arquivado",l.length!==1?"s":""]})]})]}),e.length>0&&p.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-xl hover:from-purple-600 hover:to-indigo-700 transition-all shadow-lg hover:shadow-xl",children:[p.jsx(pf,{className:"w-5 h-5"}),p.jsx("span",{children:"Exportar Backup"})]})]}),p.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/30 border border-purple-200 dark:border-purple-700 rounded-xl p-4",children:p.jsxs("p",{className:"text-purple-900 dark:text-purple-200",children:[p.jsx("strong",{children:" Info:"}),' Esta aba armazena automaticamente todos os condomnios que atingem o status "CONCLUDA". Os dados so preservados mesmo se o condomnio original for editado ou excludo.']})})]}),p.jsx("div",{className:"mb-6",children:p.jsxs("div",{className:"relative",children:[p.jsx(Ni,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-purple-400 w-5 h-5"}),p.jsx("input",{type:"text",placeholder:"Buscar no backup...",value:s,onChange:v=>o(v.target.value),className:"w-full pl-12 pr-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500 dark:focus:ring-purple-400 dark:bg-gray-700 dark:text-gray-100"})]})}),l.length===0?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-12 text-center",children:[p.jsx(Sc,{className:"w-16 h-16 text-emerald-300 dark:text-emerald-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-emerald-900 dark:text-emerald-100 mb-2",children:"Nenhum backup encontrado"}),p.jsx("p",{className:"text-emerald-600 dark:text-emerald-400",children:e.length===0?'Os condomnios com status "CONCLUDA" sero automaticamente arquivados aqui.':"Tente ajustar o termo de busca."})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(v=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border-2 border-purple-200 dark:border-purple-700 p-6 hover:shadow-xl transition-all flex flex-col",children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-md mx-auto mb-3",children:p.jsx(Fo,{className:"w-8 h-8 text-white"})}),p.jsx("h3",{className:"text-emerald-900 dark:text-emerald-100 mb-1",children:v.nomeCondominio}),p.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400",children:["Conta: ",v.contaSituator||"N/A"]})]}),p.jsxs("div",{className:"space-y-3 mb-4 flex-1",children:[p.jsxs("p",{className:m(v.status),children:["Status: ",v.status||"N/A"]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("p",{className:m(v.cftv),children:["CFTV: ",v.cftv||"N/A"]}),p.jsxs("p",{className:m(v.vistorias),children:["Vistorias: ",v.vistorias||"N/A"]}),p.jsxs("p",{className:m(v.instalacao),children:["Instalao: ",v.instalacao||"N/A"]}),p.jsxs("p",{className:m(v.licencas),children:["Licenas: ",v.licencas||"N/A"]})]}),p.jsx("div",{className:"pt-3 border-t border-purple-100 dark:border-purple-700",children:p.jsxs("div",{className:"flex items-center gap-2 text-purple-600 dark:text-purple-300 text-sm",children:[p.jsx(yl,{className:"w-4 h-4"}),p.jsxs("span",{children:["Arquivado em: ",new Date(v.atualizadoEm).toLocaleDateString("pt-BR")]})]})})]}),p.jsxs("div",{className:"flex gap-2 pt-4 border-t border-purple-100 dark:border-purple-700",children:[p.jsxs("button",{onClick:()=>n(v),className:"flex-1 p-3 text-purple-600 dark:text-purple-300 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-xl transition-all flex items-center justify-center gap-2",title:"Visualizar",children:[p.jsx(u_,{className:"w-4 h-4"})," ",p.jsx("span",{children:"Ver"})]}),p.jsx("button",{onClick:()=>d(v.id,v.nomeCondominio),className:"p-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-xl transition-all",title:"Excluir do Backup",children:p.jsx(_l,{className:"w-5 h-5"})})]})]},v.id))})]})})}const Zw=j.createContext(null);function IR({children:n}){const[e,t]=j.useState(()=>localStorage.getItem("densidade")||"normal"),[s,o]=j.useState(()=>localStorage.getItem("tamanhoFonte")||"medio"),[l,d]=j.useState(()=>localStorage.getItem("modoEscuro")==="true"),f=w=>{t(w),localStorage.setItem("densidade",w)},m=w=>{o(w),localStorage.setItem("tamanhoFonte",w)},v=w=>{d(w),localStorage.setItem("modoEscuro",String(w))};return j.useEffect(()=>{const w=document.documentElement;w.setAttribute("data-densidade",e);const E={"extra-pequeno":"12px",pequeno:"14px",medio:"16px",grande:"18px"};w.style.fontSize=E[s],l?w.classList.add("dark"):w.classList.remove("dark")},[e,s,l]),p.jsx(Zw.Provider,{value:{densidade:e,tamanhoFonte:s,modoEscuro:l,setDensidade:f,setTamanhoFonte:m,setModoEscuro:v},children:n})}function bR(){const n=j.useContext(Zw);if(!n)throw new Error("useConfiguracoes must be used within ConfiguracoesProvider");return n}function SR({onClose:n}){const[e,t]=j.useState([]),[s,o]=j.useState([]),[l,d]=j.useState(""),[f,m]=j.useState("todos"),[v,w]=j.useState([]);return j.useEffect(()=>{const E=Ci(bi(zr,"historico"),I=>{const P=I.docs.map(L=>({id:L.id,...L.data()})),W=P.sort((L,Q)=>new Date(Q.dataHora).getTime()-new Date(L.dataHora).getTime());t(W),o(W);const B=Array.from(new Set(P.map(L=>L.usuario)));w(B)});return()=>E()},[]),j.useEffect(()=>{let E=e;if(f!=="todos"&&(E=E.filter(I=>I.usuario===f)),l){const I=l.toLowerCase();E=E.filter(P=>P.condominioNome.toLowerCase().includes(I)||P.campo.toLowerCase().includes(I)||P.valorAnterior&&P.valorAnterior.toLowerCase().includes(I)||P.valorNovo&&P.valorNovo.toLowerCase().includes(I))}o(E)},[l,f,e]),p.jsx("div",{className:"fixed inset-0 bg-white dark:bg-gray-900 z-50 overflow-y-auto",children:p.jsx("div",{className:"p-4 lg:p-8",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("button",{onClick:n,className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg hover:from-amber-600 hover:to-orange-700 transition-all",children:p.jsx(tp,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-emerald-900 dark:text-gray-100",children:"Histrico de Alteraes"}),p.jsxs("p",{className:"text-emerald-600 dark:text-gray-400",children:[s.length," ",s.length===1?"alterao encontrada":"alteraes encontradas"]})]})]})}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6 mb-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Ni,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-emerald-400 dark:text-gray-500"}),p.jsx("input",{type:"text",value:l,onChange:E=>d(E.target.value),placeholder:"Buscar por condomnio ou campo...",className:"w-full pl-10 pr-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:bg-gray-700 dark:text-gray-100"})]}),p.jsxs("select",{value:f,onChange:E=>m(E.target.value),className:"px-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:bg-gray-700 dark:text-gray-100",children:[p.jsx("option",{value:"todos",children:"Todos os usurios"}),v.map(E=>p.jsx("option",{value:E,children:E},E))]})]})}),p.jsx("div",{className:"space-y-4",children:s.length===0?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-12 text-center",children:[p.jsx(Cc,{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhuma alterao encontrada"}),(l||f!=="todos")&&p.jsx("button",{onClick:()=>{d(""),m("todos")},className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-all",children:"Limpar filtros"})]}):s.map(E=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"text-emerald-900 dark:text-gray-100 mb-1",children:E.condominioNome}),p.jsxs("p",{className:"text-emerald-600 dark:text-gray-400",children:[p.jsx("span",{className:"font-medium",children:E.campo})," alterado"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-emerald-700 dark:text-gray-300",children:new Date(E.dataHora).toLocaleDateString("pt-BR")}),p.jsx("p",{className:"text-emerald-600 dark:text-gray-400",children:new Date(E.dataHora).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4 p-4 bg-emerald-50 dark:bg-gray-700/50 rounded-xl",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-emerald-600 dark:text-gray-400 mb-1",children:"Valor Anterior:"}),p.jsx("p",{className:"text-emerald-900 dark:text-gray-100",children:E.valorAnterior||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-emerald-600 dark:text-gray-400 mb-1",children:"Valor Novo:"}),p.jsx("p",{className:"text-emerald-900 dark:text-gray-100",children:E.valorNovo||"-"})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"px-3 py-1 bg-emerald-600 text-white rounded-lg",children:E.usuario}),p.jsx("span",{className:"text-emerald-600 dark:text-gray-400",children:E.acao})]})]},E.id))})]})})})}function CR({onViewBackup:n,onDeleteBackup:e,onClose:t}){const[s,o]=j.useState([]),[l,d]=j.useState([]),[f,m]=j.useState("");return j.useEffect(()=>{const v=Ci(bi(zr,"backups"),w=>{const I=w.docs.map(P=>({id:P.id,...P.data()})).sort((P,W)=>new Date(W.atualizadoEm||0).getTime()-new Date(P.atualizadoEm||0).getTime());o(I)});return()=>v()},[]),j.useEffect(()=>{let v=s;if(f){const w=f.toLowerCase();v=v.filter(E=>E.nomeCondominio.toLowerCase().includes(w))}d(v)},[f,s]),p.jsx("div",{className:"fixed inset-0 bg-white dark:bg-gray-900 z-50 overflow-y-auto",children:p.jsx("div",{className:"p-4 lg:p-8",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("button",{onClick:t,className:"w-12 h-12 bg-gradient-to-br from-gray-500 to-gray-700 rounded-xl flex items-center justify-center shadow-lg hover:from-gray-600 hover:to-gray-800 transition-all",children:p.jsx(tp,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h1",{className:"text-emerald-900 dark:text-gray-100",children:"Backups"}),p.jsxs("p",{className:"text-emerald-600 dark:text-gray-400",children:[l.length," ",l.length===1?"backup encontrado":"backups encontrados"]})]})]})}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6 mb-6",children:p.jsxs("div",{className:"relative",children:[p.jsx(Ni,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-emerald-400 dark:text-gray-500"}),p.jsx("input",{type:"text",value:f,onChange:v=>m(v.target.value),placeholder:"Buscar por condomnio...",className:"w-full pl-10 pr-4 py-3 border border-emerald-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:bg-gray-700 dark:text-gray-100"})]})}),p.jsx("div",{className:"space-y-4",children:l.length===0?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-12 text-center",children:[p.jsx(Sc,{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Nenhum backup encontrado"}),f&&p.jsx("button",{onClick:()=>m(""),className:"mt-4 px-4 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-all",children:"Limpar busca"})]}):l.map(v=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Fo,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),p.jsx("h4",{className:"text-emerald-900 dark:text-gray-100",children:v.nomeCondominio})]}),p.jsx("p",{className:"text-emerald-600 dark:text-gray-400",children:"Backup do condomnio concludo"})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"flex items-center gap-2 justify-end mb-1",children:[p.jsx(yl,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),p.jsx("p",{className:"text-emerald-700 dark:text-gray-300",children:new Date(v.atualizadoEm||"").toLocaleDateString("pt-BR")})]}),p.jsx("p",{className:"text-emerald-600 dark:text-gray-400",children:new Date(v.atualizadoEm||"").toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>{n(v),t()},className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition-all shadow-md hover:shadow-lg",children:[p.jsx(u_,{className:"w-4 h-4"}),p.jsx("span",{children:"Visualizar"})]}),p.jsxs("button",{onClick:()=>e(v.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all shadow-md hover:shadow-lg",children:[p.jsx(_l,{className:"w-4 h-4"}),p.jsx("span",{children:"Excluir"})]})]})]},v.id))})]})})})}function AR({onViewBackup:n}){const{setDensidade:e,setTamanhoFonte:t,setModoEscuro:s}=bR(),[o,l]=j.useState([]),[d,f]=j.useState([]),[m,v]=j.useState([]),[w,E]=j.useState(!1),[I,P]=j.useState(!1);j.useEffect(()=>{const L=Ci(bi(zr,"condominios"),Y=>{l(Y.docs.map(ie=>({id:ie.id,...ie.data()})))}),Q=Ci(bi(zr,"historico"),Y=>{f(Y.docs.map(ie=>({id:ie.id,...ie.data()})))}),X=Ci(bi(zr,"backups"),Y=>{v(Y.docs.map(ie=>({id:ie.id,...ie.data()})))});return()=>{L(),Q(),X()}},[]);const W=async L=>{window.confirm("Tem certeza que deseja excluir este backup? Esta ao no pode ser desfeita.")&&await Jw(Ww(zr,"backups",L))},B=()=>{const L=["Nome","Link Cadastro","Status","Ramais","CFTV","Conta Situator","Configurao Situator","Licenas","App STV","Data Implantao","Observaes","Vistorias","Parametrizao","Instalao","Testes Tcnico"],Q=o.map(H=>[H.nomeCondominio,H.linkCadastro||"",H.status,H.ramais.join(", "),H.cftv,H.contaSituator||"",H.configuracaoSituator||"",H.licencas,H.appStv||"",H.dataImplantacao||"",H.observacoes||"",H.vistorias,H.parametrizacao||"",H.instalacao,H.testesTecnico||""].map(A=>`"${String(A).replace(/"/g,'""')}"`)),X=[L.join(","),...Q.map(H=>H.join(","))].join(`
`),Y=new Blob(["\uFEFF"+X],{type:"text/csv;charset=utf-8;"}),ie=document.createElement("a"),be=URL.createObjectURL(Y);ie.setAttribute("href",be),ie.setAttribute("download",`condominios_${new Date().toISOString().split("T")[0]}.csv`),ie.style.visibility="hidden",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)};return p.jsxs(p.Fragment,{children:[w&&p.jsx(SR,{onClose:()=>E(!1)}),I&&p.jsx(CR,{onViewBackup:n,onDeleteBackup:W,onClose:()=>P(!1)}),p.jsx("div",{className:"p-4 lg:p-8",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:p.jsx(gf,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-emerald-900 dark:text-gray-100",children:"Configuraes"}),p.jsx("p",{className:"text-emerald-600 dark:text-gray-400",children:"Personalize sua experincia e gerencie os dados"})]})]})}),p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-xl flex items-center justify-center",children:p.jsx(Cc,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-emerald-900 dark:text-gray-100",children:"Histrico de Alteraes"}),p.jsxs("p",{className:"text-emerald-600 dark:text-gray-400",children:[d.length," ",d.length===1?"alterao registrada":"alteraes registradas"]})]})]}),p.jsxs("button",{onClick:()=>E(!0),className:"px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl hover:from-amber-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[p.jsx(Ni,{className:"w-5 h-5"}),p.jsx("span",{children:"Buscar"})]})]})}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gray-500 dark:bg-gray-700 rounded-xl flex items-center justify-center",children:p.jsx(Sc,{className:"w-5 h-5 text-white"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-emerald-900 dark:text-gray-100",children:"Backups"}),p.jsxs("p",{className:"text-emerald-600 dark:text-gray-400",children:[m.length," ",m.length===1?"backup":"backups"]})]})]}),p.jsxs("button",{onClick:()=>P(!0),className:"px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-700 text-white rounded-xl hover:from-gray-600 hover:to-gray-800 transition-all shadow-lg hover:shadow-xl flex items-center gap-2",children:[p.jsx(Ni,{className:"w-5 h-5"}),p.jsx("span",{children:"Buscar"})]})]})}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-emerald-100 dark:border-gray-700 p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:p.jsx(pf,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-emerald-900 dark:text-gray-100",children:"Exportar Dados"}),p.jsx("p",{className:"text-emerald-600 dark:text-gray-400",children:"Baixe os dados dos condomnios em formato CSV"})]})]}),p.jsxs("button",{onClick:B,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all shadow-lg hover:shadow-xl",children:[p.jsx(pf,{className:"w-5 h-5"}),p.jsx("span",{children:"Exportar Condomnios (CSV)"})]})]})]})]})})]})}function NR(){const{user:n}=Vi(),[e,t]=j.useState("dashboard"),[s,o]=j.useState([]),[l,d]=j.useState(null),[f,m]=j.useState(!0),[v,w]=j.useState(null),E=j.useCallback(async()=>{m(!0),w(null);try{const Y=await fetch(`${ic}/condominios`);if(!Y.ok)throw new Error(`HTTP error! status: ${Y.status}`);const ie=await Y.json();o(ie)}catch(Y){w(Y.message||"Failed to fetch condominios")}finally{m(!1)}},[]);j.useEffect(()=>{E()},[E]);const I=()=>{d(null),t("form")},P=Y=>{d(Y),t("form")},W=async Y=>{const ie=!!l,be=ie?`${ic}/condominios/${Y.id}`:`${ic}/condominios`,H=ie?"PUT":"POST";try{const A={...Y};ie||delete A.id;const k=await fetch(be,{method:H,headers:{"Content-Type":"application/json","x-user-name":n?.email||"system","x-user-role":"ADM"},body:JSON.stringify(A)});if(!k.ok)throw new Error(`Failed to save condominio: ${k.statusText}`);await E(),t("list"),d(null)}catch(A){console.error("Error saving condominio:",A),alert(`Error saving: ${A.message}`)}},B=()=>{t("list"),d(null)},L=async Y=>{if(window.confirm("Tem certeza que deseja excluir este condomnio?"))try{const ie=await fetch(`${ic}/condominios/${Y}`,{method:"DELETE",headers:{"x-user-role":"ADM"}});if(!ie.ok)throw new Error(`Failed to delete condominio: ${ie.statusText}`);await E()}catch(ie){console.error("Error deleting condominio:",ie),alert(`Error deleting: ${ie.message}`)}},Q=Y=>{d(Y),t("form")},X=()=>{if(f)return p.jsx("div",{className:"flex items-center justify-center h-full",children:"Loading..."});if(v)return p.jsxs("div",{className:"flex items-center justify-center h-full text-red-500",children:["Error: ",v]});switch(e){case"dashboard":return p.jsx(jS,{condominios:s});case"list":return p.jsx(LS,{condominios:s,onEdit:P,onDelete:L});case"form":return p.jsx(cr,{roles:["ADM","MONITORAMENTO","TECNICO","ANALISADOR"],children:p.jsx(yf,{condominio:l,onSave:W,onCancel:B})});case"historico":return p.jsx(cr,{roles:["ADM","MONITORAMENTO"],children:p.jsx(TR,{})});case"backup":return p.jsx(cr,{roles:["ADM"],children:p.jsx(kR,{onViewBackup:Q})});case"configuracoes":return p.jsx(cr,{roles:["ADM"],children:p.jsx(AR,{onViewBackup:Q})});default:return null}};return p.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-emerald-50 via-green-50 to-teal-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[p.jsx(OS,{currentView:e,onViewChange:t,onAddCondominio:I}),p.jsx("main",{className:"flex-1 overflow-auto pb-20 lg:pb-0",children:X()})]})}function RR(){const[n,e]=j.useState(""),[t,s]=j.useState(""),[o,l]=j.useState(""),{login:d}=Vi(),f=async m=>{if(m.preventDefault(),l(""),!n||!t){l("Por favor, preencha todos os campos");return}try{await d(n,t)}catch(v){l("Email ou senha invlidos. Por favor, tente novamente."),console.error("Login error:",v)}};return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#7BD955] via-[#0a6c45] to-[#004d32] dark:from-gray-900 dark:via-[#0a6c45] dark:to-gray-900 flex items-center justify-center p-4 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-[#7BD955] rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"}),p.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-yellow-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse delay-700"}),p.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-emerald-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse delay-1000"}),p.jsxs("div",{className:"w-full max-w-md relative z-10",children:[p.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[p.jsx("div",{className:"bg-white dark:bg-gray-800/50 rounded-3xl p-4 md:p-6 shadow-2xl backdrop-blur-sm mb-6",children:p.jsx("img",{src:c_,alt:"STV Implantao",className:"w-full max-w-sm mx-auto"})}),p.jsx("p",{className:"text-white dark:text-gray-100 text-lg md:text-xl drop-shadow-lg",children:"Faa login para continuar"})]}),p.jsx("div",{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl rounded-3xl shadow-2xl p-6 md:p-8 border border-white/20 dark:border-gray-700/50",children:p.jsxs("form",{onSubmit:f,className:"space-y-5 md:space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-gray-700 dark:text-gray-200 mb-2 ml-1",children:"Email"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-all group-focus-within:scale-110",children:p.jsx(fS,{className:"h-5 w-5 text-[#7BD955] dark:text-[#7BD955]"})}),p.jsx("input",{id:"email",type:"email",value:n,onChange:m=>e(m.target.value),className:"w-full pl-12 pr-4 py-3.5 md:py-4 border-2 border-gray-200 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#7BD955] focus:border-[#7BD955] transition-all bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder:text-gray-400",placeholder:"Digite seu email"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-gray-700 dark:text-gray-200 mb-2 ml-1",children:"Senha"}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none transition-all group-focus-within:scale-110",children:p.jsx(cS,{className:"h-5 w-5 text-[#7BD955] dark:text-[#7BD955]"})}),p.jsx("input",{id:"password",type:"password",value:t,onChange:m=>s(m.target.value),className:"w-full pl-12 pr-4 py-3.5 md:py-4 border-2 border-gray-200 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#7BD955] focus:border-[#7BD955] transition-all bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder:text-gray-400",placeholder:"Digite sua senha"})]})]}),o&&p.jsxs("div",{className:"flex items-center gap-2 p-3.5 bg-red-50 dark:bg-red-900/30 border-2 border-red-300 dark:border-red-700 rounded-2xl text-red-700 dark:text-red-300 shadow-lg",children:[p.jsx(vl,{className:"h-5 w-5 flex-shrink-0"}),p.jsx("span",{children:o})]}),p.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-[#7BD955] via-[#0a6c45] to-[#004d32] text-white py-4 md:py-4.5 rounded-2xl hover:shadow-2xl hover:scale-[1.02] active:scale-[0.98] transition-all shadow-xl border border-white/20",children:p.jsx("span",{className:"drop-shadow-md",children:"Entrar"})})]})})]})]})}function PR(){return p.jsx(IR,{children:p.jsx(Db,{children:p.jsx(C1,{children:p.jsx(DR,{})})})})}function DR(){const{user:n,loading:e}=Vi();return e?p.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:p.jsx("div",{className:"loader"})}):p.jsxs(i1,{children:[p.jsx(Za,{path:"/login",element:n?p.jsx(Xu,{to:"/"}):p.jsx(RR,{})}),p.jsx(Za,{path:"/",element:n?p.jsx(NR,{}):p.jsx(Xu,{to:"/login"})}),p.jsx(Za,{path:"/form",element:n?p.jsx(yf,{onSuccess:()=>{}}):p.jsx(Xu,{to:"/login"})}),p.jsx(Za,{path:"/form/:id",element:n?p.jsx(yf,{onSuccess:()=>{}}):p.jsx(Xu,{to:"/login"})})]})}pE.createRoot(document.getElementById("root")).render(p.jsx(PR,{}));
